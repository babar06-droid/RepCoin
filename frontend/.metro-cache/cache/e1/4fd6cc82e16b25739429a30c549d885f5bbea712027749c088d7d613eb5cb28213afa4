{"dependencies":[{"name":"../../engine/topology","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":286},"end":{"line":10,"column":46,"index":332}}],"key":"rjLWMJbesmUIFpjDSlVWtBpuZL0=","exportNames":["*"],"imports":1}},{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":333},"end":{"line":11,"column":70,"index":403}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../../utils/types_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":404},"end":{"line":12,"column":62,"index":466}}],"key":"KNLCITfwnGLaGBjQ0rMvbYdxCWo=","exportNames":["*"],"imports":1}},{"name":"../../backend/tfjs_backend","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":467},"end":{"line":13,"column":48,"index":515}}],"key":"xUnvOWBkNHpMyFMNlJ5A/sZLhS0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"Rescaling\", {\n    enumerable: true,\n    get: function () {\n      return Rescaling;\n    }\n  });\n  var _engineTopology = require(_dependencyMap[0], \"../../engine/topology\");\n  var _tensorflowTfjsCore = require(_dependencyMap[1], \"@tensorflow/tfjs-core\");\n  var _utilsTypes_utils = require(_dependencyMap[2], \"../../utils/types_utils\");\n  var _backendTfjs_backend = require(_dependencyMap[3], \"../../backend/tfjs_backend\");\n  var K = _interopNamespace(_backendTfjs_backend);\n  /**\n   * @license\n   * Copyright 2022 CodeSmith LLC\n   *\n   * Use of this source code is governed by an MIT-style\n   * license that can be found in the LICENSE file or at\n   * https://opensource.org/licenses/MIT.\n   * =============================================================================\n   */\n\n  /**\n   * Preprocessing Rescaling Layer\n   *\n   * This rescales images by a scaling and offset factor\n   */\n  class Rescaling extends _engineTopology.Layer {\n    constructor(args) {\n      super(args);\n      this.scale = args.scale;\n      if (args.offset) {\n        this.offset = args.offset;\n      } else {\n        this.offset = 0;\n      }\n    }\n    getConfig() {\n      const config = {\n        'scale': this.scale,\n        'offset': this.offset\n      };\n      const baseConfig = super.getConfig();\n      Object.assign(config, baseConfig);\n      return config;\n    }\n    call(inputs, kwargs) {\n      return (0, _tensorflowTfjsCore.tidy)(() => {\n        inputs = (0, _utilsTypes_utils.getExactlyOneTensor)(inputs);\n        if (inputs.dtype !== 'float32') {\n          inputs = K.cast(inputs, 'float32');\n        }\n        return (0, _tensorflowTfjsCore.add)((0, _tensorflowTfjsCore.mul)(inputs, this.scale), this.offset);\n      });\n    }\n  }\n  /** @nocollapse */\n  Rescaling.className = 'Rescaling';\n  _tensorflowTfjsCore.serialization.registerClass(Rescaling);\n});","lineCount":80,"map":[[22,2,51,0,"Object"],[22,8,51,0],[22,9,51,0,"defineProperty"],[22,23,51,0],[22,24,51,0,"exports"],[22,31,51,0],[23,4,51,0,"enumerable"],[23,14,51,0],[24,4,51,0,"get"],[24,7,51,0],[24,18,51,0,"get"],[24,19,51,0],[25,6,51,0],[25,13,51,9,"Rescaling"],[25,22,51,18],[26,4,51,18],[27,2,51,18],[28,2,10,0],[28,6,10,0,"_engineTopology"],[28,21,10,0],[28,24,10,0,"require"],[28,31,10,0],[28,32,10,0,"_dependencyMap"],[28,46,10,0],[29,2,11,0],[29,6,11,0,"_tensorflowTfjsCore"],[29,25,11,0],[29,28,11,0,"require"],[29,35,11,0],[29,36,11,0,"_dependencyMap"],[29,50,11,0],[30,2,12,0],[30,6,12,0,"_utilsTypes_utils"],[30,23,12,0],[30,26,12,0,"require"],[30,33,12,0],[30,34,12,0,"_dependencyMap"],[30,48,12,0],[31,2,13,0],[31,6,13,0,"_backendTfjs_backend"],[31,26,13,0],[31,29,13,0,"require"],[31,36,13,0],[31,37,13,0,"_dependencyMap"],[31,51,13,0],[32,2,13,0],[32,6,13,0,"K"],[32,7,13,0],[32,10,13,0,"_interopNamespace"],[32,27,13,0],[32,28,13,0,"_backendTfjs_backend"],[32,48,13,0],[33,2,1,0],[34,0,2,0],[35,0,3,0],[36,0,4,0],[37,0,5,0],[38,0,6,0],[39,0,7,0],[40,0,8,0],[41,0,9,0],[43,2,14,0],[44,0,15,0],[45,0,16,0],[46,0,17,0],[47,0,18,0],[48,2,19,0],[48,8,19,6,"Rescaling"],[48,17,19,15],[48,26,19,24,"Layer"],[48,41,19,29],[48,42,19,29,"Layer"],[48,47,19,29],[48,48,19,30],[49,4,20,4,"constructor"],[49,15,20,15,"constructor"],[49,16,20,16,"args"],[49,20,20,20],[49,22,20,22],[50,6,21,8],[50,11,21,13],[50,12,21,14,"args"],[50,16,21,18],[50,17,21,19],[51,6,22,8],[51,10,22,12],[51,11,22,13,"scale"],[51,16,22,18],[51,19,22,21,"args"],[51,23,22,25],[51,24,22,26,"scale"],[51,29,22,31],[52,6,23,8],[52,10,23,12,"args"],[52,14,23,16],[52,15,23,17,"offset"],[52,21,23,23],[52,23,23,25],[53,8,24,12],[53,12,24,16],[53,13,24,17,"offset"],[53,19,24,23],[53,22,24,26,"args"],[53,26,24,30],[53,27,24,31,"offset"],[53,33,24,37],[54,6,25,8],[54,7,25,9],[54,13,26,13],[55,8,27,12],[55,12,27,16],[55,13,27,17,"offset"],[55,19,27,23],[55,22,27,26],[55,23,27,27],[56,6,28,8],[57,4,29,4],[58,4,30,4,"getConfig"],[58,13,30,13,"getConfig"],[58,14,30,13],[58,16,30,16],[59,6,31,8],[59,12,31,14,"config"],[59,18,31,20],[59,21,31,23],[60,8,32,12],[60,15,32,19],[60,17,32,21],[60,21,32,25],[60,22,32,26,"scale"],[60,27,32,31],[61,8,33,12],[61,16,33,20],[61,18,33,22],[61,22,33,26],[61,23,33,27,"offset"],[62,6,34,8],[62,7,34,9],[63,6,35,8],[63,12,35,14,"baseConfig"],[63,22,35,24],[63,25,35,27],[63,30,35,32],[63,31,35,33,"getConfig"],[63,40,35,42],[63,41,35,43],[63,42,35,44],[64,6,36,8,"Object"],[64,12,36,14],[64,13,36,15,"assign"],[64,19,36,21],[64,20,36,22,"config"],[64,26,36,28],[64,28,36,30,"baseConfig"],[64,38,36,40],[64,39,36,41],[65,6,37,8],[65,13,37,15,"config"],[65,19,37,21],[66,4,38,4],[67,4,39,4,"call"],[67,8,39,8,"call"],[67,9,39,9,"inputs"],[67,15,39,15],[67,17,39,17,"kwargs"],[67,23,39,23],[67,25,39,25],[68,6,40,8],[68,13,40,15],[68,17,40,15,"tidy"],[68,36,40,19],[68,37,40,19,"tidy"],[68,41,40,19],[68,43,40,20],[68,49,40,26],[69,8,41,12,"inputs"],[69,14,41,18],[69,17,41,21],[69,21,41,21,"getExactlyOneTensor"],[69,38,41,40],[69,39,41,40,"getExactlyOneTensor"],[69,58,41,40],[69,60,41,41,"inputs"],[69,66,41,47],[69,67,41,48],[70,8,42,12],[70,12,42,16,"inputs"],[70,18,42,22],[70,19,42,23,"dtype"],[70,24,42,28],[70,29,42,33],[70,38,42,42],[70,40,42,44],[71,10,43,16,"inputs"],[71,16,43,22],[71,19,43,25,"K"],[71,20,43,26],[71,21,43,27,"cast"],[71,25,43,31],[71,26,43,32,"inputs"],[71,32,43,38],[71,34,43,40],[71,43,43,49],[71,44,43,50],[72,8,44,12],[73,8,45,12],[73,15,45,19],[73,19,45,19,"add"],[73,38,45,22],[73,39,45,22,"add"],[73,42,45,22],[73,44,45,23],[73,48,45,23,"mul"],[73,67,45,26],[73,68,45,26,"mul"],[73,71,45,26],[73,73,45,27,"inputs"],[73,79,45,33],[73,81,45,35],[73,85,45,39],[73,86,45,40,"scale"],[73,91,45,45],[73,92,45,46],[73,94,45,48],[73,98,45,52],[73,99,45,53,"offset"],[73,105,45,59],[73,106,45,60],[74,6,46,8],[74,7,46,9],[74,8,46,10],[75,4,47,4],[76,2,48,0],[77,2,49,0],[78,2,50,0,"Rescaling"],[78,11,50,9],[78,12,50,10,"className"],[78,21,50,19],[78,24,50,22],[78,35,50,33],[79,2,52,0,"serialization"],[79,21,52,13],[79,22,52,13,"serialization"],[79,35,52,13],[79,36,52,14,"registerClass"],[79,49,52,27],[79,50,52,28,"Rescaling"],[79,59,52,37],[79,60,52,38],[80,0,52,39],[80,3]],"functionMap":{"names":["<global>","Rescaling","Rescaling#constructor","Rescaling#getConfig","Rescaling#call","tidy$argument_0"],"mappings":"AAA;ACkB;ICC;KDS;IEC;KFQ;IGC;oBCC;SDM;KHC;CDC"},"hasCjsExports":false},"type":"js/module"}]}