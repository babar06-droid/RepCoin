{"dependencies":[{"name":"../engine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":35,"index":738}}],"key":"zbTTi8rtwr8rjl75PzEo829Yvss=","exportNames":["*"],"imports":1}},{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":739},"end":{"line":18,"column":39,"index":778}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":779},"end":{"line":19,"column":53,"index":832}}],"key":"UCKDOr/oOGi3nbD26ZhyAVW61qk=","exportNames":["*"],"imports":1}},{"name":"./operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":833},"end":{"line":20,"column":33,"index":866}}],"key":"lmmEAb6oR3TWnrsrETceKUovfkM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"topk\", {\n    enumerable: true,\n    get: function () {\n      return topk;\n    }\n  });\n  var _engine = require(_dependencyMap[0], \"../engine\");\n  var _kernel_names = require(_dependencyMap[1], \"../kernel_names\");\n  var _tensor_util_env = require(_dependencyMap[2], \"../tensor_util_env\");\n  var _operation = require(_dependencyMap[3], \"./operation\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Finds the values and indices of the `k` largest entries along the last\n   * dimension.\n   *\n   * If the input is a vector (rank=1), finds the k largest entries in the vector\n   * and outputs their values and indices as vectors. Thus values[j] is the j-th\n   * largest entry in input, and its index is indices[j].\n   * For higher rank inputs, computes the top k entries along the last dimension.\n   *\n   * If two elements are equal, the lower-index element appears first.\n   *\n   * ```js\n   * const a = tf.tensor2d([[1, 5], [4, 3]]);\n   * const {values, indices} = tf.topk(a);\n   * values.print();\n   * indices.print();\n   * ```\n   * @param x 1-D or higher `tf.Tensor` with last dimension being at least `k`.\n   * @param k Number of top elements to look for along the last dimension.\n   * @param sorted If true, the resulting `k` elements will be sorted by the\n   *     values in descending order.\n   *\n   * @doc {heading: 'Operations', subheading: 'Evaluation'}\n   */\n  function topk_(x, k = 1, sorted = true) {\n    const $x = (0, _tensor_util_env.convertToTensor)(x, 'x', 'topk');\n    if ($x.rank === 0) {\n      throw new Error('topk() expects the input to be of rank 1 or higher');\n    }\n    const lastDim = $x.shape[$x.shape.length - 1];\n    if (k < 0) {\n      throw new Error(`'k' passed to topk() must be >= 0 but got ${k}`);\n    }\n    if (k > lastDim) {\n      throw new Error(`'k' passed to topk() must be <= the last dimension (${lastDim}) ` + `but got ${k}`);\n    }\n    const inputs = {\n      x: $x\n    };\n    const attrs = {\n      k,\n      sorted\n    };\n    const [values, indices] = _engine.ENGINE.runKernel(_kernel_names.TopK, inputs, attrs);\n    return {\n      values,\n      indices\n    };\n  }\n  const topk = /* @__PURE__ */(0, _operation.op)({\n    topk_\n  });\n});","lineCount":86,"map":[[7,2,63,0,"Object"],[7,8,63,0],[7,9,63,0,"defineProperty"],[7,23,63,0],[7,24,63,0,"exports"],[7,31,63,0],[8,4,63,0,"enumerable"],[8,14,63,0],[9,4,63,0,"get"],[9,7,63,0],[9,18,63,0,"get"],[9,19,63,0],[10,6,63,0],[10,13,63,0,"topk"],[10,17,63,0],[11,4,63,0],[12,2,63,0],[13,2,17,0],[13,6,17,0,"_engine"],[13,13,17,0],[13,16,17,0,"require"],[13,23,17,0],[13,24,17,0,"_dependencyMap"],[13,38,17,0],[14,2,18,0],[14,6,18,0,"_kernel_names"],[14,19,18,0],[14,22,18,0,"require"],[14,29,18,0],[14,30,18,0,"_dependencyMap"],[14,44,18,0],[15,2,19,0],[15,6,19,0,"_tensor_util_env"],[15,22,19,0],[15,25,19,0,"require"],[15,32,19,0],[15,33,19,0,"_dependencyMap"],[15,47,19,0],[16,2,20,0],[16,6,20,0,"_operation"],[16,16,20,0],[16,19,20,0,"require"],[16,26,20,0],[16,27,20,0,"_dependencyMap"],[16,41,20,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[34,2,21,0],[35,0,22,0],[36,0,23,0],[37,0,24,0],[38,0,25,0],[39,0,26,0],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,0,41,0],[55,0,42,0],[56,0,43,0],[57,0,44,0],[58,2,45,0],[58,11,45,9,"topk_"],[58,16,45,14,"topk_"],[58,17,45,15,"x"],[58,18,45,16],[58,20,45,18,"k"],[58,21,45,19],[58,24,45,22],[58,25,45,23],[58,27,45,25,"sorted"],[58,33,45,31],[58,36,45,34],[58,40,45,38],[58,42,45,40],[59,4,46,4],[59,10,46,10,"$x"],[59,12,46,12],[59,15,46,15],[59,19,46,15,"convertToTensor"],[59,35,46,30],[59,36,46,30,"convertToTensor"],[59,51,46,30],[59,53,46,31,"x"],[59,54,46,32],[59,56,46,34],[59,59,46,37],[59,61,46,39],[59,67,46,45],[59,68,46,46],[60,4,47,4],[60,8,47,8,"$x"],[60,10,47,10],[60,11,47,11,"rank"],[60,15,47,15],[60,20,47,20],[60,21,47,21],[60,23,47,23],[61,6,48,8],[61,12,48,14],[61,16,48,18,"Error"],[61,21,48,23],[61,22,48,24],[61,74,48,76],[61,75,48,77],[62,4,49,4],[63,4,50,4],[63,10,50,10,"lastDim"],[63,17,50,17],[63,20,50,20,"$x"],[63,22,50,22],[63,23,50,23,"shape"],[63,28,50,28],[63,29,50,29,"$x"],[63,31,50,31],[63,32,50,32,"shape"],[63,37,50,37],[63,38,50,38,"length"],[63,44,50,44],[63,47,50,47],[63,48,50,48],[63,49,50,49],[64,4,51,4],[64,8,51,8,"k"],[64,9,51,9],[64,12,51,12],[64,13,51,13],[64,15,51,15],[65,6,52,8],[65,12,52,14],[65,16,52,18,"Error"],[65,21,52,23],[65,22,52,24],[65,67,52,69,"k"],[65,68,52,70],[65,70,52,72],[65,71,52,73],[66,4,53,4],[67,4,54,4],[67,8,54,8,"k"],[67,9,54,9],[67,12,54,12,"lastDim"],[67,19,54,19],[67,21,54,21],[68,6,55,8],[68,12,55,14],[68,16,55,18,"Error"],[68,21,55,23],[68,22,55,24],[68,77,55,79,"lastDim"],[68,84,55,86],[68,88,55,90],[68,91,56,12],[68,102,56,23,"k"],[68,103,56,24],[68,105,56,26],[68,106,56,27],[69,4,57,4],[70,4,58,4],[70,10,58,10,"inputs"],[70,16,58,16],[70,19,58,19],[71,6,58,21,"x"],[71,7,58,22],[71,9,58,24,"$x"],[72,4,58,27],[72,5,58,28],[73,4,59,4],[73,10,59,10,"attrs"],[73,15,59,15],[73,18,59,18],[74,6,59,20,"k"],[74,7,59,21],[75,6,59,23,"sorted"],[76,4,59,30],[76,5,59,31],[77,4,60,4],[77,10,60,10],[77,11,60,11,"values"],[77,17,60,17],[77,19,60,19,"indices"],[77,26,60,26],[77,27,60,27],[77,30,60,30,"ENGINE"],[77,37,60,36],[77,38,60,36,"ENGINE"],[77,44,60,36],[77,45,60,37,"runKernel"],[77,54,60,46],[77,55,60,47,"TopK"],[77,68,60,51],[77,69,60,51,"TopK"],[77,73,60,51],[77,75,60,53,"inputs"],[77,81,60,59],[77,83,60,61,"attrs"],[77,88,60,66],[77,89,60,67],[78,4,61,4],[78,11,61,11],[79,6,61,13,"values"],[79,12,61,19],[80,6,61,21,"indices"],[81,4,61,29],[81,5,61,30],[82,2,62,0],[83,2,63,7],[83,8,63,13,"topk"],[83,12,63,17],[83,15,63,20],[83,30,63,36],[83,34,63,36,"op"],[83,44,63,38],[83,45,63,38,"op"],[83,47,63,38],[83,49,63,39],[84,4,63,41,"topk_"],[85,2,63,47],[85,3,63,48],[85,4,63,49],[86,0,63,50],[86,3]],"functionMap":{"names":["<global>","topk_"],"mappings":"AAA;AC4C;CDiB"},"hasCjsExports":false},"type":"js/module"}]}