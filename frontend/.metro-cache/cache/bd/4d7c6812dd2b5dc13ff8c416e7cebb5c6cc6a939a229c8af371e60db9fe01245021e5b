{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":682},"end":{"line":17,"column":45,"index":727}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.raggedRangeImpl = raggedRangeImpl;\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  /**\n   * @license\n   * Copyright 2022 Google LLC.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const INT32_MAX = 2147483647;\n  function raggedRangeImpl(starts, startsShape, startsDType, limits, limitsShape, deltas, deltasShape) {\n    // Check input tensor shapes.\n    if (startsShape.length > 1) {\n      throw new Error('starts must be a scalar or vector');\n    }\n    if (limitsShape.length > 1) {\n      throw new Error('limits must be a scalar or vector');\n    }\n    if (deltasShape.length > 1) {\n      throw new Error('deltas must be a scalar or vector');\n    }\n    // Determine which tensors we need to broadcast.\n    const broadcastStarts = startsShape.length === 0;\n    const broadcastLimits = limitsShape.length === 0;\n    const broadcastDeltas = deltasShape.length === 0;\n    // nRows (number of output rows) is the size of the non-broadcast inputs,\n    // or 1 if all inputs are scalars.\n    const inSizes = [];\n    if (!broadcastStarts) {\n      inSizes.push(startsShape[0]);\n    }\n    if (!broadcastLimits) {\n      inSizes.push(limitsShape[0]);\n    }\n    if (!broadcastDeltas) {\n      inSizes.push(deltasShape[0]);\n    }\n    for (let i = 1; i < inSizes.length; ++i) {\n      if (inSizes[i] !== inSizes[i - 1]) {\n        throw new Error('starts, limits, and deltas must have the same shape');\n      }\n    }\n    const nRows = inSizes.length === 0 ? 1 : inSizes[0];\n    // Construct the rtNestedSplits tensor.\n    const rtNestedSplits = _tensorflowTfjsCore.util.getArrayFromDType('int32', nRows + 1);\n    rtNestedSplits[0] = 0;\n    for (let row = 0; row < nRows; ++row) {\n      const start = broadcastStarts ? starts[0] : starts[row];\n      const limit = broadcastLimits ? limits[0] : limits[row];\n      const delta = broadcastDeltas ? deltas[0] : deltas[row];\n      if (delta === 0) {\n        throw new Error('Requires delta != 0');\n      }\n      let size; // The number of elements in the specified range.\n      if (delta > 0 && limit < start || delta < 0 && limit > start) {\n        size = 0;\n      } else {\n        size = Math.ceil(Math.abs((limit - start) / delta));\n        if (size > INT32_MAX) {\n          throw new Error(`Requires ((limit - start) / delta) <= ${INT32_MAX}`);\n        }\n      }\n      rtNestedSplits[row + 1] = rtNestedSplits[row] + size;\n    }\n    const nVals = rtNestedSplits[nRows];\n    // Construct the rtDenseValues tensor.\n    const rtDenseValues = _tensorflowTfjsCore.util.getArrayFromDType(startsDType, nVals);\n    let valueIndex = 0;\n    for (let row = 0; row < nRows; ++row) {\n      const rowSize = rtNestedSplits[row + 1] - rtNestedSplits[row];\n      let value = broadcastStarts ? starts[0] : starts[row];\n      const delta = broadcastDeltas ? deltas[0] : deltas[row];\n      for (let i = 0; i < rowSize; ++i) {\n        rtDenseValues[valueIndex++] = value;\n        value += delta;\n      }\n    }\n    return [rtNestedSplits, rtDenseValues];\n  }\n});","lineCount":96,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"raggedRangeImpl"],[7,25,19,0],[7,28,19,0,"raggedRangeImpl"],[7,43,19,0],[8,2,17,0],[8,6,17,0,"_tensorflowTfjsCore"],[8,25,17,0],[8,28,17,0,"require"],[8,35,17,0],[8,36,17,0,"_dependencyMap"],[8,50,17,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[13,0,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,0,9,0],[18,0,10,0],[19,0,11,0],[20,0,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[26,2,18,0],[26,8,18,6,"INT32_MAX"],[26,17,18,15],[26,20,18,18],[26,30,18,28],[27,2,19,7],[27,11,19,16,"raggedRangeImpl"],[27,26,19,31,"raggedRangeImpl"],[27,27,19,32,"starts"],[27,33,19,38],[27,35,19,40,"startsShape"],[27,46,19,51],[27,48,19,53,"startsDType"],[27,59,19,64],[27,61,19,66,"limits"],[27,67,19,72],[27,69,19,74,"limitsShape"],[27,80,19,85],[27,82,19,87,"deltas"],[27,88,19,93],[27,90,19,95,"deltasShape"],[27,101,19,106],[27,103,19,108],[28,4,20,4],[29,4,21,4],[29,8,21,8,"startsShape"],[29,19,21,19],[29,20,21,20,"length"],[29,26,21,26],[29,29,21,29],[29,30,21,30],[29,32,21,32],[30,6,22,8],[30,12,22,14],[30,16,22,18,"Error"],[30,21,22,23],[30,22,22,24],[30,57,22,59],[30,58,22,60],[31,4,23,4],[32,4,24,4],[32,8,24,8,"limitsShape"],[32,19,24,19],[32,20,24,20,"length"],[32,26,24,26],[32,29,24,29],[32,30,24,30],[32,32,24,32],[33,6,25,8],[33,12,25,14],[33,16,25,18,"Error"],[33,21,25,23],[33,22,25,24],[33,57,25,59],[33,58,25,60],[34,4,26,4],[35,4,27,4],[35,8,27,8,"deltasShape"],[35,19,27,19],[35,20,27,20,"length"],[35,26,27,26],[35,29,27,29],[35,30,27,30],[35,32,27,32],[36,6,28,8],[36,12,28,14],[36,16,28,18,"Error"],[36,21,28,23],[36,22,28,24],[36,57,28,59],[36,58,28,60],[37,4,29,4],[38,4,30,4],[39,4,31,4],[39,10,31,10,"broadcastStarts"],[39,25,31,25],[39,28,31,28,"startsShape"],[39,39,31,39],[39,40,31,40,"length"],[39,46,31,46],[39,51,31,51],[39,52,31,52],[40,4,32,4],[40,10,32,10,"broadcastLimits"],[40,25,32,25],[40,28,32,28,"limitsShape"],[40,39,32,39],[40,40,32,40,"length"],[40,46,32,46],[40,51,32,51],[40,52,32,52],[41,4,33,4],[41,10,33,10,"broadcastDeltas"],[41,25,33,25],[41,28,33,28,"deltasShape"],[41,39,33,39],[41,40,33,40,"length"],[41,46,33,46],[41,51,33,51],[41,52,33,52],[42,4,34,4],[43,4,35,4],[44,4,36,4],[44,10,36,10,"inSizes"],[44,17,36,17],[44,20,36,20],[44,22,36,22],[45,4,37,4],[45,8,37,8],[45,9,37,9,"broadcastStarts"],[45,24,37,24],[45,26,37,26],[46,6,38,8,"inSizes"],[46,13,38,15],[46,14,38,16,"push"],[46,18,38,20],[46,19,38,21,"startsShape"],[46,30,38,32],[46,31,38,33],[46,32,38,34],[46,33,38,35],[46,34,38,36],[47,4,39,4],[48,4,40,4],[48,8,40,8],[48,9,40,9,"broadcastLimits"],[48,24,40,24],[48,26,40,26],[49,6,41,8,"inSizes"],[49,13,41,15],[49,14,41,16,"push"],[49,18,41,20],[49,19,41,21,"limitsShape"],[49,30,41,32],[49,31,41,33],[49,32,41,34],[49,33,41,35],[49,34,41,36],[50,4,42,4],[51,4,43,4],[51,8,43,8],[51,9,43,9,"broadcastDeltas"],[51,24,43,24],[51,26,43,26],[52,6,44,8,"inSizes"],[52,13,44,15],[52,14,44,16,"push"],[52,18,44,20],[52,19,44,21,"deltasShape"],[52,30,44,32],[52,31,44,33],[52,32,44,34],[52,33,44,35],[52,34,44,36],[53,4,45,4],[54,4,46,4],[54,9,46,9],[54,13,46,13,"i"],[54,14,46,14],[54,17,46,17],[54,18,46,18],[54,20,46,20,"i"],[54,21,46,21],[54,24,46,24,"inSizes"],[54,31,46,31],[54,32,46,32,"length"],[54,38,46,38],[54,40,46,40],[54,42,46,42,"i"],[54,43,46,43],[54,45,46,45],[55,6,47,8],[55,10,47,12,"inSizes"],[55,17,47,19],[55,18,47,20,"i"],[55,19,47,21],[55,20,47,22],[55,25,47,27,"inSizes"],[55,32,47,34],[55,33,47,35,"i"],[55,34,47,36],[55,37,47,39],[55,38,47,40],[55,39,47,41],[55,41,47,43],[56,8,48,12],[56,14,48,18],[56,18,48,22,"Error"],[56,23,48,27],[56,24,48,28],[56,77,48,81],[56,78,48,82],[57,6,49,8],[58,4,50,4],[59,4,51,4],[59,10,51,10,"nRows"],[59,15,51,15],[59,18,51,18,"inSizes"],[59,25,51,25],[59,26,51,26,"length"],[59,32,51,32],[59,37,51,37],[59,38,51,38],[59,41,51,41],[59,42,51,42],[59,45,51,45,"inSizes"],[59,52,51,52],[59,53,51,53],[59,54,51,54],[59,55,51,55],[60,4,52,4],[61,4,53,4],[61,10,53,10,"rtNestedSplits"],[61,24,53,24],[61,27,53,27,"util"],[61,46,53,31],[61,47,53,31,"util"],[61,51,53,31],[61,52,53,32,"getArrayFromDType"],[61,69,53,49],[61,70,53,50],[61,77,53,57],[61,79,53,59,"nRows"],[61,84,53,64],[61,87,53,67],[61,88,53,68],[61,89,53,69],[62,4,54,4,"rtNestedSplits"],[62,18,54,18],[62,19,54,19],[62,20,54,20],[62,21,54,21],[62,24,54,24],[62,25,54,25],[63,4,55,4],[63,9,55,9],[63,13,55,13,"row"],[63,16,55,16],[63,19,55,19],[63,20,55,20],[63,22,55,22,"row"],[63,25,55,25],[63,28,55,28,"nRows"],[63,33,55,33],[63,35,55,35],[63,37,55,37,"row"],[63,40,55,40],[63,42,55,42],[64,6,56,8],[64,12,56,14,"start"],[64,17,56,19],[64,20,56,22,"broadcastStarts"],[64,35,56,37],[64,38,56,40,"starts"],[64,44,56,46],[64,45,56,47],[64,46,56,48],[64,47,56,49],[64,50,56,52,"starts"],[64,56,56,58],[64,57,56,59,"row"],[64,60,56,62],[64,61,56,63],[65,6,57,8],[65,12,57,14,"limit"],[65,17,57,19],[65,20,57,22,"broadcastLimits"],[65,35,57,37],[65,38,57,40,"limits"],[65,44,57,46],[65,45,57,47],[65,46,57,48],[65,47,57,49],[65,50,57,52,"limits"],[65,56,57,58],[65,57,57,59,"row"],[65,60,57,62],[65,61,57,63],[66,6,58,8],[66,12,58,14,"delta"],[66,17,58,19],[66,20,58,22,"broadcastDeltas"],[66,35,58,37],[66,38,58,40,"deltas"],[66,44,58,46],[66,45,58,47],[66,46,58,48],[66,47,58,49],[66,50,58,52,"deltas"],[66,56,58,58],[66,57,58,59,"row"],[66,60,58,62],[66,61,58,63],[67,6,59,8],[67,10,59,12,"delta"],[67,15,59,17],[67,20,59,22],[67,21,59,23],[67,23,59,25],[68,8,60,12],[68,14,60,18],[68,18,60,22,"Error"],[68,23,60,27],[68,24,60,28],[68,45,60,49],[68,46,60,50],[69,6,61,8],[70,6,62,8],[70,10,62,12,"size"],[70,14,62,16],[70,15,62,17],[70,16,62,18],[71,6,63,8],[71,10,63,14,"delta"],[71,15,63,19],[71,18,63,22],[71,19,63,23],[71,23,63,29,"limit"],[71,28,63,34],[71,31,63,37,"start"],[71,36,63,43],[71,40,63,50,"delta"],[71,45,63,55],[71,48,63,58],[71,49,63,59],[71,53,63,65,"limit"],[71,58,63,70],[71,61,63,73,"start"],[71,66,63,80],[71,68,63,82],[72,8,64,12,"size"],[72,12,64,16],[72,15,64,19],[72,16,64,20],[73,6,65,8],[73,7,65,9],[73,13,66,13],[74,8,67,12,"size"],[74,12,67,16],[74,15,67,19,"Math"],[74,19,67,23],[74,20,67,24,"ceil"],[74,24,67,28],[74,25,67,29,"Math"],[74,29,67,33],[74,30,67,34,"abs"],[74,33,67,37],[74,34,67,38],[74,35,67,39,"limit"],[74,40,67,44],[74,43,67,47,"start"],[74,48,67,52],[74,52,67,56,"delta"],[74,57,67,61],[74,58,67,62],[74,59,67,63],[75,8,68,12],[75,12,68,16,"size"],[75,16,68,20],[75,19,68,23,"INT32_MAX"],[75,28,68,32],[75,30,68,34],[76,10,69,16],[76,16,69,22],[76,20,69,26,"Error"],[76,25,69,31],[76,26,69,32],[76,67,69,73,"INT32_MAX"],[76,76,69,82],[76,78,69,84],[76,79,69,85],[77,8,70,12],[78,6,71,8],[79,6,72,8,"rtNestedSplits"],[79,20,72,22],[79,21,72,23,"row"],[79,24,72,26],[79,27,72,29],[79,28,72,30],[79,29,72,31],[79,32,72,34,"rtNestedSplits"],[79,46,72,48],[79,47,72,49,"row"],[79,50,72,52],[79,51,72,53],[79,54,72,56,"size"],[79,58,72,60],[80,4,73,4],[81,4,74,4],[81,10,74,10,"nVals"],[81,15,74,15],[81,18,74,18,"rtNestedSplits"],[81,32,74,32],[81,33,74,33,"nRows"],[81,38,74,38],[81,39,74,39],[82,4,75,4],[83,4,76,4],[83,10,76,10,"rtDenseValues"],[83,23,76,23],[83,26,76,26,"util"],[83,45,76,30],[83,46,76,30,"util"],[83,50,76,30],[83,51,76,31,"getArrayFromDType"],[83,68,76,48],[83,69,76,49,"startsDType"],[83,80,76,60],[83,82,76,62,"nVals"],[83,87,76,67],[83,88,76,68],[84,4,77,4],[84,8,77,8,"valueIndex"],[84,18,77,18],[84,21,77,21],[84,22,77,22],[85,4,78,4],[85,9,78,9],[85,13,78,13,"row"],[85,16,78,16],[85,19,78,19],[85,20,78,20],[85,22,78,22,"row"],[85,25,78,25],[85,28,78,28,"nRows"],[85,33,78,33],[85,35,78,35],[85,37,78,37,"row"],[85,40,78,40],[85,42,78,42],[86,6,79,8],[86,12,79,14,"rowSize"],[86,19,79,21],[86,22,79,24,"rtNestedSplits"],[86,36,79,38],[86,37,79,39,"row"],[86,40,79,42],[86,43,79,45],[86,44,79,46],[86,45,79,47],[86,48,79,50,"rtNestedSplits"],[86,62,79,64],[86,63,79,65,"row"],[86,66,79,68],[86,67,79,69],[87,6,80,8],[87,10,80,12,"value"],[87,15,80,17],[87,18,80,20,"broadcastStarts"],[87,33,80,35],[87,36,80,38,"starts"],[87,42,80,44],[87,43,80,45],[87,44,80,46],[87,45,80,47],[87,48,80,50,"starts"],[87,54,80,56],[87,55,80,57,"row"],[87,58,80,60],[87,59,80,61],[88,6,81,8],[88,12,81,14,"delta"],[88,17,81,19],[88,20,81,22,"broadcastDeltas"],[88,35,81,37],[88,38,81,40,"deltas"],[88,44,81,46],[88,45,81,47],[88,46,81,48],[88,47,81,49],[88,50,81,52,"deltas"],[88,56,81,58],[88,57,81,59,"row"],[88,60,81,62],[88,61,81,63],[89,6,82,8],[89,11,82,13],[89,15,82,17,"i"],[89,16,82,18],[89,19,82,21],[89,20,82,22],[89,22,82,24,"i"],[89,23,82,25],[89,26,82,28,"rowSize"],[89,33,82,35],[89,35,82,37],[89,37,82,39,"i"],[89,38,82,40],[89,40,82,42],[90,8,83,12,"rtDenseValues"],[90,21,83,25],[90,22,83,26,"valueIndex"],[90,32,83,36],[90,34,83,38],[90,35,83,39],[90,38,83,42,"value"],[90,43,83,47],[91,8,84,12,"value"],[91,13,84,17],[91,17,84,21,"delta"],[91,22,84,26],[92,6,85,8],[93,4,86,4],[94,4,87,4],[94,11,87,11],[94,12,87,12,"rtNestedSplits"],[94,26,87,26],[94,28,87,28,"rtDenseValues"],[94,41,87,41],[94,42,87,42],[95,2,88,0],[96,0,88,1],[96,3]],"functionMap":{"names":["<global>","raggedRangeImpl"],"mappings":"AAA;OCkB;CDqE"},"hasCjsExports":false},"type":"js/module"}]}