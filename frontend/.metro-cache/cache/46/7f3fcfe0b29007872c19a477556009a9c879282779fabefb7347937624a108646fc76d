{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"Dilation2DProgram\", {\n    enumerable: true,\n    get: function () {\n      return Dilation2DProgram;\n    }\n  });\n  /**\n   * @license\n   * Copyright 2017 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n  class Dilation2DProgram {\n    constructor(convInfo) {\n      this.variableNames = ['x', 'W'];\n      this.outputShape = convInfo.outShape;\n      const {\n        inHeight,\n        inWidth,\n        padInfo,\n        strideHeight,\n        strideWidth,\n        filterHeight,\n        filterWidth,\n        dilationHeight,\n        dilationWidth\n      } = convInfo;\n      const {\n        top: padTop,\n        left: padLeft\n      } = padInfo;\n      this.userCode = `\n      const ivec2 strides = ivec2(${strideHeight}, ${strideWidth});\n      const ivec2 pads = ivec2(${padTop}, ${padLeft});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${filterHeight}; h++) {\n          int hIn = hBeg + h * ${dilationHeight};\n\n          if (hIn >= 0 && hIn < ${inHeight}) {\n            for (int w = 0; w < ${filterWidth}; w++) {\n              int wIn = wBeg + w * ${dilationWidth};\n\n              if (wIn >= 0 && wIn < ${inWidth}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `;\n    }\n  }\n});","lineCount":89,"map":[[7,2,17,0,"Object"],[7,8,17,0],[7,9,17,0,"defineProperty"],[7,23,17,0],[7,24,17,0,"exports"],[7,31,17,0],[8,4,17,0,"enumerable"],[8,14,17,0],[9,4,17,0,"get"],[9,7,17,0],[9,18,17,0,"get"],[9,19,17,0],[10,6,17,0],[10,13,17,0,"Dilation2DProgram"],[10,30,17,0],[11,4,17,0],[12,2,17,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,2,17,7],[29,8,17,13,"Dilation2DProgram"],[29,25,17,30],[29,26,17,31],[30,4,18,4,"constructor"],[30,15,18,15,"constructor"],[30,16,18,16,"convInfo"],[30,24,18,24],[30,26,18,26],[31,6,19,8],[31,10,19,12],[31,11,19,13,"variableNames"],[31,24,19,26],[31,27,19,29],[31,28,19,30],[31,31,19,33],[31,33,19,35],[31,36,19,38],[31,37,19,39],[32,6,20,8],[32,10,20,12],[32,11,20,13,"outputShape"],[32,22,20,24],[32,25,20,27,"convInfo"],[32,33,20,35],[32,34,20,36,"outShape"],[32,42,20,44],[33,6,21,8],[33,12,21,14],[34,8,21,16,"inHeight"],[34,16,21,24],[35,8,21,26,"inWidth"],[35,15,21,33],[36,8,21,35,"padInfo"],[36,15,21,42],[37,8,21,44,"strideHeight"],[37,20,21,56],[38,8,21,58,"strideWidth"],[38,19,21,69],[39,8,21,71,"filterHeight"],[39,20,21,83],[40,8,21,85,"filterWidth"],[40,19,21,96],[41,8,21,98,"dilationHeight"],[41,22,21,112],[42,8,21,114,"dilationWidth"],[43,6,21,128],[43,7,21,129],[43,10,21,132,"convInfo"],[43,18,21,140],[44,6,22,8],[44,12,22,14],[45,8,22,16,"top"],[45,11,22,19],[45,13,22,21,"padTop"],[45,19,22,27],[46,8,22,29,"left"],[46,12,22,33],[46,14,22,35,"padLeft"],[47,6,22,43],[47,7,22,44],[47,10,22,47,"padInfo"],[47,17,22,54],[48,6,23,8],[48,10,23,12],[48,11,23,13,"userCode"],[48,19,23,21],[48,22,23,24],[49,0,24,0],[49,36,24,36,"strideHeight"],[49,48,24,48],[49,53,24,53,"strideWidth"],[49,64,24,64],[50,0,25,0],[50,33,25,33,"padTop"],[50,39,25,39],[50,44,25,44,"padLeft"],[50,51,25,51],[51,0,26,0],[52,0,27,0],[53,0,28,0],[54,0,29,0],[55,0,30,0],[56,0,31,0],[57,0,32,0],[58,0,33,0],[59,0,34,0],[60,0,35,0],[61,0,36,0],[62,0,37,0],[63,0,38,0],[63,30,38,30,"filterHeight"],[63,42,38,42],[64,0,39,0],[64,33,39,33,"dilationHeight"],[64,47,39,47],[65,0,40,0],[66,0,41,0],[66,34,41,34,"inHeight"],[66,42,41,42],[67,0,42,0],[67,34,42,34,"filterWidth"],[67,45,42,45],[68,0,43,0],[68,37,43,37,"dilationWidth"],[68,50,43,50],[69,0,44,0],[70,0,45,0],[70,38,45,38,"inWidth"],[70,45,45,45],[71,0,46,0],[72,0,47,0],[73,0,48,0],[74,0,49,0],[75,0,50,0],[76,0,51,0],[77,0,52,0],[78,0,53,0],[79,0,54,0],[80,0,55,0],[81,0,56,0],[82,0,57,0],[83,0,58,0],[84,0,59,0],[85,0,60,0],[86,0,61,0],[86,5,61,5],[87,4,62,4],[88,2,63,0],[89,0,63,1],[89,3]],"functionMap":{"names":["<global>","Dilation2DProgram","Dilation2DProgram#constructor"],"mappings":"AAA;OCgB;ICC;KD4C;CDC"},"hasCjsExports":false},"type":"js/module"}]}