{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"DepthToSpaceProgram\", {\n    enumerable: true,\n    get: function () {\n      return DepthToSpaceProgram;\n    }\n  });\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n  class DepthToSpaceProgram {\n    constructor(outputShape, blockSize, dataFormat) {\n      this.variableNames = ['x'];\n      this.outputShape = [];\n      this.outputShape = outputShape;\n      this.blockSize = blockSize;\n      this.dataFormat = dataFormat;\n      this.userCode = `\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${blockSize};\n      int offset_h = imod(h, ${blockSize});\n      int in_w = w / ${blockSize};\n      int offset_w = imod(w, ${blockSize});\n      int offset_d = (offset_h * ${blockSize} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `;\n    }\n    getHeightCoordString() {\n      if (this.dataFormat === 'NHWC') {\n        return `coords[1]`;\n      } else {\n        return `coords[2]`;\n      }\n    }\n    getWidthCoordString() {\n      if (this.dataFormat === 'NHWC') {\n        return `coords[2]`;\n      } else {\n        return `coords[3]`;\n      }\n    }\n    getDepthCoordString() {\n      if (this.dataFormat === 'NHWC') {\n        return `coords[3]`;\n      } else {\n        return `coords[1]`;\n      }\n    }\n    getOutputDepthSize() {\n      if (this.dataFormat === 'NHWC') {\n        return this.outputShape[3];\n      } else {\n        return this.outputShape[1];\n      }\n    }\n    getInputSamplingString() {\n      if (this.dataFormat === 'NHWC') {\n        return `getX(b, in_h, in_w, in_d)`;\n      } else {\n        return `getX(b, in_d, in_h, in_w)`;\n      }\n    }\n  }\n});","lineCount":93,"map":[[7,2,17,0,"Object"],[7,8,17,0],[7,9,17,0,"defineProperty"],[7,23,17,0],[7,24,17,0,"exports"],[7,31,17,0],[8,4,17,0,"enumerable"],[8,14,17,0],[9,4,17,0,"get"],[9,7,17,0],[9,18,17,0,"get"],[9,19,17,0],[10,6,17,0],[10,13,17,0,"DepthToSpaceProgram"],[10,32,17,0],[11,4,17,0],[12,2,17,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,2,17,7],[29,8,17,13,"DepthToSpaceProgram"],[29,27,17,32],[29,28,17,33],[30,4,18,4,"constructor"],[30,15,18,15,"constructor"],[30,16,18,16,"outputShape"],[30,27,18,27],[30,29,18,29,"blockSize"],[30,38,18,38],[30,40,18,40,"dataFormat"],[30,50,18,50],[30,52,18,52],[31,6,19,8],[31,10,19,12],[31,11,19,13,"variableNames"],[31,24,19,26],[31,27,19,29],[31,28,19,30],[31,31,19,33],[31,32,19,34],[32,6,20,8],[32,10,20,12],[32,11,20,13,"outputShape"],[32,22,20,24],[32,25,20,27],[32,27,20,29],[33,6,21,8],[33,10,21,12],[33,11,21,13,"outputShape"],[33,22,21,24],[33,25,21,27,"outputShape"],[33,36,21,38],[34,6,22,8],[34,10,22,12],[34,11,22,13,"blockSize"],[34,20,22,22],[34,23,22,25,"blockSize"],[34,32,22,34],[35,6,23,8],[35,10,23,12],[35,11,23,13,"dataFormat"],[35,21,23,23],[35,24,23,26,"dataFormat"],[35,34,23,36],[36,6,24,8],[36,10,24,12],[36,11,24,13,"userCode"],[36,19,24,21],[36,22,24,24],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[40,16,28,16],[40,20,28,20],[40,21,28,21,"getHeightCoordString"],[40,41,28,41],[40,42,28,42],[40,43,28,43],[41,0,29,0],[41,16,29,16],[41,20,29,20],[41,21,29,21,"getWidthCoordString"],[41,40,29,40],[41,41,29,41],[41,42,29,42],[42,0,30,0],[42,16,30,16],[42,20,30,20],[42,21,30,21,"getDepthCoordString"],[42,40,30,40],[42,41,30,41],[42,42,30,42],[43,0,31,0],[44,0,32,0],[44,23,32,23,"blockSize"],[44,32,32,32],[45,0,33,0],[45,31,33,31,"blockSize"],[45,40,33,40],[46,0,34,0],[46,23,34,23,"blockSize"],[46,32,34,32],[47,0,35,0],[47,31,35,31,"blockSize"],[47,40,35,40],[48,0,36,0],[48,35,36,35,"blockSize"],[48,44,36,44],[49,0,37,0],[49,10,37,10],[49,14,37,14],[49,15,37,15,"getOutputDepthSize"],[49,33,37,33],[49,34,37,34],[49,35,37,35],[50,0,38,0],[51,0,39,0],[52,0,40,0],[52,23,40,23],[52,27,40,27],[52,28,40,28,"getInputSamplingString"],[52,50,40,50],[52,51,40,51],[52,52,40,52],[53,0,41,0],[54,0,42,0],[55,0,43,0],[55,3,43,3],[56,4,44,4],[57,4,45,4,"getHeightCoordString"],[57,24,45,24,"getHeightCoordString"],[57,25,45,24],[57,27,45,27],[58,6,46,8],[58,10,46,12],[58,14,46,16],[58,15,46,17,"dataFormat"],[58,25,46,27],[58,30,46,32],[58,36,46,38],[58,38,46,40],[59,8,47,12],[59,15,47,19],[59,26,47,30],[60,6,48,8],[60,7,48,9],[60,13,49,13],[61,8,50,12],[61,15,50,19],[61,26,50,30],[62,6,51,8],[63,4,52,4],[64,4,53,4,"getWidthCoordString"],[64,23,53,23,"getWidthCoordString"],[64,24,53,23],[64,26,53,26],[65,6,54,8],[65,10,54,12],[65,14,54,16],[65,15,54,17,"dataFormat"],[65,25,54,27],[65,30,54,32],[65,36,54,38],[65,38,54,40],[66,8,55,12],[66,15,55,19],[66,26,55,30],[67,6,56,8],[67,7,56,9],[67,13,57,13],[68,8,58,12],[68,15,58,19],[68,26,58,30],[69,6,59,8],[70,4,60,4],[71,4,61,4,"getDepthCoordString"],[71,23,61,23,"getDepthCoordString"],[71,24,61,23],[71,26,61,26],[72,6,62,8],[72,10,62,12],[72,14,62,16],[72,15,62,17,"dataFormat"],[72,25,62,27],[72,30,62,32],[72,36,62,38],[72,38,62,40],[73,8,63,12],[73,15,63,19],[73,26,63,30],[74,6,64,8],[74,7,64,9],[74,13,65,13],[75,8,66,12],[75,15,66,19],[75,26,66,30],[76,6,67,8],[77,4,68,4],[78,4,69,4,"getOutputDepthSize"],[78,22,69,22,"getOutputDepthSize"],[78,23,69,22],[78,25,69,25],[79,6,70,8],[79,10,70,12],[79,14,70,16],[79,15,70,17,"dataFormat"],[79,25,70,27],[79,30,70,32],[79,36,70,38],[79,38,70,40],[80,8,71,12],[80,15,71,19],[80,19,71,23],[80,20,71,24,"outputShape"],[80,31,71,35],[80,32,71,36],[80,33,71,37],[80,34,71,38],[81,6,72,8],[81,7,72,9],[81,13,73,13],[82,8,74,12],[82,15,74,19],[82,19,74,23],[82,20,74,24,"outputShape"],[82,31,74,35],[82,32,74,36],[82,33,74,37],[82,34,74,38],[83,6,75,8],[84,4,76,4],[85,4,77,4,"getInputSamplingString"],[85,26,77,26,"getInputSamplingString"],[85,27,77,26],[85,29,77,29],[86,6,78,8],[86,10,78,12],[86,14,78,16],[86,15,78,17,"dataFormat"],[86,25,78,27],[86,30,78,32],[86,36,78,38],[86,38,78,40],[87,8,79,12],[87,15,79,19],[87,42,79,46],[88,6,80,8],[88,7,80,9],[88,13,81,13],[89,8,82,12],[89,15,82,19],[89,42,82,46],[90,6,83,8],[91,4,84,4],[92,2,85,0],[93,0,85,1],[93,3]],"functionMap":{"names":["<global>","DepthToSpaceProgram","DepthToSpaceProgram#constructor","DepthToSpaceProgram#getHeightCoordString","DepthToSpaceProgram#getWidthCoordString","DepthToSpaceProgram#getDepthCoordString","DepthToSpaceProgram#getOutputDepthSize","DepthToSpaceProgram#getInputSamplingString"],"mappings":"AAA;OCgB;ICC;KD0B;IEC;KFO;IGC;KHO;IIC;KJO;IKC;KLO;IMC;KNO;CDC"},"hasCjsExports":false},"type":"js/module"}]}