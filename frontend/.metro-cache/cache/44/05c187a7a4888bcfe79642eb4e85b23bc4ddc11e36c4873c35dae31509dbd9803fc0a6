{"dependencies":[{"name":"./ring_buffer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":706},"end":{"line":18,"column":43,"index":749}}],"key":"PGXurxXa7ry5O8dKYQ7G8wBPZYQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"GrowingRingBuffer\", {\n    enumerable: true,\n    get: function () {\n      return GrowingRingBuffer;\n    }\n  });\n  var _ring_buffer = require(_dependencyMap[0], \"./ring_buffer\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * =============================================================================\n   */\n\n  class GrowingRingBuffer extends _ring_buffer.RingBuffer {\n    /**\n     * Constructs a `GrowingRingBuffer`.\n     */\n    constructor() {\n      super(GrowingRingBuffer.INITIAL_CAPACITY);\n    }\n    isFull() {\n      return false;\n    }\n    push(value) {\n      if (super.isFull()) {\n        this.expand();\n      }\n      super.push(value);\n    }\n    unshift(value) {\n      if (super.isFull()) {\n        this.expand();\n      }\n      super.unshift(value);\n    }\n    /**\n     * Doubles the capacity of the buffer.\n     */\n    expand() {\n      const newCapacity = this.capacity * 2;\n      const newData = new Array(newCapacity);\n      const len = this.length();\n      // Rotate the buffer to start at index 0 again, since we can't just\n      // allocate more space at the end.\n      for (let i = 0; i < len; i++) {\n        newData[i] = this.get(this.wrap(this.begin + i));\n      }\n      this.data = newData;\n      this.capacity = newCapacity;\n      this.doubledCapacity = 2 * this.capacity;\n      this.begin = 0;\n      this.end = len;\n    }\n  }\n  GrowingRingBuffer.INITIAL_CAPACITY = 32;\n});","lineCount":74,"map":[[7,2,61,0,"Object"],[7,8,61,0],[7,9,61,0,"defineProperty"],[7,23,61,0],[7,24,61,0,"exports"],[7,31,61,0],[8,4,61,0,"enumerable"],[8,14,61,0],[9,4,61,0,"get"],[9,7,61,0],[9,18,61,0,"get"],[9,19,61,0],[10,6,61,0],[10,13,61,9,"GrowingRingBuffer"],[10,30,61,26],[11,4,61,26],[12,2,61,26],[13,2,18,0],[13,6,18,0,"_ring_buffer"],[13,18,18,0],[13,21,18,0,"require"],[13,28,18,0],[13,29,18,0,"_dependencyMap"],[13,43,18,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,0,5,0],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,0,12,0],[26,0,13,0],[27,0,14,0],[28,0,15,0],[29,0,16,0],[30,0,17,0],[32,2,19,0],[32,8,19,6,"GrowingRingBuffer"],[32,25,19,23],[32,34,19,32,"RingBuffer"],[32,46,19,42],[32,47,19,42,"RingBuffer"],[32,57,19,42],[32,58,19,43],[33,4,20,4],[34,0,21,0],[35,0,22,0],[36,4,23,4,"constructor"],[36,15,23,15,"constructor"],[36,16,23,15],[36,18,23,18],[37,6,24,8],[37,11,24,13],[37,12,24,14,"GrowingRingBuffer"],[37,29,24,31],[37,30,24,32,"INITIAL_CAPACITY"],[37,46,24,48],[37,47,24,49],[38,4,25,4],[39,4,26,4,"isFull"],[39,10,26,10,"isFull"],[39,11,26,10],[39,13,26,13],[40,6,27,8],[40,13,27,15],[40,18,27,20],[41,4,28,4],[42,4,29,4,"push"],[42,8,29,8,"push"],[42,9,29,9,"value"],[42,14,29,14],[42,16,29,16],[43,6,30,8],[43,10,30,12],[43,15,30,17],[43,16,30,18,"isFull"],[43,22,30,24],[43,23,30,25],[43,24,30,26],[43,26,30,28],[44,8,31,12],[44,12,31,16],[44,13,31,17,"expand"],[44,19,31,23],[44,20,31,24],[44,21,31,25],[45,6,32,8],[46,6,33,8],[46,11,33,13],[46,12,33,14,"push"],[46,16,33,18],[46,17,33,19,"value"],[46,22,33,24],[46,23,33,25],[47,4,34,4],[48,4,35,4,"unshift"],[48,11,35,11,"unshift"],[48,12,35,12,"value"],[48,17,35,17],[48,19,35,19],[49,6,36,8],[49,10,36,12],[49,15,36,17],[49,16,36,18,"isFull"],[49,22,36,24],[49,23,36,25],[49,24,36,26],[49,26,36,28],[50,8,37,12],[50,12,37,16],[50,13,37,17,"expand"],[50,19,37,23],[50,20,37,24],[50,21,37,25],[51,6,38,8],[52,6,39,8],[52,11,39,13],[52,12,39,14,"unshift"],[52,19,39,21],[52,20,39,22,"value"],[52,25,39,27],[52,26,39,28],[53,4,40,4],[54,4,41,4],[55,0,42,0],[56,0,43,0],[57,4,44,4,"expand"],[57,10,44,10,"expand"],[57,11,44,10],[57,13,44,13],[58,6,45,8],[58,12,45,14,"newCapacity"],[58,23,45,25],[58,26,45,28],[58,30,45,32],[58,31,45,33,"capacity"],[58,39,45,41],[58,42,45,44],[58,43,45,45],[59,6,46,8],[59,12,46,14,"newData"],[59,19,46,21],[59,22,46,24],[59,26,46,28,"Array"],[59,31,46,33],[59,32,46,34,"newCapacity"],[59,43,46,45],[59,44,46,46],[60,6,47,8],[60,12,47,14,"len"],[60,15,47,17],[60,18,47,20],[60,22,47,24],[60,23,47,25,"length"],[60,29,47,31],[60,30,47,32],[60,31,47,33],[61,6,48,8],[62,6,49,8],[63,6,50,8],[63,11,50,13],[63,15,50,17,"i"],[63,16,50,18],[63,19,50,21],[63,20,50,22],[63,22,50,24,"i"],[63,23,50,25],[63,26,50,28,"len"],[63,29,50,31],[63,31,50,33,"i"],[63,32,50,34],[63,34,50,36],[63,36,50,38],[64,8,51,12,"newData"],[64,15,51,19],[64,16,51,20,"i"],[64,17,51,21],[64,18,51,22],[64,21,51,25],[64,25,51,29],[64,26,51,30,"get"],[64,29,51,33],[64,30,51,34],[64,34,51,38],[64,35,51,39,"wrap"],[64,39,51,43],[64,40,51,44],[64,44,51,48],[64,45,51,49,"begin"],[64,50,51,54],[64,53,51,57,"i"],[64,54,51,58],[64,55,51,59],[64,56,51,60],[65,6,52,8],[66,6,53,8],[66,10,53,12],[66,11,53,13,"data"],[66,15,53,17],[66,18,53,20,"newData"],[66,25,53,27],[67,6,54,8],[67,10,54,12],[67,11,54,13,"capacity"],[67,19,54,21],[67,22,54,24,"newCapacity"],[67,33,54,35],[68,6,55,8],[68,10,55,12],[68,11,55,13,"doubledCapacity"],[68,26,55,28],[68,29,55,31],[68,30,55,32],[68,33,55,35],[68,37,55,39],[68,38,55,40,"capacity"],[68,46,55,48],[69,6,56,8],[69,10,56,12],[69,11,56,13,"begin"],[69,16,56,18],[69,19,56,21],[69,20,56,22],[70,6,57,8],[70,10,57,12],[70,11,57,13,"end"],[70,14,57,16],[70,17,57,19,"len"],[70,20,57,22],[71,4,58,4],[72,2,59,0],[73,2,60,0,"GrowingRingBuffer"],[73,19,60,17],[73,20,60,18,"INITIAL_CAPACITY"],[73,36,60,34],[73,39,60,37],[73,41,60,39],[74,0,60,40],[74,3]],"functionMap":{"names":["<global>","GrowingRingBuffer","GrowingRingBuffer#constructor","GrowingRingBuffer#isFull","GrowingRingBuffer#push","GrowingRingBuffer#unshift","GrowingRingBuffer#expand"],"mappings":"AAA;ACkB;ICI;KDE;IEC;KFE;IGC;KHK;IIC;KJK;IKI;KLc;CDC"},"hasCjsExports":false},"type":"js/module"}]}