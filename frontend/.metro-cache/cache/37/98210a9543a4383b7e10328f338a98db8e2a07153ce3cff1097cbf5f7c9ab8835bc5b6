{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":47,"index":750}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.gatherV2Impl = gatherV2Impl;\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function gatherV2Impl(xBuf, indicesBuf, flattenOutputShape) {\n    const outBuf = (0, _tensorflowTfjsCore.buffer)(flattenOutputShape, xBuf.dtype);\n    for (let i = 0; i < outBuf.size; ++i) {\n      const newLoc = outBuf.indexToLoc(i);\n      const originalLoc = newLoc.slice();\n      const batchIdx = originalLoc[0];\n      const indicesIdx = originalLoc[2];\n      const indicesIndex = indicesBuf.locToIndex([batchIdx, indicesIdx]);\n      originalLoc[2] = indicesBuf.values[indicesIndex];\n      const originalIndex = xBuf.locToIndex(originalLoc);\n      if (0 <= originalIndex && originalIndex < xBuf.values.length) {\n        outBuf.values[i] = xBuf.values[originalIndex];\n      } // Else, index is out of bounds, so leave the default zero val in outBuf.\n    }\n    return outBuf;\n  }\n});","lineCount":42,"map":[[7,2,18,0,"exports"],[7,9,18,0],[7,10,18,0,"gatherV2Impl"],[7,22,18,0],[7,25,18,0,"gatherV2Impl"],[7,37,18,0],[8,2,17,0],[8,6,17,0,"_tensorflowTfjsCore"],[8,25,17,0],[8,28,17,0,"require"],[8,35,17,0],[8,36,17,0,"_dependencyMap"],[8,50,17,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[13,0,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,0,9,0],[18,0,10,0],[19,0,11,0],[20,0,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[26,2,18,7],[26,11,18,16,"gatherV2Impl"],[26,23,18,28,"gatherV2Impl"],[26,24,18,29,"xBuf"],[26,28,18,33],[26,30,18,35,"indicesBuf"],[26,40,18,45],[26,42,18,47,"flattenOutputShape"],[26,60,18,65],[26,62,18,67],[27,4,19,4],[27,10,19,10,"outBuf"],[27,16,19,16],[27,19,19,19],[27,23,19,19,"buffer"],[27,42,19,25],[27,43,19,25,"buffer"],[27,49,19,25],[27,51,19,26,"flattenOutputShape"],[27,69,19,44],[27,71,19,46,"xBuf"],[27,75,19,50],[27,76,19,51,"dtype"],[27,81,19,56],[27,82,19,57],[28,4,20,4],[28,9,20,9],[28,13,20,13,"i"],[28,14,20,14],[28,17,20,17],[28,18,20,18],[28,20,20,20,"i"],[28,21,20,21],[28,24,20,24,"outBuf"],[28,30,20,30],[28,31,20,31,"size"],[28,35,20,35],[28,37,20,37],[28,39,20,39,"i"],[28,40,20,40],[28,42,20,42],[29,6,21,8],[29,12,21,14,"newLoc"],[29,18,21,20],[29,21,21,23,"outBuf"],[29,27,21,29],[29,28,21,30,"indexToLoc"],[29,38,21,40],[29,39,21,41,"i"],[29,40,21,42],[29,41,21,43],[30,6,22,8],[30,12,22,14,"originalLoc"],[30,23,22,25],[30,26,22,28,"newLoc"],[30,32,22,34],[30,33,22,35,"slice"],[30,38,22,40],[30,39,22,41],[30,40,22,42],[31,6,23,8],[31,12,23,14,"batchIdx"],[31,20,23,22],[31,23,23,25,"originalLoc"],[31,34,23,36],[31,35,23,37],[31,36,23,38],[31,37,23,39],[32,6,24,8],[32,12,24,14,"indicesIdx"],[32,22,24,24],[32,25,24,27,"originalLoc"],[32,36,24,38],[32,37,24,39],[32,38,24,40],[32,39,24,41],[33,6,25,8],[33,12,25,14,"indicesIndex"],[33,24,25,26],[33,27,25,29,"indicesBuf"],[33,37,25,39],[33,38,25,40,"locToIndex"],[33,48,25,50],[33,49,25,51],[33,50,25,52,"batchIdx"],[33,58,25,60],[33,60,25,62,"indicesIdx"],[33,70,25,72],[33,71,25,73],[33,72,25,74],[34,6,26,8,"originalLoc"],[34,17,26,19],[34,18,26,20],[34,19,26,21],[34,20,26,22],[34,23,26,25,"indicesBuf"],[34,33,26,35],[34,34,26,36,"values"],[34,40,26,42],[34,41,26,43,"indicesIndex"],[34,53,26,55],[34,54,26,56],[35,6,27,8],[35,12,27,14,"originalIndex"],[35,25,27,27],[35,28,27,30,"xBuf"],[35,32,27,34],[35,33,27,35,"locToIndex"],[35,43,27,45],[35,44,27,46,"originalLoc"],[35,55,27,57],[35,56,27,58],[36,6,28,8],[36,10,28,12],[36,11,28,13],[36,15,28,17,"originalIndex"],[36,28,28,30],[36,32,28,34,"originalIndex"],[36,45,28,47],[36,48,28,50,"xBuf"],[36,52,28,54],[36,53,28,55,"values"],[36,59,28,61],[36,60,28,62,"length"],[36,66,28,68],[36,68,28,70],[37,8,29,12,"outBuf"],[37,14,29,18],[37,15,29,19,"values"],[37,21,29,25],[37,22,29,26,"i"],[37,23,29,27],[37,24,29,28],[37,27,29,31,"xBuf"],[37,31,29,35],[37,32,29,36,"values"],[37,38,29,42],[37,39,29,43,"originalIndex"],[37,52,29,56],[37,53,29,57],[38,6,30,8],[38,7,30,9],[38,8,30,10],[39,4,31,4],[40,4,32,4],[40,11,32,11,"outBuf"],[40,17,32,17],[41,2,33,0],[42,0,33,1],[42,3]],"functionMap":{"names":["<global>","gatherV2Impl"],"mappings":"AAA;OCiB;CDe"},"hasCjsExports":false},"type":"js/module"}]}