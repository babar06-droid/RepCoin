{"dependencies":[{"name":"./shader_compiler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":54,"index":757}}],"key":"yVSKlvZSxQn3Ck2puzGVWEYPzq8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ReverseProgram\", {\n    enumerable: true,\n    get: function () {\n      return ReverseProgram;\n    }\n  });\n  var _shader_compiler = require(_dependencyMap[0], \"./shader_compiler\");\n  /**\n   * @license\n   * Copyright 2017 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  class ReverseProgram {\n    constructor(xShape, axis) {\n      this.variableNames = ['x'];\n      const rank = xShape.length;\n      if (rank > 4) {\n        throw new Error(`WebGL backend: Reverse of rank-${rank} tensor is not yet supported`);\n      }\n      this.outputShape = xShape;\n      if (rank === 1) {\n        this.userCode = `\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${xShape[0]} - coord - 1));\n        }\n      `;\n        return;\n      }\n      const getInCoord = i => {\n        if (axis.indexOf(i) !== -1 && xShape[i] !== 1) {\n          return `${xShape[i]} - coords[${i}] - 1`;\n        }\n        return `coords[${i}]`;\n      };\n      const inCoords = xShape.map((_, i) => getInCoord(i)).join(',');\n      const type = (0, _shader_compiler.getCoordsDataType)(rank);\n      this.userCode = `\n      void main() {\n        ${type} coords = getOutputCoords();\n        setOutput(getX(${inCoords}));\n      }\n    `;\n    }\n  }\n});","lineCount":64,"map":[[7,2,18,0,"Object"],[7,8,18,0],[7,9,18,0,"defineProperty"],[7,23,18,0],[7,24,18,0,"exports"],[7,31,18,0],[8,4,18,0,"enumerable"],[8,14,18,0],[9,4,18,0,"get"],[9,7,18,0],[9,18,18,0,"get"],[9,19,18,0],[10,6,18,0],[10,13,18,0,"ReverseProgram"],[10,27,18,0],[11,4,18,0],[12,2,18,0],[13,2,17,0],[13,6,17,0,"_shader_compiler"],[13,22,17,0],[13,25,17,0,"require"],[13,32,17,0],[13,33,17,0,"_dependencyMap"],[13,47,17,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,0,5,0],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,0,12,0],[26,0,13,0],[27,0,14,0],[28,0,15,0],[29,0,16,0],[31,2,18,7],[31,8,18,13,"ReverseProgram"],[31,22,18,27],[31,23,18,28],[32,4,19,4,"constructor"],[32,15,19,15,"constructor"],[32,16,19,16,"xShape"],[32,22,19,22],[32,24,19,24,"axis"],[32,28,19,28],[32,30,19,30],[33,6,20,8],[33,10,20,12],[33,11,20,13,"variableNames"],[33,24,20,26],[33,27,20,29],[33,28,20,30],[33,31,20,33],[33,32,20,34],[34,6,21,8],[34,12,21,14,"rank"],[34,16,21,18],[34,19,21,21,"xShape"],[34,25,21,27],[34,26,21,28,"length"],[34,32,21,34],[35,6,22,8],[35,10,22,12,"rank"],[35,14,22,16],[35,17,22,19],[35,18,22,20],[35,20,22,22],[36,8,23,12],[36,14,23,18],[36,18,23,22,"Error"],[36,23,23,27],[36,24,23,28],[36,58,23,62,"rank"],[36,62,23,66],[36,92,23,96],[36,93,23,97],[37,6,24,8],[38,6,25,8],[38,10,25,12],[38,11,25,13,"outputShape"],[38,22,25,24],[38,25,25,27,"xShape"],[38,31,25,33],[39,6,26,8],[39,10,26,12,"rank"],[39,14,26,16],[39,19,26,21],[39,20,26,22],[39,22,26,24],[40,8,27,12],[40,12,27,16],[40,13,27,17,"userCode"],[40,21,27,25],[40,24,27,28],[41,0,28,0],[42,0,29,0],[43,0,30,0],[43,27,30,27,"xShape"],[43,33,30,33],[43,34,30,34],[43,35,30,35],[43,36,30,36],[44,0,31,0],[45,0,32,0],[45,7,32,7],[46,8,33,12],[47,6,34,8],[48,6,35,8],[48,12,35,14,"getInCoord"],[48,22,35,24],[48,25,35,28,"i"],[48,26,35,29],[48,30,35,34],[49,8,36,12],[49,12,36,16,"axis"],[49,16,36,20],[49,17,36,21,"indexOf"],[49,24,36,28],[49,25,36,29,"i"],[49,26,36,30],[49,27,36,31],[49,32,36,36],[49,33,36,37],[49,34,36,38],[49,38,36,42,"xShape"],[49,44,36,48],[49,45,36,49,"i"],[49,46,36,50],[49,47,36,51],[49,52,36,56],[49,53,36,57],[49,55,36,59],[50,10,37,16],[50,17,37,23],[50,20,37,26,"xShape"],[50,26,37,32],[50,27,37,33,"i"],[50,28,37,34],[50,29,37,35],[50,42,37,48,"i"],[50,43,37,49],[50,50,37,56],[51,8,38,12],[52,8,39,12],[52,15,39,19],[52,25,39,29,"i"],[52,26,39,30],[52,29,39,33],[53,6,40,8],[53,7,40,9],[54,6,41,8],[54,12,41,14,"inCoords"],[54,20,41,22],[54,23,41,25,"xShape"],[54,29,41,31],[54,30,41,32,"map"],[54,33,41,35],[54,34,41,36],[54,35,41,37,"_"],[54,36,41,38],[54,38,41,40,"i"],[54,39,41,41],[54,44,41,46,"getInCoord"],[54,54,41,56],[54,55,41,57,"i"],[54,56,41,58],[54,57,41,59],[54,58,41,60],[54,59,41,61,"join"],[54,63,41,65],[54,64,41,66],[54,67,41,69],[54,68,41,70],[55,6,42,8],[55,12,42,14,"type"],[55,16,42,18],[55,19,42,21],[55,23,42,21,"getCoordsDataType"],[55,39,42,38],[55,40,42,38,"getCoordsDataType"],[55,57,42,38],[55,59,42,39,"rank"],[55,63,42,43],[55,64,42,44],[56,6,43,8],[56,10,43,12],[56,11,43,13,"userCode"],[56,19,43,21],[56,22,43,24],[57,0,44,0],[58,0,45,0],[58,10,45,10,"type"],[58,14,45,14],[59,0,46,0],[59,25,46,25,"inCoords"],[59,33,46,33],[60,0,47,0],[61,0,48,0],[61,5,48,5],[62,4,49,4],[63,2,50,0],[64,0,50,1],[64,3]],"functionMap":{"names":["<global>","ReverseProgram","ReverseProgram#constructor","getInCoord","xShape.map$argument_0"],"mappings":"AAA;OCiB;ICC;2BCgB;SDK;oCEC,uBF;KDQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}