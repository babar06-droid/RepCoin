{"dependencies":[{"name":"../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":53,"index":756}}],"key":"UCKDOr/oOGi3nbD26ZhyAVW61qk=","exportNames":["*"],"imports":1}},{"name":"./add","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":757},"end":{"line":18,"column":28,"index":785}}],"key":"YzBaFStBt+uixjzrdu0NxJdBO+o=","exportNames":["*"],"imports":1}},{"name":"./concat","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":786},"end":{"line":19,"column":34,"index":820}}],"key":"FP3uGDKNQI4HSW30ErkJMW2RHSQ=","exportNames":["*"],"imports":1}},{"name":"./mat_mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":821},"end":{"line":20,"column":35,"index":856}}],"key":"wdukLONs1EZSLKt1nm4/GD4OfGk=","exportNames":["*"],"imports":1}},{"name":"./mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":857},"end":{"line":21,"column":28,"index":885}}],"key":"dGJcm1XT1xn6xqxUHy8IlN16LWU=","exportNames":["*"],"imports":1}},{"name":"./operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":886},"end":{"line":22,"column":33,"index":919}}],"key":"lmmEAb6oR3TWnrsrETceKUovfkM=","exportNames":["*"],"imports":1}},{"name":"./sigmoid","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":920},"end":{"line":23,"column":36,"index":956}}],"key":"2olHe+V8gT9PUYmCxTlJk4agPd8=","exportNames":["*"],"imports":1}},{"name":"./slice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":957},"end":{"line":24,"column":32,"index":989}}],"key":"KGz4fEzvWLmlCuRU/iECx7RcJHE=","exportNames":["*"],"imports":1}},{"name":"./tanh","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":990},"end":{"line":25,"column":30,"index":1020}}],"key":"DIcHtiC9vQzYUUmzsG5Rroy1K1o=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"basicLSTMCell\", {\n    enumerable: true,\n    get: function () {\n      return basicLSTMCell;\n    }\n  });\n  var _tensor_util_env = require(_dependencyMap[0], \"../tensor_util_env\");\n  var _add = require(_dependencyMap[1], \"./add\");\n  var _concat = require(_dependencyMap[2], \"./concat\");\n  var _mat_mul = require(_dependencyMap[3], \"./mat_mul\");\n  var _mul = require(_dependencyMap[4], \"./mul\");\n  var _operation = require(_dependencyMap[5], \"./operation\");\n  var _sigmoid = require(_dependencyMap[6], \"./sigmoid\");\n  var _slice = require(_dependencyMap[7], \"./slice\");\n  var _tanh = require(_dependencyMap[8], \"./tanh\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Computes the next state and output of a BasicLSTMCell.\n   *\n   * Returns `[newC, newH]`.\n   *\n   * Derived from tf.contrib.rnn.BasicLSTMCell.\n   *\n   * @param forgetBias Forget bias for the cell.\n   * @param lstmKernel The weights for the cell.\n   * @param lstmBias The bias for the cell.\n   * @param data The input to the cell.\n   * @param c Previous cell state.\n   * @param h Previous cell output.\n   *\n   * @doc {heading: 'Operations', subheading: 'RNN'}\n   */\n  function basicLSTMCell_(forgetBias, lstmKernel, lstmBias, data, c, h) {\n    const $forgetBias = (0, _tensor_util_env.convertToTensor)(forgetBias, 'forgetBias', 'basicLSTMCell');\n    const $lstmKernel = (0, _tensor_util_env.convertToTensor)(lstmKernel, 'lstmKernel', 'basicLSTMCell');\n    const $lstmBias = (0, _tensor_util_env.convertToTensor)(lstmBias, 'lstmBias', 'basicLSTMCell');\n    const $data = (0, _tensor_util_env.convertToTensor)(data, 'data', 'basicLSTMCell');\n    const $c = (0, _tensor_util_env.convertToTensor)(c, 'c', 'basicLSTMCell');\n    const $h = (0, _tensor_util_env.convertToTensor)(h, 'h', 'basicLSTMCell');\n    const combined = (0, _concat.concat)([$data, $h], 1);\n    const weighted = (0, _mat_mul.matMul)(combined, $lstmKernel);\n    const res = (0, _add.add)(weighted, $lstmBias);\n    // i = input_gate, j = new_input, f = forget_gate, o = output_gate\n    const batchSize = res.shape[0];\n    const sliceCols = res.shape[1] / 4;\n    const sliceSize = [batchSize, sliceCols];\n    const i = (0, _slice.slice)(res, [0, 0], sliceSize);\n    const j = (0, _slice.slice)(res, [0, sliceCols], sliceSize);\n    const f = (0, _slice.slice)(res, [0, sliceCols * 2], sliceSize);\n    const o = (0, _slice.slice)(res, [0, sliceCols * 3], sliceSize);\n    const newC = (0, _add.add)((0, _mul.mul)((0, _sigmoid.sigmoid)(i), (0, _tanh.tanh)(j)), (0, _mul.mul)($c, (0, _sigmoid.sigmoid)((0, _add.add)($forgetBias, f))));\n    const newH = (0, _mul.mul)((0, _tanh.tanh)(newC), (0, _sigmoid.sigmoid)(o));\n    return [newC, newH];\n  }\n  const basicLSTMCell = /* @__PURE__ */(0, _operation.op)({\n    basicLSTMCell_\n  });\n});","lineCount":80,"map":[[7,2,64,0,"Object"],[7,8,64,0],[7,9,64,0,"defineProperty"],[7,23,64,0],[7,24,64,0,"exports"],[7,31,64,0],[8,4,64,0,"enumerable"],[8,14,64,0],[9,4,64,0,"get"],[9,7,64,0],[9,18,64,0,"get"],[9,19,64,0],[10,6,64,0],[10,13,64,0,"basicLSTMCell"],[10,26,64,0],[11,4,64,0],[12,2,64,0],[13,2,17,0],[13,6,17,0,"_tensor_util_env"],[13,22,17,0],[13,25,17,0,"require"],[13,32,17,0],[13,33,17,0,"_dependencyMap"],[13,47,17,0],[14,2,18,0],[14,6,18,0,"_add"],[14,10,18,0],[14,13,18,0,"require"],[14,20,18,0],[14,21,18,0,"_dependencyMap"],[14,35,18,0],[15,2,19,0],[15,6,19,0,"_concat"],[15,13,19,0],[15,16,19,0,"require"],[15,23,19,0],[15,24,19,0,"_dependencyMap"],[15,38,19,0],[16,2,20,0],[16,6,20,0,"_mat_mul"],[16,14,20,0],[16,17,20,0,"require"],[16,24,20,0],[16,25,20,0,"_dependencyMap"],[16,39,20,0],[17,2,21,0],[17,6,21,0,"_mul"],[17,10,21,0],[17,13,21,0,"require"],[17,20,21,0],[17,21,21,0,"_dependencyMap"],[17,35,21,0],[18,2,22,0],[18,6,22,0,"_operation"],[18,16,22,0],[18,19,22,0,"require"],[18,26,22,0],[18,27,22,0,"_dependencyMap"],[18,41,22,0],[19,2,23,0],[19,6,23,0,"_sigmoid"],[19,14,23,0],[19,17,23,0,"require"],[19,24,23,0],[19,25,23,0,"_dependencyMap"],[19,39,23,0],[20,2,24,0],[20,6,24,0,"_slice"],[20,12,24,0],[20,15,24,0,"require"],[20,22,24,0],[20,23,24,0,"_dependencyMap"],[20,37,24,0],[21,2,25,0],[21,6,25,0,"_tanh"],[21,11,25,0],[21,14,25,0,"require"],[21,21,25,0],[21,22,25,0,"_dependencyMap"],[21,36,25,0],[22,2,1,0],[23,0,2,0],[24,0,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[30,0,9,0],[31,0,10,0],[32,0,11,0],[33,0,12,0],[34,0,13,0],[35,0,14,0],[36,0,15,0],[37,0,16,0],[39,2,26,0],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,0,41,0],[55,2,42,0],[55,11,42,9,"basicLSTMCell_"],[55,25,42,23,"basicLSTMCell_"],[55,26,42,24,"forgetBias"],[55,36,42,34],[55,38,42,36,"lstmKernel"],[55,48,42,46],[55,50,42,48,"lstmBias"],[55,58,42,56],[55,60,42,58,"data"],[55,64,42,62],[55,66,42,64,"c"],[55,67,42,65],[55,69,42,67,"h"],[55,70,42,68],[55,72,42,70],[56,4,43,4],[56,10,43,10,"$forgetBias"],[56,21,43,21],[56,24,43,24],[56,28,43,24,"convertToTensor"],[56,44,43,39],[56,45,43,39,"convertToTensor"],[56,60,43,39],[56,62,43,40,"forgetBias"],[56,72,43,50],[56,74,43,52],[56,86,43,64],[56,88,43,66],[56,103,43,81],[56,104,43,82],[57,4,44,4],[57,10,44,10,"$lstmKernel"],[57,21,44,21],[57,24,44,24],[57,28,44,24,"convertToTensor"],[57,44,44,39],[57,45,44,39,"convertToTensor"],[57,60,44,39],[57,62,44,40,"lstmKernel"],[57,72,44,50],[57,74,44,52],[57,86,44,64],[57,88,44,66],[57,103,44,81],[57,104,44,82],[58,4,45,4],[58,10,45,10,"$lstmBias"],[58,19,45,19],[58,22,45,22],[58,26,45,22,"convertToTensor"],[58,42,45,37],[58,43,45,37,"convertToTensor"],[58,58,45,37],[58,60,45,38,"lstmBias"],[58,68,45,46],[58,70,45,48],[58,80,45,58],[58,82,45,60],[58,97,45,75],[58,98,45,76],[59,4,46,4],[59,10,46,10,"$data"],[59,15,46,15],[59,18,46,18],[59,22,46,18,"convertToTensor"],[59,38,46,33],[59,39,46,33,"convertToTensor"],[59,54,46,33],[59,56,46,34,"data"],[59,60,46,38],[59,62,46,40],[59,68,46,46],[59,70,46,48],[59,85,46,63],[59,86,46,64],[60,4,47,4],[60,10,47,10,"$c"],[60,12,47,12],[60,15,47,15],[60,19,47,15,"convertToTensor"],[60,35,47,30],[60,36,47,30,"convertToTensor"],[60,51,47,30],[60,53,47,31,"c"],[60,54,47,32],[60,56,47,34],[60,59,47,37],[60,61,47,39],[60,76,47,54],[60,77,47,55],[61,4,48,4],[61,10,48,10,"$h"],[61,12,48,12],[61,15,48,15],[61,19,48,15,"convertToTensor"],[61,35,48,30],[61,36,48,30,"convertToTensor"],[61,51,48,30],[61,53,48,31,"h"],[61,54,48,32],[61,56,48,34],[61,59,48,37],[61,61,48,39],[61,76,48,54],[61,77,48,55],[62,4,49,4],[62,10,49,10,"combined"],[62,18,49,18],[62,21,49,21],[62,25,49,21,"concat"],[62,32,49,27],[62,33,49,27,"concat"],[62,39,49,27],[62,41,49,28],[62,42,49,29,"$data"],[62,47,49,34],[62,49,49,36,"$h"],[62,51,49,38],[62,52,49,39],[62,54,49,41],[62,55,49,42],[62,56,49,43],[63,4,50,4],[63,10,50,10,"weighted"],[63,18,50,18],[63,21,50,21],[63,25,50,21,"matMul"],[63,33,50,27],[63,34,50,27,"matMul"],[63,40,50,27],[63,42,50,28,"combined"],[63,50,50,36],[63,52,50,38,"$lstmKernel"],[63,63,50,49],[63,64,50,50],[64,4,51,4],[64,10,51,10,"res"],[64,13,51,13],[64,16,51,16],[64,20,51,16,"add"],[64,24,51,19],[64,25,51,19,"add"],[64,28,51,19],[64,30,51,20,"weighted"],[64,38,51,28],[64,40,51,30,"$lstmBias"],[64,49,51,39],[64,50,51,40],[65,4,52,4],[66,4,53,4],[66,10,53,10,"batchSize"],[66,19,53,19],[66,22,53,22,"res"],[66,25,53,25],[66,26,53,26,"shape"],[66,31,53,31],[66,32,53,32],[66,33,53,33],[66,34,53,34],[67,4,54,4],[67,10,54,10,"sliceCols"],[67,19,54,19],[67,22,54,22,"res"],[67,25,54,25],[67,26,54,26,"shape"],[67,31,54,31],[67,32,54,32],[67,33,54,33],[67,34,54,34],[67,37,54,37],[67,38,54,38],[68,4,55,4],[68,10,55,10,"sliceSize"],[68,19,55,19],[68,22,55,22],[68,23,55,23,"batchSize"],[68,32,55,32],[68,34,55,34,"sliceCols"],[68,43,55,43],[68,44,55,44],[69,4,56,4],[69,10,56,10,"i"],[69,11,56,11],[69,14,56,14],[69,18,56,14,"slice"],[69,24,56,19],[69,25,56,19,"slice"],[69,30,56,19],[69,32,56,20,"res"],[69,35,56,23],[69,37,56,25],[69,38,56,26],[69,39,56,27],[69,41,56,29],[69,42,56,30],[69,43,56,31],[69,45,56,33,"sliceSize"],[69,54,56,42],[69,55,56,43],[70,4,57,4],[70,10,57,10,"j"],[70,11,57,11],[70,14,57,14],[70,18,57,14,"slice"],[70,24,57,19],[70,25,57,19,"slice"],[70,30,57,19],[70,32,57,20,"res"],[70,35,57,23],[70,37,57,25],[70,38,57,26],[70,39,57,27],[70,41,57,29,"sliceCols"],[70,50,57,38],[70,51,57,39],[70,53,57,41,"sliceSize"],[70,62,57,50],[70,63,57,51],[71,4,58,4],[71,10,58,10,"f"],[71,11,58,11],[71,14,58,14],[71,18,58,14,"slice"],[71,24,58,19],[71,25,58,19,"slice"],[71,30,58,19],[71,32,58,20,"res"],[71,35,58,23],[71,37,58,25],[71,38,58,26],[71,39,58,27],[71,41,58,29,"sliceCols"],[71,50,58,38],[71,53,58,41],[71,54,58,42],[71,55,58,43],[71,57,58,45,"sliceSize"],[71,66,58,54],[71,67,58,55],[72,4,59,4],[72,10,59,10,"o"],[72,11,59,11],[72,14,59,14],[72,18,59,14,"slice"],[72,24,59,19],[72,25,59,19,"slice"],[72,30,59,19],[72,32,59,20,"res"],[72,35,59,23],[72,37,59,25],[72,38,59,26],[72,39,59,27],[72,41,59,29,"sliceCols"],[72,50,59,38],[72,53,59,41],[72,54,59,42],[72,55,59,43],[72,57,59,45,"sliceSize"],[72,66,59,54],[72,67,59,55],[73,4,60,4],[73,10,60,10,"newC"],[73,14,60,14],[73,17,60,17],[73,21,60,17,"add"],[73,25,60,20],[73,26,60,20,"add"],[73,29,60,20],[73,31,60,21],[73,35,60,21,"mul"],[73,39,60,24],[73,40,60,24,"mul"],[73,43,60,24],[73,45,60,25],[73,49,60,25,"sigmoid"],[73,57,60,32],[73,58,60,32,"sigmoid"],[73,65,60,32],[73,67,60,33,"i"],[73,68,60,34],[73,69,60,35],[73,71,60,37],[73,75,60,37,"tanh"],[73,80,60,41],[73,81,60,41,"tanh"],[73,85,60,41],[73,87,60,42,"j"],[73,88,60,43],[73,89,60,44],[73,90,60,45],[73,92,60,47],[73,96,60,47,"mul"],[73,100,60,50],[73,101,60,50,"mul"],[73,104,60,50],[73,106,60,51,"$c"],[73,108,60,53],[73,110,60,55],[73,114,60,55,"sigmoid"],[73,122,60,62],[73,123,60,62,"sigmoid"],[73,130,60,62],[73,132,60,63],[73,136,60,63,"add"],[73,140,60,66],[73,141,60,66,"add"],[73,144,60,66],[73,146,60,67,"$forgetBias"],[73,157,60,78],[73,159,60,80,"f"],[73,160,60,81],[73,161,60,82],[73,162,60,83],[73,163,60,84],[73,164,60,85],[74,4,61,4],[74,10,61,10,"newH"],[74,14,61,14],[74,17,61,17],[74,21,61,17,"mul"],[74,25,61,20],[74,26,61,20,"mul"],[74,29,61,20],[74,31,61,21],[74,35,61,21,"tanh"],[74,40,61,25],[74,41,61,25,"tanh"],[74,45,61,25],[74,47,61,26,"newC"],[74,51,61,30],[74,52,61,31],[74,54,61,33],[74,58,61,33,"sigmoid"],[74,66,61,40],[74,67,61,40,"sigmoid"],[74,74,61,40],[74,76,61,41,"o"],[74,77,61,42],[74,78,61,43],[74,79,61,44],[75,4,62,4],[75,11,62,11],[75,12,62,12,"newC"],[75,16,62,16],[75,18,62,18,"newH"],[75,22,62,22],[75,23,62,23],[76,2,63,0],[77,2,64,7],[77,8,64,13,"basicLSTMCell"],[77,21,64,26],[77,24,64,29],[77,39,64,45],[77,43,64,45,"op"],[77,53,64,47],[77,54,64,47,"op"],[77,56,64,47],[77,58,64,48],[78,4,64,50,"basicLSTMCell_"],[79,2,64,65],[79,3,64,66],[79,4,64,67],[80,0,64,68],[80,3]],"functionMap":{"names":["<global>","basicLSTMCell_"],"mappings":"AAA;ACyC;CDqB"},"hasCjsExports":false},"type":"js/module"}]}