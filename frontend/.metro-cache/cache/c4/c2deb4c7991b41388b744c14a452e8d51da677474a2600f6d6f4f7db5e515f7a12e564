{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":51,"index":754}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../utils/binary_impl","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":755},"end":{"line":18,"column":68,"index":823}}],"key":"iW0MQm6MCAFCw3mMGg5wYbfOxl4=","exportNames":["*"],"imports":1}},{"name":"../utils/zeros_impl","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":824},"end":{"line":19,"column":44,"index":868}}],"key":"EpYipdIxs2xnJ6MzrElw739bTpA=","exportNames":["*"],"imports":1}},{"name":"./Complex","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":869},"end":{"line":20,"column":36,"index":905}}],"key":"Bysb0JPMWrey4b1smc9YxxmirUY=","exportNames":["*"],"imports":1}},{"name":"./Identity","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":906},"end":{"line":21,"column":38,"index":944}}],"key":"fmoGkMbvl3R/HMlCKK1PD8/q2lc=","exportNames":["*"],"imports":1}},{"name":"./Real","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":945},"end":{"line":22,"column":30,"index":975}}],"key":"AadiE4zTOuUk7AFE56N1ZF9owr0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.castImpl = castImpl;\n  exports.cast = cast;\n  Object.defineProperty(exports, \"castConfig\", {\n    enumerable: true,\n    get: function () {\n      return castConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _utilsBinary_impl = require(_dependencyMap[1], \"../utils/binary_impl\");\n  var _utilsZeros_impl = require(_dependencyMap[2], \"../utils/zeros_impl\");\n  var _Complex = require(_dependencyMap[3], \"./Complex\");\n  var _Identity = require(_dependencyMap[4], \"./Identity\");\n  var _Real = require(_dependencyMap[5], \"./Real\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function castImpl(values, shape, inputType, dtype) {\n    if (dtype === 'int32') {\n      const resultValues = Int32Array.from(values);\n      return [shape, 'int32', resultValues];\n    }\n    if (dtype === 'bool') {\n      // This is essentially the result of notEqual(x, 0). We avoid using\n      // kernel notEqual to avoid circular dependency, i.e. binary_utils ->\n      // cast -> notEqual -> binary_utils.\n      const zero = _tensorflowTfjsCore.util.toTypedArray([0], inputType);\n      const [resultData, resultShape] = (0, _utilsBinary_impl.createSimpleBinaryKernelImpl)((a, b) => a !== b ? 1 : 0)(shape, [], values, zero, 'bool');\n      return [resultShape, 'bool', resultData];\n    }\n    throw new Error(`Error in Cast: failed to cast ${inputType} to ${dtype}`);\n  }\n  function cast(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      dtype\n    } = attrs;\n    // Casting to complex64.\n    if (dtype === 'complex64') {\n      if (x.dtype === 'complex64') {\n        return (0, _Identity.identity)({\n          inputs: {\n            x\n          },\n          backend\n        });\n      }\n      const zerosTensorInfo = (0, _utilsZeros_impl.zeros)(backend, x.shape, x.dtype);\n      const floatX = cast({\n        inputs: {\n          x\n        },\n        backend,\n        attrs: {\n          dtype: 'float32'\n        }\n      });\n      const result = (0, _Complex.complex)({\n        inputs: {\n          real: floatX,\n          imag: zerosTensorInfo\n        },\n        backend\n      });\n      backend.disposeIntermediateTensorInfo(zerosTensorInfo);\n      backend.disposeIntermediateTensorInfo(floatX);\n      return result;\n    }\n    // Casting from complex64\n    if (x.dtype === 'complex64') {\n      const realPart = (0, _Real.real)({\n        inputs: {\n          input: x\n        },\n        backend\n      });\n      const result = cast({\n        inputs: {\n          x: realPart\n        },\n        backend,\n        attrs: {\n          dtype\n        }\n      });\n      backend.disposeIntermediateTensorInfo(realPart);\n      return result;\n    }\n    if (!_tensorflowTfjsCore.util.hasEncodingLoss(x.dtype, dtype)) {\n      // We don't change the underlying data, since we cast to higher\n      // precision.\n      const result = (0, _Identity.identity)({\n        inputs: {\n          x\n        },\n        backend\n      });\n      return {\n        dataId: result.dataId,\n        shape: result.shape,\n        dtype\n      };\n    }\n    const values = backend.data.get(x.dataId).values;\n    const [resultShape, resultType, resultData] = castImpl(values, x.shape, x.dtype, dtype);\n    return backend.makeTensorInfo(resultShape, resultType, resultData);\n  }\n  const castConfig = {\n    kernelName: _tensorflowTfjsCore.Cast,\n    backendName: 'cpu',\n    kernelFunc: cast\n  };\n});","lineCount":140,"map":[[7,2,23,0,"exports"],[7,9,23,0],[7,10,23,0,"castImpl"],[7,18,23,0],[7,21,23,0,"castImpl"],[7,29,23,0],[8,2,38,0,"exports"],[8,9,38,0],[8,10,38,0,"cast"],[8,14,38,0],[8,17,38,0,"cast"],[8,21,38,0],[9,2,71,0,"Object"],[9,8,71,0],[9,9,71,0,"defineProperty"],[9,23,71,0],[9,24,71,0,"exports"],[9,31,71,0],[10,4,71,0,"enumerable"],[10,14,71,0],[11,4,71,0,"get"],[11,7,71,0],[11,18,71,0,"get"],[11,19,71,0],[12,6,71,0],[12,13,71,0,"castConfig"],[12,23,71,0],[13,4,71,0],[14,2,71,0],[15,2,17,0],[15,6,17,0,"_tensorflowTfjsCore"],[15,25,17,0],[15,28,17,0,"require"],[15,35,17,0],[15,36,17,0,"_dependencyMap"],[15,50,17,0],[16,2,18,0],[16,6,18,0,"_utilsBinary_impl"],[16,23,18,0],[16,26,18,0,"require"],[16,33,18,0],[16,34,18,0,"_dependencyMap"],[16,48,18,0],[17,2,19,0],[17,6,19,0,"_utilsZeros_impl"],[17,22,19,0],[17,25,19,0,"require"],[17,32,19,0],[17,33,19,0,"_dependencyMap"],[17,47,19,0],[18,2,20,0],[18,6,20,0,"_Complex"],[18,14,20,0],[18,17,20,0,"require"],[18,24,20,0],[18,25,20,0,"_dependencyMap"],[18,39,20,0],[19,2,21,0],[19,6,21,0,"_Identity"],[19,15,21,0],[19,18,21,0,"require"],[19,25,21,0],[19,26,21,0,"_dependencyMap"],[19,40,21,0],[20,2,22,0],[20,6,22,0,"_Real"],[20,11,22,0],[20,14,22,0,"require"],[20,21,22,0],[20,22,22,0,"_dependencyMap"],[20,36,22,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,0,9,0],[30,0,10,0],[31,0,11,0],[32,0,12,0],[33,0,13,0],[34,0,14,0],[35,0,15,0],[36,0,16,0],[38,2,23,7],[38,11,23,16,"castImpl"],[38,19,23,24,"castImpl"],[38,20,23,25,"values"],[38,26,23,31],[38,28,23,33,"shape"],[38,33,23,38],[38,35,23,40,"inputType"],[38,44,23,49],[38,46,23,51,"dtype"],[38,51,23,56],[38,53,23,58],[39,4,24,4],[39,8,24,8,"dtype"],[39,13,24,13],[39,18,24,18],[39,25,24,25],[39,27,24,27],[40,6,25,8],[40,12,25,14,"resultValues"],[40,24,25,26],[40,27,25,29,"Int32Array"],[40,37,25,39],[40,38,25,40,"from"],[40,42,25,44],[40,43,25,45,"values"],[40,49,25,51],[40,50,25,52],[41,6,26,8],[41,13,26,15],[41,14,26,16,"shape"],[41,19,26,21],[41,21,26,23],[41,28,26,30],[41,30,26,32,"resultValues"],[41,42,26,44],[41,43,26,45],[42,4,27,4],[43,4,28,4],[43,8,28,8,"dtype"],[43,13,28,13],[43,18,28,18],[43,24,28,24],[43,26,28,26],[44,6,29,8],[45,6,30,8],[46,6,31,8],[47,6,32,8],[47,12,32,14,"zero"],[47,16,32,18],[47,19,32,21,"util"],[47,38,32,25],[47,39,32,25,"util"],[47,43,32,25],[47,44,32,26,"toTypedArray"],[47,56,32,38],[47,57,32,39],[47,58,32,40],[47,59,32,41],[47,60,32,42],[47,62,32,44,"inputType"],[47,71,32,53],[47,72,32,54],[48,6,33,8],[48,12,33,14],[48,13,33,15,"resultData"],[48,23,33,25],[48,25,33,27,"resultShape"],[48,36,33,38],[48,37,33,39],[48,40,33,42],[48,44,33,42,"createSimpleBinaryKernelImpl"],[48,61,33,70],[48,62,33,70,"createSimpleBinaryKernelImpl"],[48,90,33,70],[48,92,33,71],[48,93,33,72,"a"],[48,94,33,73],[48,96,33,75,"b"],[48,97,33,76],[48,102,33,82,"a"],[48,103,33,83],[48,108,33,88,"b"],[48,109,33,89],[48,112,33,93],[48,113,33,94],[48,116,33,97],[48,117,33,98],[48,118,33,99],[48,119,33,100,"shape"],[48,124,33,105],[48,126,33,107],[48,128,33,109],[48,130,33,111,"values"],[48,136,33,117],[48,138,33,119,"zero"],[48,142,33,123],[48,144,33,125],[48,150,33,131],[48,151,33,132],[49,6,34,8],[49,13,34,15],[49,14,34,16,"resultShape"],[49,25,34,27],[49,27,34,29],[49,33,34,35],[49,35,34,37,"resultData"],[49,45,34,47],[49,46,34,48],[50,4,35,4],[51,4,36,4],[51,10,36,10],[51,14,36,14,"Error"],[51,19,36,19],[51,20,36,20],[51,53,36,53,"inputType"],[51,62,36,62],[51,69,36,69,"dtype"],[51,74,36,74],[51,76,36,76],[51,77,36,77],[52,2,37,0],[53,2,38,7],[53,11,38,16,"cast"],[53,15,38,20,"cast"],[53,16,38,21,"args"],[53,20,38,25],[53,22,38,27],[54,4,39,4],[54,10,39,10],[55,6,39,12,"inputs"],[55,12,39,18],[56,6,39,20,"backend"],[56,13,39,27],[57,6,39,29,"attrs"],[58,4,39,35],[58,5,39,36],[58,8,39,39,"args"],[58,12,39,43],[59,4,40,4],[59,10,40,10],[60,6,40,12,"x"],[61,4,40,14],[61,5,40,15],[61,8,40,18,"inputs"],[61,14,40,24],[62,4,41,4],[62,10,41,10],[63,6,41,12,"dtype"],[64,4,41,18],[64,5,41,19],[64,8,41,22,"attrs"],[64,13,41,27],[65,4,42,4],[66,4,43,4],[66,8,43,8,"dtype"],[66,13,43,13],[66,18,43,18],[66,29,43,29],[66,31,43,31],[67,6,44,8],[67,10,44,12,"x"],[67,11,44,13],[67,12,44,14,"dtype"],[67,17,44,19],[67,22,44,24],[67,33,44,35],[67,35,44,37],[68,8,45,12],[68,15,45,19],[68,19,45,19,"identity"],[68,28,45,27],[68,29,45,27,"identity"],[68,37,45,27],[68,39,45,28],[69,10,45,30,"inputs"],[69,16,45,36],[69,18,45,38],[70,12,45,40,"x"],[71,10,45,42],[71,11,45,43],[72,10,45,45,"backend"],[73,8,45,53],[73,9,45,54],[73,10,45,55],[74,6,46,8],[75,6,47,8],[75,12,47,14,"zerosTensorInfo"],[75,27,47,29],[75,30,47,32],[75,34,47,32,"zeros"],[75,50,47,37],[75,51,47,37,"zeros"],[75,56,47,37],[75,58,47,38,"backend"],[75,65,47,45],[75,67,47,47,"x"],[75,68,47,48],[75,69,47,49,"shape"],[75,74,47,54],[75,76,47,56,"x"],[75,77,47,57],[75,78,47,58,"dtype"],[75,83,47,63],[75,84,47,64],[76,6,48,8],[76,12,48,14,"floatX"],[76,18,48,20],[76,21,48,23,"cast"],[76,25,48,27],[76,26,48,28],[77,8,48,30,"inputs"],[77,14,48,36],[77,16,48,38],[78,10,48,40,"x"],[79,8,48,42],[79,9,48,43],[80,8,48,45,"backend"],[80,15,48,52],[81,8,48,54,"attrs"],[81,13,48,59],[81,15,48,61],[82,10,48,63,"dtype"],[82,15,48,68],[82,17,48,70],[83,8,48,80],[84,6,48,82],[84,7,48,83],[84,8,48,84],[85,6,49,8],[85,12,49,14,"result"],[85,18,49,20],[85,21,49,23],[85,25,49,23,"complex"],[85,33,49,30],[85,34,49,30,"complex"],[85,41,49,30],[85,43,49,31],[86,8,49,33,"inputs"],[86,14,49,39],[86,16,49,41],[87,10,49,43,"real"],[87,14,49,47],[87,16,49,49,"floatX"],[87,22,49,55],[88,10,49,57,"imag"],[88,14,49,61],[88,16,49,63,"zerosTensorInfo"],[89,8,49,79],[89,9,49,80],[90,8,49,82,"backend"],[91,6,49,90],[91,7,49,91],[91,8,49,92],[92,6,50,8,"backend"],[92,13,50,15],[92,14,50,16,"disposeIntermediateTensorInfo"],[92,43,50,45],[92,44,50,46,"zerosTensorInfo"],[92,59,50,61],[92,60,50,62],[93,6,51,8,"backend"],[93,13,51,15],[93,14,51,16,"disposeIntermediateTensorInfo"],[93,43,51,45],[93,44,51,46,"floatX"],[93,50,51,52],[93,51,51,53],[94,6,52,8],[94,13,52,15,"result"],[94,19,52,21],[95,4,53,4],[96,4,54,4],[97,4,55,4],[97,8,55,8,"x"],[97,9,55,9],[97,10,55,10,"dtype"],[97,15,55,15],[97,20,55,20],[97,31,55,31],[97,33,55,33],[98,6,56,8],[98,12,56,14,"realPart"],[98,20,56,22],[98,23,56,25],[98,27,56,25,"real"],[98,32,56,29],[98,33,56,29,"real"],[98,37,56,29],[98,39,56,30],[99,8,56,32,"inputs"],[99,14,56,38],[99,16,56,40],[100,10,56,42,"input"],[100,15,56,47],[100,17,56,49,"x"],[101,8,56,51],[101,9,56,52],[102,8,56,54,"backend"],[103,6,56,62],[103,7,56,63],[103,8,56,64],[104,6,57,8],[104,12,57,14,"result"],[104,18,57,20],[104,21,57,23,"cast"],[104,25,57,27],[104,26,57,28],[105,8,57,30,"inputs"],[105,14,57,36],[105,16,57,38],[106,10,57,40,"x"],[106,11,57,41],[106,13,57,43,"realPart"],[107,8,57,52],[107,9,57,53],[108,8,57,55,"backend"],[108,15,57,62],[109,8,57,64,"attrs"],[109,13,57,69],[109,15,57,71],[110,10,57,73,"dtype"],[111,8,57,79],[112,6,57,81],[112,7,57,82],[112,8,57,83],[113,6,58,8,"backend"],[113,13,58,15],[113,14,58,16,"disposeIntermediateTensorInfo"],[113,43,58,45],[113,44,58,46,"realPart"],[113,52,58,54],[113,53,58,55],[114,6,59,8],[114,13,59,15,"result"],[114,19,59,21],[115,4,60,4],[116,4,61,4],[116,8,61,8],[116,9,61,9,"util"],[116,28,61,13],[116,29,61,13,"util"],[116,33,61,13],[116,34,61,14,"hasEncodingLoss"],[116,49,61,29],[116,50,61,30,"x"],[116,51,61,31],[116,52,61,32,"dtype"],[116,57,61,37],[116,59,61,39,"dtype"],[116,64,61,44],[116,65,61,45],[116,67,61,47],[117,6,62,8],[118,6,63,8],[119,6,64,8],[119,12,64,14,"result"],[119,18,64,20],[119,21,64,23],[119,25,64,23,"identity"],[119,34,64,31],[119,35,64,31,"identity"],[119,43,64,31],[119,45,64,32],[120,8,64,34,"inputs"],[120,14,64,40],[120,16,64,42],[121,10,64,44,"x"],[122,8,64,46],[122,9,64,47],[123,8,64,49,"backend"],[124,6,64,57],[124,7,64,58],[124,8,64,59],[125,6,65,8],[125,13,65,15],[126,8,65,17,"dataId"],[126,14,65,23],[126,16,65,25,"result"],[126,22,65,31],[126,23,65,32,"dataId"],[126,29,65,38],[127,8,65,40,"shape"],[127,13,65,45],[127,15,65,47,"result"],[127,21,65,53],[127,22,65,54,"shape"],[127,27,65,59],[128,8,65,61,"dtype"],[129,6,65,67],[129,7,65,68],[130,4,66,4],[131,4,67,4],[131,10,67,10,"values"],[131,16,67,16],[131,19,67,19,"backend"],[131,26,67,26],[131,27,67,27,"data"],[131,31,67,31],[131,32,67,32,"get"],[131,35,67,35],[131,36,67,36,"x"],[131,37,67,37],[131,38,67,38,"dataId"],[131,44,67,44],[131,45,67,45],[131,46,67,46,"values"],[131,52,67,52],[132,4,68,4],[132,10,68,10],[132,11,68,11,"resultShape"],[132,22,68,22],[132,24,68,24,"resultType"],[132,34,68,34],[132,36,68,36,"resultData"],[132,46,68,46],[132,47,68,47],[132,50,68,50,"castImpl"],[132,58,68,58],[132,59,68,59,"values"],[132,65,68,65],[132,67,68,67,"x"],[132,68,68,68],[132,69,68,69,"shape"],[132,74,68,74],[132,76,68,76,"x"],[132,77,68,77],[132,78,68,78,"dtype"],[132,83,68,83],[132,85,68,85,"dtype"],[132,90,68,90],[132,91,68,91],[133,4,69,4],[133,11,69,11,"backend"],[133,18,69,18],[133,19,69,19,"makeTensorInfo"],[133,33,69,33],[133,34,69,34,"resultShape"],[133,45,69,45],[133,47,69,47,"resultType"],[133,57,69,57],[133,59,69,59,"resultData"],[133,69,69,69],[133,70,69,70],[134,2,70,0],[135,2,71,7],[135,8,71,13,"castConfig"],[135,18,71,23],[135,21,71,26],[136,4,72,4,"kernelName"],[136,14,72,14],[136,16,72,16,"Cast"],[136,35,72,20],[136,36,72,20,"Cast"],[136,40,72,20],[137,4,73,4,"backendName"],[137,15,73,15],[137,17,73,17],[137,22,73,22],[138,4,74,4,"kernelFunc"],[138,14,74,14],[138,16,74,16,"cast"],[139,2,75,0],[139,3,75,1],[140,0,75,2],[140,3]],"functionMap":{"names":["<global>","castImpl","createSimpleBinaryKernelImpl$argument_0","cast"],"mappings":"AAA;OCsB;uECU,2BD;CDI;OGC;CHgC"},"hasCjsExports":false},"type":"js/module"}]}