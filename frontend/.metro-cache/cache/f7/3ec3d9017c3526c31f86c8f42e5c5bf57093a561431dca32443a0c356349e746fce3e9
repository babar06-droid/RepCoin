{"dependencies":[{"name":"../engine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":35,"index":738}}],"key":"zbTTi8rtwr8rjl75PzEo829Yvss=","exportNames":["*"],"imports":1}},{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":739},"end":{"line":18,"column":47,"index":786}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":787},"end":{"line":19,"column":53,"index":840}}],"key":"UCKDOr/oOGi3nbD26ZhyAVW61qk=","exportNames":["*"],"imports":1}},{"name":"../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":841},"end":{"line":20,"column":32,"index":873}}],"key":"DTmef1GE5grNQfsvpIzpBlINy9c=","exportNames":["*"],"imports":1}},{"name":"./operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":874},"end":{"line":21,"column":33,"index":907}}],"key":"lmmEAb6oR3TWnrsrETceKUovfkM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"depthToSpace\", {\n    enumerable: true,\n    get: function () {\n      return depthToSpace;\n    }\n  });\n  var _engine = require(_dependencyMap[0], \"../engine\");\n  var _kernel_names = require(_dependencyMap[1], \"../kernel_names\");\n  var _tensor_util_env = require(_dependencyMap[2], \"../tensor_util_env\");\n  var _util = require(_dependencyMap[3], \"../util\");\n  var util = _interopNamespace(_util);\n  var _operation = require(_dependencyMap[4], \"./operation\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Rearranges data from depth into blocks of spatial data. More specifically,\n   * this op outputs a copy of the input tensor where values from the `depth`\n   * dimension are moved in spatial blocks to the `height` and `width` dimensions.\n   * The attr `blockSize` indicates the input block size and how the data is\n   * moved.\n   *\n   *  - Chunks of data of size `blockSize * blockSize` from depth are rearranged\n   * into non-overlapping blocks of size `blockSize x blockSize`\n   *\n   *  - The width the output tensor is `inputWidth * blockSize`, whereas the\n   * height is `inputHeight * blockSize`\n   *\n   *  - The Y, X coordinates within each block of the output image are determined\n   * by the high order component of the input channel index\n   *\n   *  - The depth of the input tensor must be divisible by `blockSize *\n   * blockSize`\n   *\n   * The `dataFormat` attr specifies the layout of the input and output tensors\n   * with the following options: \"NHWC\": [ `batch, height, width, channels` ]\n   * \"NCHW\": [ `batch, channels, height, width` ]\n   *\n   * ```js\n   * const x = tf.tensor4d([1, 2, 3, 4], [1, 1, 1, 4]);\n   * const blockSize = 2;\n   * const dataFormat = \"NHWC\";\n   *\n   * tf.depthToSpace(x, blockSize, dataFormat).print();\n   * ```\n   *\n   * @param x The input tensor of rank 4\n   * @param blockSIze  An `int` that is `>= 2`. The size of the spatial block\n   * @param dataFormat An optional string from: \"NHWC\", \"NCHW\". Defaults to \"NHWC\"\n   *\n   * @doc {heading: 'Tensors', subheading: 'Transformations'}\n   */\n  function depthToSpace_(x, blockSize, dataFormat = 'NHWC') {\n    const $x = (0, _tensor_util_env.convertToTensor)(x, 'x', 'depthToSpace', 'float32');\n    const inputHeight = dataFormat === 'NHWC' ? $x.shape[1] : $x.shape[2];\n    const inputWidth = dataFormat === 'NHWC' ? $x.shape[2] : $x.shape[3];\n    const inputDepth = dataFormat === 'NHWC' ? $x.shape[3] : $x.shape[1];\n    util.assert(blockSize > 1, () => `blockSize should be > 1 for depthToSpace, but was: ${blockSize}`);\n    util.assert(inputHeight * blockSize >= 0, () => `Negative dimension size caused by overflow when multiplying\n    ${inputHeight} and ${blockSize}  for depthToSpace with input shape\n    ${$x.shape}`);\n    util.assert(inputWidth * blockSize >= 0, () => `Negative dimension size caused by overflow when multiplying\n    ${inputWidth} and ${blockSize} for depthToSpace with input shape\n        ${$x.shape}`);\n    util.assert(inputDepth % (blockSize * blockSize) === 0, () => `Dimension size must be evenly divisible by ${blockSize * blockSize} but is ${inputDepth} for depthToSpace with input shape ${$x.shape}`);\n    const inputs = {\n      x: $x\n    };\n    const attrs = {\n      blockSize,\n      dataFormat\n    };\n    return _engine.ENGINE.runKernel(_kernel_names.DepthToSpace, inputs, attrs);\n  }\n  const depthToSpace = /* @__PURE__ */(0, _operation.op)({\n    depthToSpace_\n  });\n});","lineCount":113,"map":[[22,2,76,0,"Object"],[22,8,76,0],[22,9,76,0,"defineProperty"],[22,23,76,0],[22,24,76,0,"exports"],[22,31,76,0],[23,4,76,0,"enumerable"],[23,14,76,0],[24,4,76,0,"get"],[24,7,76,0],[24,18,76,0,"get"],[24,19,76,0],[25,6,76,0],[25,13,76,0,"depthToSpace"],[25,25,76,0],[26,4,76,0],[27,2,76,0],[28,2,17,0],[28,6,17,0,"_engine"],[28,13,17,0],[28,16,17,0,"require"],[28,23,17,0],[28,24,17,0,"_dependencyMap"],[28,38,17,0],[29,2,18,0],[29,6,18,0,"_kernel_names"],[29,19,18,0],[29,22,18,0,"require"],[29,29,18,0],[29,30,18,0,"_dependencyMap"],[29,44,18,0],[30,2,19,0],[30,6,19,0,"_tensor_util_env"],[30,22,19,0],[30,25,19,0,"require"],[30,32,19,0],[30,33,19,0,"_dependencyMap"],[30,47,19,0],[31,2,20,0],[31,6,20,0,"_util"],[31,11,20,0],[31,14,20,0,"require"],[31,21,20,0],[31,22,20,0,"_dependencyMap"],[31,36,20,0],[32,2,20,0],[32,6,20,0,"util"],[32,10,20,0],[32,13,20,0,"_interopNamespace"],[32,30,20,0],[32,31,20,0,"_util"],[32,36,20,0],[33,2,21,0],[33,6,21,0,"_operation"],[33,16,21,0],[33,19,21,0,"require"],[33,26,21,0],[33,27,21,0,"_dependencyMap"],[33,41,21,0],[34,2,1,0],[35,0,2,0],[36,0,3,0],[37,0,4,0],[38,0,5,0],[39,0,6,0],[40,0,7,0],[41,0,8,0],[42,0,9,0],[43,0,10,0],[44,0,11,0],[45,0,12,0],[46,0,13,0],[47,0,14,0],[48,0,15,0],[49,0,16,0],[51,2,22,0],[52,0,23,0],[53,0,24,0],[54,0,25,0],[55,0,26,0],[56,0,27,0],[57,0,28,0],[58,0,29,0],[59,0,30,0],[60,0,31,0],[61,0,32,0],[62,0,33,0],[63,0,34,0],[64,0,35,0],[65,0,36,0],[66,0,37,0],[67,0,38,0],[68,0,39,0],[69,0,40,0],[70,0,41,0],[71,0,42,0],[72,0,43,0],[73,0,44,0],[74,0,45,0],[75,0,46,0],[76,0,47,0],[77,0,48,0],[78,0,49,0],[79,0,50,0],[80,0,51,0],[81,0,52,0],[82,0,53,0],[83,0,54,0],[84,0,55,0],[85,0,56,0],[86,0,57,0],[87,0,58,0],[88,2,59,0],[88,11,59,9,"depthToSpace_"],[88,24,59,22,"depthToSpace_"],[88,25,59,23,"x"],[88,26,59,24],[88,28,59,26,"blockSize"],[88,37,59,35],[88,39,59,37,"dataFormat"],[88,49,59,47],[88,52,59,50],[88,58,59,56],[88,60,59,58],[89,4,60,4],[89,10,60,10,"$x"],[89,12,60,12],[89,15,60,15],[89,19,60,15,"convertToTensor"],[89,35,60,30],[89,36,60,30,"convertToTensor"],[89,51,60,30],[89,53,60,31,"x"],[89,54,60,32],[89,56,60,34],[89,59,60,37],[89,61,60,39],[89,75,60,53],[89,77,60,55],[89,86,60,64],[89,87,60,65],[90,4,61,4],[90,10,61,10,"inputHeight"],[90,21,61,21],[90,24,61,25,"dataFormat"],[90,34,61,35],[90,39,61,40],[90,45,61,46],[90,48,61,50,"$x"],[90,50,61,52],[90,51,61,53,"shape"],[90,56,61,58],[90,57,61,59],[90,58,61,60],[90,59,61,61],[90,62,61,64,"$x"],[90,64,61,66],[90,65,61,67,"shape"],[90,70,61,72],[90,71,61,73],[90,72,61,74],[90,73,61,75],[91,4,62,4],[91,10,62,10,"inputWidth"],[91,20,62,20],[91,23,62,24,"dataFormat"],[91,33,62,34],[91,38,62,39],[91,44,62,45],[91,47,62,49,"$x"],[91,49,62,51],[91,50,62,52,"shape"],[91,55,62,57],[91,56,62,58],[91,57,62,59],[91,58,62,60],[91,61,62,63,"$x"],[91,63,62,65],[91,64,62,66,"shape"],[91,69,62,71],[91,70,62,72],[91,71,62,73],[91,72,62,74],[92,4,63,4],[92,10,63,10,"inputDepth"],[92,20,63,20],[92,23,63,24,"dataFormat"],[92,33,63,34],[92,38,63,39],[92,44,63,45],[92,47,63,49,"$x"],[92,49,63,51],[92,50,63,52,"shape"],[92,55,63,57],[92,56,63,58],[92,57,63,59],[92,58,63,60],[92,61,63,63,"$x"],[92,63,63,65],[92,64,63,66,"shape"],[92,69,63,71],[92,70,63,72],[92,71,63,73],[92,72,63,74],[93,4,64,4,"util"],[93,8,64,8],[93,9,64,9,"assert"],[93,15,64,15],[93,16,64,16,"blockSize"],[93,25,64,25],[93,28,64,28],[93,29,64,29],[93,31,64,31],[93,37,64,37],[93,91,64,91,"blockSize"],[93,100,64,100],[93,102,64,102],[93,103,64,103],[94,4,65,4,"util"],[94,8,65,8],[94,9,65,9,"assert"],[94,15,65,15],[94,16,65,16,"inputHeight"],[94,27,65,27],[94,30,65,30,"blockSize"],[94,39,65,39],[94,43,65,43],[94,44,65,44],[94,46,65,46],[94,52,65,52],[95,0,66,0],[95,6,66,6,"inputHeight"],[95,17,66,17],[95,25,66,25,"blockSize"],[95,34,66,34],[96,0,67,0],[96,6,67,6,"$x"],[96,8,67,8],[96,9,67,9,"shape"],[96,14,67,14],[96,16,67,16],[96,17,67,17],[97,4,68,4,"util"],[97,8,68,8],[97,9,68,9,"assert"],[97,15,68,15],[97,16,68,16,"inputWidth"],[97,26,68,26],[97,29,68,29,"blockSize"],[97,38,68,38],[97,42,68,42],[97,43,68,43],[97,45,68,45],[97,51,68,51],[98,0,69,0],[98,6,69,6,"inputWidth"],[98,16,69,16],[98,24,69,24,"blockSize"],[98,33,69,33],[99,0,70,0],[99,10,70,10,"$x"],[99,12,70,12],[99,13,70,13,"shape"],[99,18,70,18],[99,20,70,20],[99,21,70,21],[100,4,71,4,"util"],[100,8,71,8],[100,9,71,9,"assert"],[100,15,71,15],[100,16,71,17,"inputDepth"],[100,26,71,27],[100,30,71,31,"blockSize"],[100,39,71,40],[100,42,71,43,"blockSize"],[100,51,71,52],[100,52,71,53],[100,57,71,58],[100,58,71,59],[100,60,71,62],[100,66,71,68],[100,112,71,114,"blockSize"],[100,121,71,123],[100,124,71,126,"blockSize"],[100,133,71,135],[100,144,71,146,"inputDepth"],[100,154,71,156],[100,192,71,194,"$x"],[100,194,71,196],[100,195,71,197,"shape"],[100,200,71,202],[100,202,71,204],[100,203,71,205],[101,4,72,4],[101,10,72,10,"inputs"],[101,16,72,16],[101,19,72,19],[102,6,72,21,"x"],[102,7,72,22],[102,9,72,24,"$x"],[103,4,72,27],[103,5,72,28],[104,4,73,4],[104,10,73,10,"attrs"],[104,15,73,15],[104,18,73,18],[105,6,73,20,"blockSize"],[105,15,73,29],[106,6,73,31,"dataFormat"],[107,4,73,42],[107,5,73,43],[108,4,74,4],[108,11,74,11,"ENGINE"],[108,18,74,17],[108,19,74,17,"ENGINE"],[108,25,74,17],[108,26,74,18,"runKernel"],[108,35,74,27],[108,36,74,28,"DepthToSpace"],[108,49,74,40],[108,50,74,40,"DepthToSpace"],[108,62,74,40],[108,64,74,42,"inputs"],[108,70,74,48],[108,72,74,50,"attrs"],[108,77,74,55],[108,78,74,56],[109,2,75,0],[110,2,76,7],[110,8,76,13,"depthToSpace"],[110,20,76,25],[110,23,76,28],[110,38,76,44],[110,42,76,44,"op"],[110,52,76,46],[110,53,76,46,"op"],[110,55,76,46],[110,57,76,47],[111,4,76,49,"depthToSpace_"],[112,2,76,63],[112,3,76,64],[112,4,76,65],[113,0,76,66],[113,3]],"functionMap":{"names":["<global>","depthToSpace_","util.assert$argument_1"],"mappings":"AAA;AC0D;+BCK,uED;8CCC;gBDE;6CCC;oBDE;8DCC,8ID;CDI"},"hasCjsExports":false},"type":"js/module"}]}