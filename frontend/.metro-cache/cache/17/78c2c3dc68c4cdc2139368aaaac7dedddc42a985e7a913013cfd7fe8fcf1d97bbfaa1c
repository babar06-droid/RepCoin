{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":40,"index":743}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/add","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":744},"end":{"line":18,"column":33,"index":777}}],"key":"7ECkFW8cIZ5BD7vBhwC0T14nXmk=","exportNames":["*"],"imports":1}},{"name":"../ops/broadcast_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":778},"end":{"line":19,"column":85,"index":863}}],"key":"Qvkkzd+OEKB4AewZTACLHdeSCuY=","exportNames":["*"],"imports":1}},{"name":"../ops/div","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":864},"end":{"line":20,"column":33,"index":897}}],"key":"k/BZM+SZS6CPUrneNct7M5x21sM=","exportNames":["*"],"imports":1}},{"name":"../ops/mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":898},"end":{"line":21,"column":33,"index":931}}],"key":"8VMM/o0r3nOvGtT2jgKf2KxknFk=","exportNames":["*"],"imports":1}},{"name":"../ops/neg","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":932},"end":{"line":22,"column":33,"index":965}}],"key":"4k4Q/waBIv7dEtTMylLnPi+jOrs=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":966},"end":{"line":23,"column":41,"index":1007}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}},{"name":"../ops/square","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":1008},"end":{"line":24,"column":39,"index":1047}}],"key":"dzrBPVh0nJ0Zsg34oq5kewvGmfA=","exportNames":["*"],"imports":1}},{"name":"../ops/sum","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":1048},"end":{"line":25,"column":33,"index":1081}}],"key":"QFu1HORitJ22mTBAu0XhrnhYCVg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"atan2GradConfig\", {\n    enumerable: true,\n    get: function () {\n      return atan2GradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsAdd = require(_dependencyMap[1], \"../ops/add\");\n  var _opsBroadcast_util = require(_dependencyMap[2], \"../ops/broadcast_util\");\n  var _opsDiv = require(_dependencyMap[3], \"../ops/div\");\n  var _opsMul = require(_dependencyMap[4], \"../ops/mul\");\n  var _opsNeg = require(_dependencyMap[5], \"../ops/neg\");\n  var _opsReshape = require(_dependencyMap[6], \"../ops/reshape\");\n  var _opsSquare = require(_dependencyMap[7], \"../ops/square\");\n  var _opsSum = require(_dependencyMap[8], \"../ops/sum\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const atan2GradConfig = {\n    kernelName: _kernel_names.Atan2,\n    inputsToSave: ['a', 'b'],\n    gradFunc: (dy, saved) => {\n      const [a, b] = saved;\n      const outShape = (0, _opsBroadcast_util.assertAndGetBroadcastShape)(a.shape, b.shape);\n      const derA = () => {\n        const d = (0, _opsAdd.add)((0, _opsSquare.square)(a), (0, _opsSquare.square)(b));\n        let res = (0, _opsMul.mul)(dy, (0, _opsDiv.div)(b, d));\n        const reduceAxes = (0, _opsBroadcast_util.getReductionAxes)(a.shape, outShape);\n        if (reduceAxes.length > 0) {\n          res = (0, _opsSum.sum)(res, reduceAxes);\n        }\n        return (0, _opsReshape.reshape)(res, a.shape);\n      };\n      const derB = () => {\n        const d = (0, _opsAdd.add)((0, _opsSquare.square)(a), (0, _opsSquare.square)(b));\n        let res = (0, _opsNeg.neg)((0, _opsMul.mul)(dy, (0, _opsDiv.div)(a, d)));\n        const reduceAxes = (0, _opsBroadcast_util.getReductionAxes)(b.shape, outShape);\n        if (reduceAxes.length > 0) {\n          res = (0, _opsSum.sum)(res, reduceAxes);\n        }\n        return (0, _opsReshape.reshape)(res, b.shape);\n      };\n      return {\n        a: derA,\n        b: derB\n      };\n    }\n  };\n});","lineCount":69,"map":[[7,2,26,0,"Object"],[7,8,26,0],[7,9,26,0,"defineProperty"],[7,23,26,0],[7,24,26,0,"exports"],[7,31,26,0],[8,4,26,0,"enumerable"],[8,14,26,0],[9,4,26,0,"get"],[9,7,26,0],[9,18,26,0,"get"],[9,19,26,0],[10,6,26,0],[10,13,26,0,"atan2GradConfig"],[10,28,26,0],[11,4,26,0],[12,2,26,0],[13,2,17,0],[13,6,17,0,"_kernel_names"],[13,19,17,0],[13,22,17,0,"require"],[13,29,17,0],[13,30,17,0,"_dependencyMap"],[13,44,17,0],[14,2,18,0],[14,6,18,0,"_opsAdd"],[14,13,18,0],[14,16,18,0,"require"],[14,23,18,0],[14,24,18,0,"_dependencyMap"],[14,38,18,0],[15,2,19,0],[15,6,19,0,"_opsBroadcast_util"],[15,24,19,0],[15,27,19,0,"require"],[15,34,19,0],[15,35,19,0,"_dependencyMap"],[15,49,19,0],[16,2,20,0],[16,6,20,0,"_opsDiv"],[16,13,20,0],[16,16,20,0,"require"],[16,23,20,0],[16,24,20,0,"_dependencyMap"],[16,38,20,0],[17,2,21,0],[17,6,21,0,"_opsMul"],[17,13,21,0],[17,16,21,0,"require"],[17,23,21,0],[17,24,21,0,"_dependencyMap"],[17,38,21,0],[18,2,22,0],[18,6,22,0,"_opsNeg"],[18,13,22,0],[18,16,22,0,"require"],[18,23,22,0],[18,24,22,0,"_dependencyMap"],[18,38,22,0],[19,2,23,0],[19,6,23,0,"_opsReshape"],[19,17,23,0],[19,20,23,0,"require"],[19,27,23,0],[19,28,23,0,"_dependencyMap"],[19,42,23,0],[20,2,24,0],[20,6,24,0,"_opsSquare"],[20,16,24,0],[20,19,24,0,"require"],[20,26,24,0],[20,27,24,0,"_dependencyMap"],[20,41,24,0],[21,2,25,0],[21,6,25,0,"_opsSum"],[21,13,25,0],[21,16,25,0,"require"],[21,23,25,0],[21,24,25,0,"_dependencyMap"],[21,38,25,0],[22,2,1,0],[23,0,2,0],[24,0,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[30,0,9,0],[31,0,10,0],[32,0,11,0],[33,0,12,0],[34,0,13,0],[35,0,14,0],[36,0,15,0],[37,0,16,0],[39,2,26,7],[39,8,26,13,"atan2GradConfig"],[39,23,26,28],[39,26,26,31],[40,4,27,4,"kernelName"],[40,14,27,14],[40,16,27,16,"Atan2"],[40,29,27,21],[40,30,27,21,"Atan2"],[40,35,27,21],[41,4,28,4,"inputsToSave"],[41,16,28,16],[41,18,28,18],[41,19,28,19],[41,22,28,22],[41,24,28,24],[41,27,28,27],[41,28,28,28],[42,4,29,4,"gradFunc"],[42,12,29,12],[42,14,29,14,"gradFunc"],[42,15,29,15,"dy"],[42,17,29,17],[42,19,29,19,"saved"],[42,24,29,24],[42,29,29,29],[43,6,30,8],[43,12,30,14],[43,13,30,15,"a"],[43,14,30,16],[43,16,30,18,"b"],[43,17,30,19],[43,18,30,20],[43,21,30,23,"saved"],[43,26,30,28],[44,6,31,8],[44,12,31,14,"outShape"],[44,20,31,22],[44,23,31,25],[44,27,31,25,"assertAndGetBroadcastShape"],[44,45,31,51],[44,46,31,51,"assertAndGetBroadcastShape"],[44,72,31,51],[44,74,31,52,"a"],[44,75,31,53],[44,76,31,54,"shape"],[44,81,31,59],[44,83,31,61,"b"],[44,84,31,62],[44,85,31,63,"shape"],[44,90,31,68],[44,91,31,69],[45,6,32,8],[45,12,32,14,"derA"],[45,16,32,18],[45,19,32,21,"derA"],[45,20,32,21],[45,25,32,27],[46,8,33,12],[46,14,33,18,"d"],[46,15,33,19],[46,18,33,22],[46,22,33,22,"add"],[46,29,33,25],[46,30,33,25,"add"],[46,33,33,25],[46,35,33,26],[46,39,33,26,"square"],[46,49,33,32],[46,50,33,32,"square"],[46,56,33,32],[46,58,33,33,"a"],[46,59,33,34],[46,60,33,35],[46,62,33,37],[46,66,33,37,"square"],[46,76,33,43],[46,77,33,43,"square"],[46,83,33,43],[46,85,33,44,"b"],[46,86,33,45],[46,87,33,46],[46,88,33,47],[47,8,34,12],[47,12,34,16,"res"],[47,15,34,19],[47,18,34,22],[47,22,34,22,"mul"],[47,29,34,25],[47,30,34,25,"mul"],[47,33,34,25],[47,35,34,26,"dy"],[47,37,34,28],[47,39,34,30],[47,43,34,30,"div"],[47,50,34,33],[47,51,34,33,"div"],[47,54,34,33],[47,56,34,34,"b"],[47,57,34,35],[47,59,34,37,"d"],[47,60,34,38],[47,61,34,39],[47,62,34,40],[48,8,35,12],[48,14,35,18,"reduceAxes"],[48,24,35,28],[48,27,35,31],[48,31,35,31,"getReductionAxes"],[48,49,35,47],[48,50,35,47,"getReductionAxes"],[48,66,35,47],[48,68,35,48,"a"],[48,69,35,49],[48,70,35,50,"shape"],[48,75,35,55],[48,77,35,57,"outShape"],[48,85,35,65],[48,86,35,66],[49,8,36,12],[49,12,36,16,"reduceAxes"],[49,22,36,26],[49,23,36,27,"length"],[49,29,36,33],[49,32,36,36],[49,33,36,37],[49,35,36,39],[50,10,37,16,"res"],[50,13,37,19],[50,16,37,22],[50,20,37,22,"sum"],[50,27,37,25],[50,28,37,25,"sum"],[50,31,37,25],[50,33,37,26,"res"],[50,36,37,29],[50,38,37,31,"reduceAxes"],[50,48,37,41],[50,49,37,42],[51,8,38,12],[52,8,39,12],[52,15,39,19],[52,19,39,19,"reshape"],[52,30,39,26],[52,31,39,26,"reshape"],[52,38,39,26],[52,40,39,27,"res"],[52,43,39,30],[52,45,39,32,"a"],[52,46,39,33],[52,47,39,34,"shape"],[52,52,39,39],[52,53,39,40],[53,6,40,8],[53,7,40,9],[54,6,41,8],[54,12,41,14,"derB"],[54,16,41,18],[54,19,41,21,"derB"],[54,20,41,21],[54,25,41,27],[55,8,42,12],[55,14,42,18,"d"],[55,15,42,19],[55,18,42,22],[55,22,42,22,"add"],[55,29,42,25],[55,30,42,25,"add"],[55,33,42,25],[55,35,42,26],[55,39,42,26,"square"],[55,49,42,32],[55,50,42,32,"square"],[55,56,42,32],[55,58,42,33,"a"],[55,59,42,34],[55,60,42,35],[55,62,42,37],[55,66,42,37,"square"],[55,76,42,43],[55,77,42,43,"square"],[55,83,42,43],[55,85,42,44,"b"],[55,86,42,45],[55,87,42,46],[55,88,42,47],[56,8,43,12],[56,12,43,16,"res"],[56,15,43,19],[56,18,43,22],[56,22,43,22,"neg"],[56,29,43,25],[56,30,43,25,"neg"],[56,33,43,25],[56,35,43,26],[56,39,43,26,"mul"],[56,46,43,29],[56,47,43,29,"mul"],[56,50,43,29],[56,52,43,30,"dy"],[56,54,43,32],[56,56,43,34],[56,60,43,34,"div"],[56,67,43,37],[56,68,43,37,"div"],[56,71,43,37],[56,73,43,38,"a"],[56,74,43,39],[56,76,43,41,"d"],[56,77,43,42],[56,78,43,43],[56,79,43,44],[56,80,43,45],[57,8,44,12],[57,14,44,18,"reduceAxes"],[57,24,44,28],[57,27,44,31],[57,31,44,31,"getReductionAxes"],[57,49,44,47],[57,50,44,47,"getReductionAxes"],[57,66,44,47],[57,68,44,48,"b"],[57,69,44,49],[57,70,44,50,"shape"],[57,75,44,55],[57,77,44,57,"outShape"],[57,85,44,65],[57,86,44,66],[58,8,45,12],[58,12,45,16,"reduceAxes"],[58,22,45,26],[58,23,45,27,"length"],[58,29,45,33],[58,32,45,36],[58,33,45,37],[58,35,45,39],[59,10,46,16,"res"],[59,13,46,19],[59,16,46,22],[59,20,46,22,"sum"],[59,27,46,25],[59,28,46,25,"sum"],[59,31,46,25],[59,33,46,26,"res"],[59,36,46,29],[59,38,46,31,"reduceAxes"],[59,48,46,41],[59,49,46,42],[60,8,47,12],[61,8,48,12],[61,15,48,19],[61,19,48,19,"reshape"],[61,30,48,26],[61,31,48,26,"reshape"],[61,38,48,26],[61,40,48,27,"res"],[61,43,48,30],[61,45,48,32,"b"],[61,46,48,33],[61,47,48,34,"shape"],[61,52,48,39],[61,53,48,40],[62,6,49,8],[62,7,49,9],[63,6,50,8],[63,13,50,15],[64,8,50,17,"a"],[64,9,50,18],[64,11,50,20,"derA"],[64,15,50,24],[65,8,50,26,"b"],[65,9,50,27],[65,11,50,29,"derB"],[66,6,50,34],[66,7,50,35],[67,4,51,4],[68,2,52,0],[68,3,52,1],[69,0,52,2],[69,3]],"functionMap":{"names":["<global>","atan2GradConfig.gradFunc","derA","derB"],"mappings":"AAA;cC4B;qBCG;SDQ;qBEC;SFQ;KDE"},"hasCjsExports":false},"type":"js/module"}]}