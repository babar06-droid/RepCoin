{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":68,"index":771}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../binaryop_complex_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":772},"end":{"line":18,"column":64,"index":836}}],"key":"AIm2JnTU/NZ/+/ALMNiXsA8Rhl4=","exportNames":["*"],"imports":1}},{"name":"../binaryop_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":903},"end":{"line":20,"column":50,"index":953}}],"key":"Nq+rMKjJyjDW+OiGal8GFCBivzQ=","exportNames":["*"],"imports":1}},{"name":"../binaryop_packed_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":954},"end":{"line":21,"column":63,"index":1017}}],"key":"Gh8BS3VE5EGO1NSTDUhyuvW9W4M=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/shared","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":1018},"end":{"line":22,"column":72,"index":1090}}],"key":"JzS9qfQGP0NvwhobUV8d6bPV3h4=","exportNames":["*"],"imports":1}},{"name":"./Complex","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":1091},"end":{"line":23,"column":36,"index":1127}}],"key":"Bysb0JPMWrey4b1smc9YxxmirUY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.multiply = multiply;\n  Object.defineProperty(exports, \"multiplyConfig\", {\n    enumerable: true,\n    get: function () {\n      return multiplyConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _binaryop_complex_gpu = require(_dependencyMap[1], \"../binaryop_complex_gpu\");\n  var binaryop_complex_gpu = _interopNamespace(_binaryop_complex_gpu);\n  var _binaryop_gpu = require(_dependencyMap[2], \"../binaryop_gpu\");\n  var _binaryop_packed_gpu = require(_dependencyMap[3], \"../binaryop_packed_gpu\");\n  var _kernel_utilsShared = require(_dependencyMap[4], \"../kernel_utils/shared\");\n  var _Complex = require(_dependencyMap[5], \"./Complex\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const MUL = 'return a * b;';\n  function multiply(args) {\n    const {\n      inputs,\n      backend\n    } = args;\n    const {\n      a,\n      b\n    } = inputs;\n    const dtype = _tensorflowTfjsCore.backend_util.upcastType(a.dtype, b.dtype);\n    if (a.dtype === 'complex64') {\n      const aData = backend.texData.get(a.dataId);\n      const bData = backend.texData.get(b.dataId);\n      const realProgram = new _binaryop_complex_gpu.BinaryOpComplexProgram(binaryop_complex_gpu.COMPLEX_MULTIPLY.REAL, a.shape, b.shape);\n      const imagProgram = new _binaryop_complex_gpu.BinaryOpComplexProgram(binaryop_complex_gpu.COMPLEX_MULTIPLY.IMAG, a.shape, b.shape);\n      const inputs = [{\n        dataId: aData.complexTensorInfos.real.dataId,\n        dtype: aData.complexTensorInfos.real.dtype,\n        shape: a.shape\n      }, {\n        dataId: aData.complexTensorInfos.imag.dataId,\n        dtype: aData.complexTensorInfos.imag.dtype,\n        shape: a.shape\n      }, {\n        dataId: bData.complexTensorInfos.real.dataId,\n        dtype: bData.complexTensorInfos.real.dtype,\n        shape: b.shape\n      }, {\n        dataId: bData.complexTensorInfos.imag.dataId,\n        dtype: bData.complexTensorInfos.imag.dtype,\n        shape: b.shape\n      }];\n      const realPart = backend.runWebGLProgram(realProgram, inputs, 'float32');\n      const imagPart = backend.runWebGLProgram(imagProgram, inputs, 'float32');\n      const complexOutput = (0, _Complex.complex)({\n        inputs: {\n          real: realPart,\n          imag: imagPart\n        },\n        backend\n      });\n      backend.disposeIntermediateTensorInfo(realPart);\n      backend.disposeIntermediateTensorInfo(imagPart);\n      // TODO(annxingyuan): CPU forwarding for complex inputs.\n      return complexOutput;\n    }\n    if (backend.shouldExecuteOnCPU([a, b])) {\n      const aData = backend.texData.get(a.dataId);\n      const bData = backend.texData.get(b.dataId);\n      const [outValues, outShape] = (0, _kernel_utilsShared.multiplyImplCPU)(a.shape, b.shape, aData.values, bData.values, dtype);\n      const out = backend.makeTensorInfo(outShape, dtype);\n      const outData = backend.texData.get(out.dataId);\n      outData.values = outValues;\n      return out;\n    }\n    let program;\n    if ((0, _tensorflowTfjsCore.env)().getBool('WEBGL_PACK_BINARY_OPERATIONS')) {\n      program = new _binaryop_packed_gpu.BinaryOpPackedProgram(MUL, a.shape, b.shape);\n    } else {\n      program = new _binaryop_gpu.BinaryOpProgram(MUL, a.shape, b.shape);\n    }\n    return backend.runWebGLProgram(program, [a, b], dtype);\n  }\n  const multiplyConfig = {\n    kernelName: _tensorflowTfjsCore.Multiply,\n    backendName: 'webgl',\n    kernelFunc: multiply\n  };\n});","lineCount":122,"map":[[22,2,25,0,"exports"],[22,9,25,0],[22,10,25,0,"multiply"],[22,18,25,0],[22,21,25,0,"multiply"],[22,29,25,0],[23,2,82,0,"Object"],[23,8,82,0],[23,9,82,0,"defineProperty"],[23,23,82,0],[23,24,82,0,"exports"],[23,31,82,0],[24,4,82,0,"enumerable"],[24,14,82,0],[25,4,82,0,"get"],[25,7,82,0],[25,18,82,0,"get"],[25,19,82,0],[26,6,82,0],[26,13,82,0,"multiplyConfig"],[26,27,82,0],[27,4,82,0],[28,2,82,0],[29,2,17,0],[29,6,17,0,"_tensorflowTfjsCore"],[29,25,17,0],[29,28,17,0,"require"],[29,35,17,0],[29,36,17,0,"_dependencyMap"],[29,50,17,0],[30,2,18,0],[30,6,18,0,"_binaryop_complex_gpu"],[30,27,18,0],[30,30,18,0,"require"],[30,37,18,0],[30,38,18,0,"_dependencyMap"],[30,52,18,0],[31,2,18,0],[31,6,18,0,"binaryop_complex_gpu"],[31,26,18,0],[31,29,18,0,"_interopNamespace"],[31,46,18,0],[31,47,18,0,"_binaryop_complex_gpu"],[31,68,18,0],[32,2,20,0],[32,6,20,0,"_binaryop_gpu"],[32,19,20,0],[32,22,20,0,"require"],[32,29,20,0],[32,30,20,0,"_dependencyMap"],[32,44,20,0],[33,2,21,0],[33,6,21,0,"_binaryop_packed_gpu"],[33,26,21,0],[33,29,21,0,"require"],[33,36,21,0],[33,37,21,0,"_dependencyMap"],[33,51,21,0],[34,2,22,0],[34,6,22,0,"_kernel_utilsShared"],[34,25,22,0],[34,28,22,0,"require"],[34,35,22,0],[34,36,22,0,"_dependencyMap"],[34,50,22,0],[35,2,23,0],[35,6,23,0,"_Complex"],[35,14,23,0],[35,17,23,0,"require"],[35,24,23,0],[35,25,23,0,"_dependencyMap"],[35,39,23,0],[36,2,1,0],[37,0,2,0],[38,0,3,0],[39,0,4,0],[40,0,5,0],[41,0,6,0],[42,0,7,0],[43,0,8,0],[44,0,9,0],[45,0,10,0],[46,0,11,0],[47,0,12,0],[48,0,13,0],[49,0,14,0],[50,0,15,0],[51,0,16,0],[53,2,24,0],[53,8,24,6,"MUL"],[53,11,24,9],[53,14,24,12],[53,29,24,27],[54,2,25,7],[54,11,25,16,"multiply"],[54,19,25,24,"multiply"],[54,20,25,25,"args"],[54,24,25,29],[54,26,25,31],[55,4,26,4],[55,10,26,10],[56,6,26,12,"inputs"],[56,12,26,18],[57,6,26,20,"backend"],[58,4,26,28],[58,5,26,29],[58,8,26,32,"args"],[58,12,26,36],[59,4,27,4],[59,10,27,10],[60,6,27,12,"a"],[60,7,27,13],[61,6,27,15,"b"],[62,4,27,17],[62,5,27,18],[62,8,27,21,"inputs"],[62,14,27,27],[63,4,28,4],[63,10,28,10,"dtype"],[63,15,28,15],[63,18,28,18,"backend_util"],[63,37,28,30],[63,38,28,30,"backend_util"],[63,50,28,30],[63,51,28,31,"upcastType"],[63,61,28,41],[63,62,28,42,"a"],[63,63,28,43],[63,64,28,44,"dtype"],[63,69,28,49],[63,71,28,51,"b"],[63,72,28,52],[63,73,28,53,"dtype"],[63,78,28,58],[63,79,28,59],[64,4,29,4],[64,8,29,8,"a"],[64,9,29,9],[64,10,29,10,"dtype"],[64,15,29,15],[64,20,29,20],[64,31,29,31],[64,33,29,33],[65,6,30,8],[65,12,30,14,"aData"],[65,17,30,19],[65,20,30,22,"backend"],[65,27,30,29],[65,28,30,30,"texData"],[65,35,30,37],[65,36,30,38,"get"],[65,39,30,41],[65,40,30,42,"a"],[65,41,30,43],[65,42,30,44,"dataId"],[65,48,30,50],[65,49,30,51],[66,6,31,8],[66,12,31,14,"bData"],[66,17,31,19],[66,20,31,22,"backend"],[66,27,31,29],[66,28,31,30,"texData"],[66,35,31,37],[66,36,31,38,"get"],[66,39,31,41],[66,40,31,42,"b"],[66,41,31,43],[66,42,31,44,"dataId"],[66,48,31,50],[66,49,31,51],[67,6,32,8],[67,12,32,14,"realProgram"],[67,23,32,25],[67,26,32,28],[67,30,32,32,"BinaryOpComplexProgram"],[67,51,32,54],[67,52,32,54,"BinaryOpComplexProgram"],[67,74,32,54],[67,75,32,55,"binaryop_complex_gpu"],[67,95,32,75],[67,96,32,76,"COMPLEX_MULTIPLY"],[67,112,32,92],[67,113,32,93,"REAL"],[67,117,32,97],[67,119,32,99,"a"],[67,120,32,100],[67,121,32,101,"shape"],[67,126,32,106],[67,128,32,108,"b"],[67,129,32,109],[67,130,32,110,"shape"],[67,135,32,115],[67,136,32,116],[68,6,33,8],[68,12,33,14,"imagProgram"],[68,23,33,25],[68,26,33,28],[68,30,33,32,"BinaryOpComplexProgram"],[68,51,33,54],[68,52,33,54,"BinaryOpComplexProgram"],[68,74,33,54],[68,75,33,55,"binaryop_complex_gpu"],[68,95,33,75],[68,96,33,76,"COMPLEX_MULTIPLY"],[68,112,33,92],[68,113,33,93,"IMAG"],[68,117,33,97],[68,119,33,99,"a"],[68,120,33,100],[68,121,33,101,"shape"],[68,126,33,106],[68,128,33,108,"b"],[68,129,33,109],[68,130,33,110,"shape"],[68,135,33,115],[68,136,33,116],[69,6,34,8],[69,12,34,14,"inputs"],[69,18,34,20],[69,21,34,23],[69,22,35,12],[70,8,36,16,"dataId"],[70,14,36,22],[70,16,36,24,"aData"],[70,21,36,29],[70,22,36,30,"complexTensorInfos"],[70,40,36,48],[70,41,36,49,"real"],[70,45,36,53],[70,46,36,54,"dataId"],[70,52,36,60],[71,8,37,16,"dtype"],[71,13,37,21],[71,15,37,23,"aData"],[71,20,37,28],[71,21,37,29,"complexTensorInfos"],[71,39,37,47],[71,40,37,48,"real"],[71,44,37,52],[71,45,37,53,"dtype"],[71,50,37,58],[72,8,38,16,"shape"],[72,13,38,21],[72,15,38,23,"a"],[72,16,38,24],[72,17,38,25,"shape"],[73,6,39,12],[73,7,39,13],[73,9,40,12],[74,8,41,16,"dataId"],[74,14,41,22],[74,16,41,24,"aData"],[74,21,41,29],[74,22,41,30,"complexTensorInfos"],[74,40,41,48],[74,41,41,49,"imag"],[74,45,41,53],[74,46,41,54,"dataId"],[74,52,41,60],[75,8,42,16,"dtype"],[75,13,42,21],[75,15,42,23,"aData"],[75,20,42,28],[75,21,42,29,"complexTensorInfos"],[75,39,42,47],[75,40,42,48,"imag"],[75,44,42,52],[75,45,42,53,"dtype"],[75,50,42,58],[76,8,43,16,"shape"],[76,13,43,21],[76,15,43,23,"a"],[76,16,43,24],[76,17,43,25,"shape"],[77,6,44,12],[77,7,44,13],[77,9,45,12],[78,8,46,16,"dataId"],[78,14,46,22],[78,16,46,24,"bData"],[78,21,46,29],[78,22,46,30,"complexTensorInfos"],[78,40,46,48],[78,41,46,49,"real"],[78,45,46,53],[78,46,46,54,"dataId"],[78,52,46,60],[79,8,47,16,"dtype"],[79,13,47,21],[79,15,47,23,"bData"],[79,20,47,28],[79,21,47,29,"complexTensorInfos"],[79,39,47,47],[79,40,47,48,"real"],[79,44,47,52],[79,45,47,53,"dtype"],[79,50,47,58],[80,8,48,16,"shape"],[80,13,48,21],[80,15,48,23,"b"],[80,16,48,24],[80,17,48,25,"shape"],[81,6,49,12],[81,7,49,13],[81,9,50,12],[82,8,51,16,"dataId"],[82,14,51,22],[82,16,51,24,"bData"],[82,21,51,29],[82,22,51,30,"complexTensorInfos"],[82,40,51,48],[82,41,51,49,"imag"],[82,45,51,53],[82,46,51,54,"dataId"],[82,52,51,60],[83,8,52,16,"dtype"],[83,13,52,21],[83,15,52,23,"bData"],[83,20,52,28],[83,21,52,29,"complexTensorInfos"],[83,39,52,47],[83,40,52,48,"imag"],[83,44,52,52],[83,45,52,53,"dtype"],[83,50,52,58],[84,8,53,16,"shape"],[84,13,53,21],[84,15,53,23,"b"],[84,16,53,24],[84,17,53,25,"shape"],[85,6,54,12],[85,7,54,13],[85,8,55,9],[86,6,56,8],[86,12,56,14,"realPart"],[86,20,56,22],[86,23,56,25,"backend"],[86,30,56,32],[86,31,56,33,"runWebGLProgram"],[86,46,56,48],[86,47,56,49,"realProgram"],[86,58,56,60],[86,60,56,62,"inputs"],[86,66,56,68],[86,68,56,70],[86,77,56,79],[86,78,56,80],[87,6,57,8],[87,12,57,14,"imagPart"],[87,20,57,22],[87,23,57,25,"backend"],[87,30,57,32],[87,31,57,33,"runWebGLProgram"],[87,46,57,48],[87,47,57,49,"imagProgram"],[87,58,57,60],[87,60,57,62,"inputs"],[87,66,57,68],[87,68,57,70],[87,77,57,79],[87,78,57,80],[88,6,58,8],[88,12,58,14,"complexOutput"],[88,25,58,27],[88,28,58,30],[88,32,58,30,"complex"],[88,40,58,37],[88,41,58,37,"complex"],[88,48,58,37],[88,50,58,38],[89,8,58,40,"inputs"],[89,14,58,46],[89,16,58,48],[90,10,58,50,"real"],[90,14,58,54],[90,16,58,56,"realPart"],[90,24,58,64],[91,10,58,66,"imag"],[91,14,58,70],[91,16,58,72,"imagPart"],[92,8,58,81],[92,9,58,82],[93,8,58,84,"backend"],[94,6,58,92],[94,7,58,93],[94,8,58,94],[95,6,59,8,"backend"],[95,13,59,15],[95,14,59,16,"disposeIntermediateTensorInfo"],[95,43,59,45],[95,44,59,46,"realPart"],[95,52,59,54],[95,53,59,55],[96,6,60,8,"backend"],[96,13,60,15],[96,14,60,16,"disposeIntermediateTensorInfo"],[96,43,60,45],[96,44,60,46,"imagPart"],[96,52,60,54],[96,53,60,55],[97,6,61,8],[98,6,62,8],[98,13,62,15,"complexOutput"],[98,26,62,28],[99,4,63,4],[100,4,64,4],[100,8,64,8,"backend"],[100,15,64,15],[100,16,64,16,"shouldExecuteOnCPU"],[100,34,64,34],[100,35,64,35],[100,36,64,36,"a"],[100,37,64,37],[100,39,64,39,"b"],[100,40,64,40],[100,41,64,41],[100,42,64,42],[100,44,64,44],[101,6,65,8],[101,12,65,14,"aData"],[101,17,65,19],[101,20,65,22,"backend"],[101,27,65,29],[101,28,65,30,"texData"],[101,35,65,37],[101,36,65,38,"get"],[101,39,65,41],[101,40,65,42,"a"],[101,41,65,43],[101,42,65,44,"dataId"],[101,48,65,50],[101,49,65,51],[102,6,66,8],[102,12,66,14,"bData"],[102,17,66,19],[102,20,66,22,"backend"],[102,27,66,29],[102,28,66,30,"texData"],[102,35,66,37],[102,36,66,38,"get"],[102,39,66,41],[102,40,66,42,"b"],[102,41,66,43],[102,42,66,44,"dataId"],[102,48,66,50],[102,49,66,51],[103,6,67,8],[103,12,67,14],[103,13,67,15,"outValues"],[103,22,67,24],[103,24,67,26,"outShape"],[103,32,67,34],[103,33,67,35],[103,36,67,38],[103,40,67,38,"cpuMultiply"],[103,59,67,49],[103,60,67,49,"multiplyImplCPU"],[103,75,67,49],[103,77,67,50,"a"],[103,78,67,51],[103,79,67,52,"shape"],[103,84,67,57],[103,86,67,59,"b"],[103,87,67,60],[103,88,67,61,"shape"],[103,93,67,66],[103,95,67,68,"aData"],[103,100,67,73],[103,101,67,74,"values"],[103,107,67,80],[103,109,67,82,"bData"],[103,114,67,87],[103,115,67,88,"values"],[103,121,67,94],[103,123,67,96,"dtype"],[103,128,67,101],[103,129,67,102],[104,6,68,8],[104,12,68,14,"out"],[104,15,68,17],[104,18,68,20,"backend"],[104,25,68,27],[104,26,68,28,"makeTensorInfo"],[104,40,68,42],[104,41,68,43,"outShape"],[104,49,68,51],[104,51,68,53,"dtype"],[104,56,68,58],[104,57,68,59],[105,6,69,8],[105,12,69,14,"outData"],[105,19,69,21],[105,22,69,24,"backend"],[105,29,69,31],[105,30,69,32,"texData"],[105,37,69,39],[105,38,69,40,"get"],[105,41,69,43],[105,42,69,44,"out"],[105,45,69,47],[105,46,69,48,"dataId"],[105,52,69,54],[105,53,69,55],[106,6,70,8,"outData"],[106,13,70,15],[106,14,70,16,"values"],[106,20,70,22],[106,23,70,25,"outValues"],[106,32,70,34],[107,6,71,8],[107,13,71,15,"out"],[107,16,71,18],[108,4,72,4],[109,4,73,4],[109,8,73,8,"program"],[109,15,73,15],[110,4,74,4],[110,8,74,8],[110,12,74,8,"env"],[110,31,74,11],[110,32,74,11,"env"],[110,35,74,11],[110,37,74,12],[110,38,74,13],[110,39,74,14,"getBool"],[110,46,74,21],[110,47,74,22],[110,77,74,52],[110,78,74,53],[110,80,74,55],[111,6,75,8,"program"],[111,13,75,15],[111,16,75,18],[111,20,75,22,"BinaryOpPackedProgram"],[111,40,75,43],[111,41,75,43,"BinaryOpPackedProgram"],[111,62,75,43],[111,63,75,44,"MUL"],[111,66,75,47],[111,68,75,49,"a"],[111,69,75,50],[111,70,75,51,"shape"],[111,75,75,56],[111,77,75,58,"b"],[111,78,75,59],[111,79,75,60,"shape"],[111,84,75,65],[111,85,75,66],[112,4,76,4],[112,5,76,5],[112,11,77,9],[113,6,78,8,"program"],[113,13,78,15],[113,16,78,18],[113,20,78,22,"BinaryOpProgram"],[113,33,78,37],[113,34,78,37,"BinaryOpProgram"],[113,49,78,37],[113,50,78,38,"MUL"],[113,53,78,41],[113,55,78,43,"a"],[113,56,78,44],[113,57,78,45,"shape"],[113,62,78,50],[113,64,78,52,"b"],[113,65,78,53],[113,66,78,54,"shape"],[113,71,78,59],[113,72,78,60],[114,4,79,4],[115,4,80,4],[115,11,80,11,"backend"],[115,18,80,18],[115,19,80,19,"runWebGLProgram"],[115,34,80,34],[115,35,80,35,"program"],[115,42,80,42],[115,44,80,44],[115,45,80,45,"a"],[115,46,80,46],[115,48,80,48,"b"],[115,49,80,49],[115,50,80,50],[115,52,80,52,"dtype"],[115,57,80,57],[115,58,80,58],[116,2,81,0],[117,2,82,7],[117,8,82,13,"multiplyConfig"],[117,22,82,27],[117,25,82,30],[118,4,83,4,"kernelName"],[118,14,83,14],[118,16,83,16,"Multiply"],[118,35,83,24],[118,36,83,24,"Multiply"],[118,44,83,24],[119,4,84,4,"backendName"],[119,15,84,15],[119,17,84,17],[119,24,84,24],[120,4,85,4,"kernelFunc"],[120,14,85,14],[120,16,85,16,"multiply"],[121,2,86,0],[121,3,86,1],[122,0,86,2],[122,3]],"functionMap":{"names":["<global>","multiply"],"mappings":"AAA;OCwB;CDwD"},"hasCjsExports":false},"type":"js/module"}]}