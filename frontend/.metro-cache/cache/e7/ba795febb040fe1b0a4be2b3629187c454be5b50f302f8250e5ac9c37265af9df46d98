{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":65,"index":768}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../cpu_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":769},"end":{"line":18,"column":47,"index":816}}],"key":"5L5S4GXlh/uJh1MrXQbkPSVOWm4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.select = select;\n  Object.defineProperty(exports, \"selectConfig\", {\n    enumerable: true,\n    get: function () {\n      return selectConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _cpu_util = require(_dependencyMap[1], \"../cpu_util\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function select(args) {\n    const {\n      inputs,\n      backend\n    } = args;\n    const {\n      condition,\n      t,\n      e\n    } = inputs;\n    (0, _cpu_util.assertNotComplex)([condition, t, e], 'select');\n    const conditionRank = condition.shape.length;\n    const values = backend.data.get(condition.dataId).values;\n    const tValues = backend.data.get(t.dataId).values;\n    const eValues = backend.data.get(e.dataId).values;\n    const resultDtype = (0, _tensorflowTfjsCore.upcastType)(t.dtype, e.dtype);\n    const newValues = _tensorflowTfjsCore.util.makeZerosTypedArray(_tensorflowTfjsCore.util.sizeFromShape(t.shape), resultDtype);\n    let index = 0;\n    const offset = conditionRank === 0 || conditionRank > 1 || t.shape.length === 1 ? 1 : _tensorflowTfjsCore.util.sizeFromShape(t.shape.slice(1));\n    for (let i = 0; i < values.length; i++) {\n      for (let j = 0; j < offset; j++) {\n        if (values[i] === 1) {\n          newValues[index++] = tValues[i];\n        } else {\n          newValues[index++] = eValues[i];\n        }\n      }\n    }\n    return backend.makeTensorInfo(t.shape, resultDtype, newValues);\n  }\n  const selectConfig = {\n    kernelName: _tensorflowTfjsCore.Select,\n    backendName: 'cpu',\n    kernelFunc: select\n  };\n});","lineCount":68,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"select"],[7,16,19,0],[7,19,19,0,"select"],[7,25,19,0],[8,2,45,0,"Object"],[8,8,45,0],[8,9,45,0,"defineProperty"],[8,23,45,0],[8,24,45,0,"exports"],[8,31,45,0],[9,4,45,0,"enumerable"],[9,14,45,0],[10,4,45,0,"get"],[10,7,45,0],[10,18,45,0,"get"],[10,19,45,0],[11,6,45,0],[11,13,45,0,"selectConfig"],[11,25,45,0],[12,4,45,0],[13,2,45,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_cpu_util"],[15,15,18,0],[15,18,18,0,"require"],[15,25,18,0],[15,26,18,0,"_dependencyMap"],[15,40,18,0],[16,2,1,0],[17,0,2,0],[18,0,3,0],[19,0,4,0],[20,0,5,0],[21,0,6,0],[22,0,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,0,14,0],[30,0,15,0],[31,0,16,0],[33,2,19,7],[33,11,19,16,"select"],[33,17,19,22,"select"],[33,18,19,23,"args"],[33,22,19,27],[33,24,19,29],[34,4,20,4],[34,10,20,10],[35,6,20,12,"inputs"],[35,12,20,18],[36,6,20,20,"backend"],[37,4,20,28],[37,5,20,29],[37,8,20,32,"args"],[37,12,20,36],[38,4,21,4],[38,10,21,10],[39,6,21,12,"condition"],[39,15,21,21],[40,6,21,23,"t"],[40,7,21,24],[41,6,21,26,"e"],[42,4,21,28],[42,5,21,29],[42,8,21,32,"inputs"],[42,14,21,38],[43,4,22,4],[43,8,22,4,"assertNotComplex"],[43,17,22,20],[43,18,22,20,"assertNotComplex"],[43,34,22,20],[43,36,22,21],[43,37,22,22,"condition"],[43,46,22,31],[43,48,22,33,"t"],[43,49,22,34],[43,51,22,36,"e"],[43,52,22,37],[43,53,22,38],[43,55,22,40],[43,63,22,48],[43,64,22,49],[44,4,23,4],[44,10,23,10,"conditionRank"],[44,23,23,23],[44,26,23,26,"condition"],[44,35,23,35],[44,36,23,36,"shape"],[44,41,23,41],[44,42,23,42,"length"],[44,48,23,48],[45,4,24,4],[45,10,24,10,"values"],[45,16,24,16],[45,19,24,19,"backend"],[45,26,24,26],[45,27,24,27,"data"],[45,31,24,31],[45,32,24,32,"get"],[45,35,24,35],[45,36,24,36,"condition"],[45,45,24,45],[45,46,24,46,"dataId"],[45,52,24,52],[45,53,24,53],[45,54,24,54,"values"],[45,60,24,60],[46,4,25,4],[46,10,25,10,"tValues"],[46,17,25,17],[46,20,25,20,"backend"],[46,27,25,27],[46,28,25,28,"data"],[46,32,25,32],[46,33,25,33,"get"],[46,36,25,36],[46,37,25,37,"t"],[46,38,25,38],[46,39,25,39,"dataId"],[46,45,25,45],[46,46,25,46],[46,47,25,47,"values"],[46,53,25,53],[47,4,26,4],[47,10,26,10,"eValues"],[47,17,26,17],[47,20,26,20,"backend"],[47,27,26,27],[47,28,26,28,"data"],[47,32,26,32],[47,33,26,33,"get"],[47,36,26,36],[47,37,26,37,"e"],[47,38,26,38],[47,39,26,39,"dataId"],[47,45,26,45],[47,46,26,46],[47,47,26,47,"values"],[47,53,26,53],[48,4,27,4],[48,10,27,10,"resultDtype"],[48,21,27,21],[48,24,27,24],[48,28,27,24,"upcastType"],[48,47,27,34],[48,48,27,34,"upcastType"],[48,58,27,34],[48,60,27,35,"t"],[48,61,27,36],[48,62,27,37,"dtype"],[48,67,27,42],[48,69,27,44,"e"],[48,70,27,45],[48,71,27,46,"dtype"],[48,76,27,51],[48,77,27,52],[49,4,28,4],[49,10,28,10,"newValues"],[49,19,28,19],[49,22,28,22,"util"],[49,41,28,26],[49,42,28,26,"util"],[49,46,28,26],[49,47,28,27,"makeZerosTypedArray"],[49,66,28,46],[49,67,28,47,"util"],[49,86,28,51],[49,87,28,51,"util"],[49,91,28,51],[49,92,28,52,"sizeFromShape"],[49,105,28,65],[49,106,28,66,"t"],[49,107,28,67],[49,108,28,68,"shape"],[49,113,28,73],[49,114,28,74],[49,116,28,76,"resultDtype"],[49,127,28,87],[49,128,28,88],[50,4,29,4],[50,8,29,8,"index"],[50,13,29,13],[50,16,29,16],[50,17,29,17],[51,4,30,4],[51,10,30,10,"offset"],[51,16,30,16],[51,19,30,19,"conditionRank"],[51,32,30,32],[51,37,30,37],[51,38,30,38],[51,42,30,42,"conditionRank"],[51,55,30,55],[51,58,30,58],[51,59,30,59],[51,63,30,63,"t"],[51,64,30,64],[51,65,30,65,"shape"],[51,70,30,70],[51,71,30,71,"length"],[51,77,30,77],[51,82,30,82],[51,83,30,83],[51,86,31,8],[51,87,31,9],[51,90,32,8,"util"],[51,109,32,12],[51,110,32,12,"util"],[51,114,32,12],[51,115,32,13,"sizeFromShape"],[51,128,32,26],[51,129,32,27,"t"],[51,130,32,28],[51,131,32,29,"shape"],[51,136,32,34],[51,137,32,35,"slice"],[51,142,32,40],[51,143,32,41],[51,144,32,42],[51,145,32,43],[51,146,32,44],[52,4,33,4],[52,9,33,9],[52,13,33,13,"i"],[52,14,33,14],[52,17,33,17],[52,18,33,18],[52,20,33,20,"i"],[52,21,33,21],[52,24,33,24,"values"],[52,30,33,30],[52,31,33,31,"length"],[52,37,33,37],[52,39,33,39,"i"],[52,40,33,40],[52,42,33,42],[52,44,33,44],[53,6,34,8],[53,11,34,13],[53,15,34,17,"j"],[53,16,34,18],[53,19,34,21],[53,20,34,22],[53,22,34,24,"j"],[53,23,34,25],[53,26,34,28,"offset"],[53,32,34,34],[53,34,34,36,"j"],[53,35,34,37],[53,37,34,39],[53,39,34,41],[54,8,35,12],[54,12,35,16,"values"],[54,18,35,22],[54,19,35,23,"i"],[54,20,35,24],[54,21,35,25],[54,26,35,30],[54,27,35,31],[54,29,35,33],[55,10,36,16,"newValues"],[55,19,36,25],[55,20,36,26,"index"],[55,25,36,31],[55,27,36,33],[55,28,36,34],[55,31,36,37,"tValues"],[55,38,36,44],[55,39,36,45,"i"],[55,40,36,46],[55,41,36,47],[56,8,37,12],[56,9,37,13],[56,15,38,17],[57,10,39,16,"newValues"],[57,19,39,25],[57,20,39,26,"index"],[57,25,39,31],[57,27,39,33],[57,28,39,34],[57,31,39,37,"eValues"],[57,38,39,44],[57,39,39,45,"i"],[57,40,39,46],[57,41,39,47],[58,8,40,12],[59,6,41,8],[60,4,42,4],[61,4,43,4],[61,11,43,11,"backend"],[61,18,43,18],[61,19,43,19,"makeTensorInfo"],[61,33,43,33],[61,34,43,34,"t"],[61,35,43,35],[61,36,43,36,"shape"],[61,41,43,41],[61,43,43,43,"resultDtype"],[61,54,43,54],[61,56,43,56,"newValues"],[61,65,43,65],[61,66,43,66],[62,2,44,0],[63,2,45,7],[63,8,45,13,"selectConfig"],[63,20,45,25],[63,23,45,28],[64,4,46,4,"kernelName"],[64,14,46,14],[64,16,46,16,"Select"],[64,35,46,22],[64,36,46,22,"Select"],[64,42,46,22],[65,4,47,4,"backendName"],[65,15,47,15],[65,17,47,17],[65,22,47,22],[66,4,48,4,"kernelFunc"],[66,14,48,14],[66,16,48,16,"select"],[67,2,49,0],[67,3,49,1],[68,0,49,2],[68,3]],"functionMap":{"names":["<global>","select"],"mappings":"AAA;OCkB;CDyB"},"hasCjsExports":false},"type":"js/module"}]}