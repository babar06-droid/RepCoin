{"dependencies":[{"name":"../errors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":283},"end":{"line":10,"column":39,"index":322}}],"key":"ioSJ9iLOtXMo2uBjbVE14/NC9RQ=","exportNames":["*"],"imports":1}},{"name":"./generic_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":323},"end":{"line":11,"column":47,"index":370}}],"key":"4x5i588+/vSkinRuvmNWi5DLF+Y=","exportNames":["*"],"imports":1}},{"name":"./math_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":371},"end":{"line":12,"column":46,"index":417}}],"key":"O3NOMdikfZs1yqD8bYYITBWK3io=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.normalizeArray = normalizeArray;\n  exports.convOutputLength = convOutputLength;\n  exports.deconvLength = deconvLength;\n  var _errors = require(_dependencyMap[0], \"../errors\");\n  var _generic_utils = require(_dependencyMap[1], \"./generic_utils\");\n  var _math_utils = require(_dependencyMap[2], \"./math_utils\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC\n   *\n   * Use of this source code is governed by an MIT-style\n   * license that can be found in the LICENSE file or at\n   * https://opensource.org/licenses/MIT.\n   * =============================================================================\n   */\n\n  /**\n   * Transforms a single number of array of numbers into an array of numbers.\n   * @param value\n   * @param n: The size of the tuple to be returned.\n   * @param name: Name of the parameter, used for generating error messages.\n   * @returns An array of numbers.\n   */\n  function normalizeArray(value, n, name) {\n    if (typeof value === 'number') {\n      return (0, _generic_utils.pyListRepeat)(value, n);\n    } else {\n      if (value.length !== n) {\n        throw new _errors.ValueError(`The ${name} argument must be an integer or tuple of ${n} integers.` + ` Received: ${value.length} elements.`);\n      }\n      for (let i = 0; i < n; ++i) {\n        const singleValue = value[i];\n        if (!(0, _math_utils.isInteger)(singleValue)) {\n          throw new _errors.ValueError(`The ${name} argument must be an integer or tuple of ${n}` + ` integers. Received: ${JSON.stringify(value)} including a` + ` non-integer number ${singleValue}`);\n        }\n      }\n      return value;\n    }\n  }\n  /**\n   * Determines output length of a convolution given input length.\n   * @param inputLength\n   * @param filterSize\n   * @param padding\n   * @param stride\n   * @param dilation: dilation rate.\n   */\n  function convOutputLength(inputLength, filterSize, padding, stride, dilation = 1) {\n    if (inputLength == null) {\n      return inputLength;\n    }\n    const dilatedFilterSize = filterSize + (filterSize - 1) * (dilation - 1);\n    let outputLength;\n    if (padding === 'same') {\n      outputLength = inputLength;\n    } else {\n      // VALID\n      outputLength = inputLength - dilatedFilterSize + 1;\n    }\n    return Math.floor((outputLength + stride - 1) / stride);\n  }\n  function deconvLength(dimSize, strideSize, kernelSize, padding) {\n    if (dimSize == null) {\n      return null;\n    }\n    if (padding === 'valid') {\n      dimSize = dimSize * strideSize + (0, _math_utils.max)([kernelSize - strideSize, 0]);\n    } else if (padding === 'same') {\n      dimSize = dimSize * strideSize;\n    } else {\n      throw new _errors.ValueError(`Unsupport padding mode: ${padding}.`);\n    }\n    return dimSize;\n  }\n});","lineCount":81,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"normalizeArray"],[7,24,20,0],[7,27,20,0,"normalizeArray"],[7,41,20,0],[8,2,48,0,"exports"],[8,9,48,0],[8,10,48,0,"convOutputLength"],[8,26,48,0],[8,29,48,0,"convOutputLength"],[8,45,48,0],[9,2,62,0,"exports"],[9,9,62,0],[9,10,62,0,"deconvLength"],[9,22,62,0],[9,25,62,0,"deconvLength"],[9,37,62,0],[10,2,10,0],[10,6,10,0,"_errors"],[10,13,10,0],[10,16,10,0,"require"],[10,23,10,0],[10,24,10,0,"_dependencyMap"],[10,38,10,0],[11,2,11,0],[11,6,11,0,"_generic_utils"],[11,20,11,0],[11,23,11,0,"require"],[11,30,11,0],[11,31,11,0,"_dependencyMap"],[11,45,11,0],[12,2,12,0],[12,6,12,0,"_math_utils"],[12,17,12,0],[12,20,12,0,"require"],[12,27,12,0],[12,28,12,0,"_dependencyMap"],[12,42,12,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[23,2,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,2,20,7],[30,11,20,16,"normalizeArray"],[30,25,20,30,"normalizeArray"],[30,26,20,31,"value"],[30,31,20,36],[30,33,20,38,"n"],[30,34,20,39],[30,36,20,41,"name"],[30,40,20,45],[30,42,20,47],[31,4,21,4],[31,8,21,8],[31,15,21,15,"value"],[31,20,21,20],[31,25,21,25],[31,33,21,33],[31,35,21,35],[32,6,22,8],[32,13,22,15],[32,17,22,15,"pyListRepeat"],[32,31,22,27],[32,32,22,27,"pyListRepeat"],[32,44,22,27],[32,46,22,28,"value"],[32,51,22,33],[32,53,22,35,"n"],[32,54,22,36],[32,55,22,37],[33,4,23,4],[33,5,23,5],[33,11,24,9],[34,6,25,8],[34,10,25,12,"value"],[34,15,25,17],[34,16,25,18,"length"],[34,22,25,24],[34,27,25,29,"n"],[34,28,25,30],[34,30,25,32],[35,8,26,12],[35,14,26,18],[35,18,26,22,"ValueError"],[35,25,26,32],[35,26,26,32,"ValueError"],[35,36,26,32],[35,37,26,33],[35,44,26,40,"name"],[35,48,26,44],[35,92,26,88,"n"],[35,93,26,89],[35,105,26,101],[35,108,27,16],[35,122,27,30,"value"],[35,127,27,35],[35,128,27,36,"length"],[35,134,27,42],[35,146,27,54],[35,147,27,55],[36,6,28,8],[37,6,29,8],[37,11,29,13],[37,15,29,17,"i"],[37,16,29,18],[37,19,29,21],[37,20,29,22],[37,22,29,24,"i"],[37,23,29,25],[37,26,29,28,"n"],[37,27,29,29],[37,29,29,31],[37,31,29,33,"i"],[37,32,29,34],[37,34,29,36],[38,8,30,12],[38,14,30,18,"singleValue"],[38,25,30,29],[38,28,30,32,"value"],[38,33,30,37],[38,34,30,38,"i"],[38,35,30,39],[38,36,30,40],[39,8,31,12],[39,12,31,16],[39,13,31,17],[39,17,31,17,"isInteger"],[39,28,31,26],[39,29,31,26,"isInteger"],[39,38,31,26],[39,40,31,27,"singleValue"],[39,51,31,38],[39,52,31,39],[39,54,31,41],[40,10,32,16],[40,16,32,22],[40,20,32,26,"ValueError"],[40,27,32,36],[40,28,32,36,"ValueError"],[40,38,32,36],[40,39,32,37],[40,46,32,44,"name"],[40,50,32,48],[40,94,32,92,"n"],[40,95,32,93],[40,97,32,95],[40,100,33,20],[40,124,33,44,"JSON"],[40,128,33,48],[40,129,33,49,"stringify"],[40,138,33,58],[40,139,33,59,"value"],[40,144,33,64],[40,145,33,65],[40,159,33,79],[40,162,34,20],[40,185,34,43,"singleValue"],[40,196,34,54],[40,198,34,56],[40,199,34,57],[41,8,35,12],[42,6,36,8],[43,6,37,8],[43,13,37,15,"value"],[43,18,37,20],[44,4,38,4],[45,2,39,0],[46,2,40,0],[47,0,41,0],[48,0,42,0],[49,0,43,0],[50,0,44,0],[51,0,45,0],[52,0,46,0],[53,0,47,0],[54,2,48,7],[54,11,48,16,"convOutputLength"],[54,27,48,32,"convOutputLength"],[54,28,48,33,"inputLength"],[54,39,48,44],[54,41,48,46,"filterSize"],[54,51,48,56],[54,53,48,58,"padding"],[54,60,48,65],[54,62,48,67,"stride"],[54,68,48,73],[54,70,48,75,"dilation"],[54,78,48,83],[54,81,48,86],[54,82,48,87],[54,84,48,89],[55,4,49,4],[55,8,49,8,"inputLength"],[55,19,49,19],[55,23,49,23],[55,27,49,27],[55,29,49,29],[56,6,50,8],[56,13,50,15,"inputLength"],[56,24,50,26],[57,4,51,4],[58,4,52,4],[58,10,52,10,"dilatedFilterSize"],[58,27,52,27],[58,30,52,30,"filterSize"],[58,40,52,40],[58,43,52,43],[58,44,52,44,"filterSize"],[58,54,52,54],[58,57,52,57],[58,58,52,58],[58,63,52,63,"dilation"],[58,71,52,71],[58,74,52,74],[58,75,52,75],[58,76,52,76],[59,4,53,4],[59,8,53,8,"outputLength"],[59,20,53,20],[60,4,54,4],[60,8,54,8,"padding"],[60,15,54,15],[60,20,54,20],[60,26,54,26],[60,28,54,28],[61,6,55,8,"outputLength"],[61,18,55,20],[61,21,55,23,"inputLength"],[61,32,55,34],[62,4,56,4],[62,5,56,5],[62,11,57,9],[63,6,57,11],[64,6,58,8,"outputLength"],[64,18,58,20],[64,21,58,23,"inputLength"],[64,32,58,34],[64,35,58,37,"dilatedFilterSize"],[64,52,58,54],[64,55,58,57],[64,56,58,58],[65,4,59,4],[66,4,60,4],[66,11,60,11,"Math"],[66,15,60,15],[66,16,60,16,"floor"],[66,21,60,21],[66,22,60,22],[66,23,60,23,"outputLength"],[66,35,60,35],[66,38,60,38,"stride"],[66,44,60,44],[66,47,60,47],[66,48,60,48],[66,52,60,52,"stride"],[66,58,60,58],[66,59,60,59],[67,2,61,0],[68,2,62,7],[68,11,62,16,"deconvLength"],[68,23,62,28,"deconvLength"],[68,24,62,29,"dimSize"],[68,31,62,36],[68,33,62,38,"strideSize"],[68,43,62,48],[68,45,62,50,"kernelSize"],[68,55,62,60],[68,57,62,62,"padding"],[68,64,62,69],[68,66,62,71],[69,4,63,4],[69,8,63,8,"dimSize"],[69,15,63,15],[69,19,63,19],[69,23,63,23],[69,25,63,25],[70,6,64,8],[70,13,64,15],[70,17,64,19],[71,4,65,4],[72,4,66,4],[72,8,66,8,"padding"],[72,15,66,15],[72,20,66,20],[72,27,66,27],[72,29,66,29],[73,6,67,8,"dimSize"],[73,13,67,15],[73,16,67,18,"dimSize"],[73,23,67,25],[73,26,67,28,"strideSize"],[73,36,67,38],[73,39,67,41],[73,43,67,41,"max"],[73,54,67,44],[73,55,67,44,"max"],[73,58,67,44],[73,60,67,45],[73,61,67,46,"kernelSize"],[73,71,67,56],[73,74,67,59,"strideSize"],[73,84,67,69],[73,86,67,71],[73,87,67,72],[73,88,67,73],[73,89,67,74],[74,4,68,4],[74,5,68,5],[74,11,69,9],[74,15,69,13,"padding"],[74,22,69,20],[74,27,69,25],[74,33,69,31],[74,35,69,33],[75,6,70,8,"dimSize"],[75,13,70,15],[75,16,70,18,"dimSize"],[75,23,70,25],[75,26,70,28,"strideSize"],[75,36,70,38],[76,4,71,4],[76,5,71,5],[76,11,72,9],[77,6,73,8],[77,12,73,14],[77,16,73,18,"ValueError"],[77,23,73,28],[77,24,73,28,"ValueError"],[77,34,73,28],[77,35,73,29],[77,62,73,56,"padding"],[77,69,73,63],[77,72,73,66],[77,73,73,67],[78,4,74,4],[79,4,75,4],[79,11,75,11,"dimSize"],[79,18,75,18],[80,2,76,0],[81,0,76,1],[81,3]],"functionMap":{"names":["<global>","normalizeArray","convOutputLength","deconvLength"],"mappings":"AAA;OCmB;CDmB;OES;CFa;OGC;CHc"},"hasCjsExports":false},"type":"js/module"}]}