{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":60,"index":763}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"flipLeftRightConfig\", {\n    enumerable: true,\n    get: function () {\n      return flipLeftRightConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const flipLeftRightConfig = {\n    kernelName: _tensorflowTfjsCore.FlipLeftRight,\n    backendName: 'cpu',\n    kernelFunc: ({\n      inputs,\n      attrs,\n      backend\n    }) => {\n      const {\n        image\n      } = inputs;\n      const cpuBackend = backend;\n      const output = _tensorflowTfjsCore.util.getTypedArrayFromDType(image.dtype, _tensorflowTfjsCore.util.sizeFromShape(image.shape));\n      const [batch, imageHeight, imageWidth, numChannels] = image.shape;\n      const imageVals = cpuBackend.data.get(image.dataId).values;\n      for (let batchIdx = 0; batchIdx < batch; batchIdx++) {\n        const batchOffset = batchIdx * imageWidth * imageHeight * numChannels;\n        for (let row = 0; row < imageHeight; row++) {\n          const rowOffset = row * (imageWidth * numChannels);\n          for (let col = 0; col < imageWidth; col++) {\n            const colOffset = col * numChannels;\n            for (let channel = 0; channel < numChannels; channel++) {\n              const coordX = Math.round(imageWidth - col - 1);\n              const outIdx = batchOffset + rowOffset + colOffset + channel;\n              let outputValue = imageVals[outIdx];\n              // If the coordinate position falls within the image boundaries...\n              if (coordX >= 0 && coordX < imageWidth) {\n                // set the output to the image value at the coordinate position.\n                const rotatedColOffset = coordX * numChannels;\n                const imageIdx = batchOffset + rowOffset + rotatedColOffset + channel;\n                outputValue = imageVals[imageIdx];\n              }\n              output[outIdx] = outputValue;\n            }\n          }\n        }\n      }\n      const dataId = cpuBackend.write(output, image.shape, image.dtype);\n      return {\n        dataId,\n        shape: image.shape,\n        dtype: image.dtype\n      };\n    }\n  };\n});","lineCount":76,"map":[[7,2,18,0,"Object"],[7,8,18,0],[7,9,18,0,"defineProperty"],[7,23,18,0],[7,24,18,0,"exports"],[7,31,18,0],[8,4,18,0,"enumerable"],[8,14,18,0],[9,4,18,0,"get"],[9,7,18,0],[9,18,18,0,"get"],[9,19,18,0],[10,6,18,0],[10,13,18,0,"flipLeftRightConfig"],[10,32,18,0],[11,4,18,0],[12,2,18,0],[13,2,17,0],[13,6,17,0,"_tensorflowTfjsCore"],[13,25,17,0],[13,28,17,0,"require"],[13,35,17,0],[13,36,17,0,"_dependencyMap"],[13,50,17,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,0,5,0],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,0,12,0],[26,0,13,0],[27,0,14,0],[28,0,15,0],[29,0,16,0],[31,2,18,7],[31,8,18,13,"flipLeftRightConfig"],[31,27,18,32],[31,30,18,35],[32,4,19,4,"kernelName"],[32,14,19,14],[32,16,19,16,"FlipLeftRight"],[32,35,19,29],[32,36,19,29,"FlipLeftRight"],[32,49,19,29],[33,4,20,4,"backendName"],[33,15,20,15],[33,17,20,17],[33,22,20,22],[34,4,21,4,"kernelFunc"],[34,14,21,14],[34,16,21,16,"kernelFunc"],[34,17,21,17],[35,6,21,19,"inputs"],[35,12,21,25],[36,6,21,27,"attrs"],[36,11,21,32],[37,6,21,34,"backend"],[38,4,21,42],[38,5,21,43],[38,10,21,48],[39,6,22,8],[39,12,22,14],[40,8,22,16,"image"],[41,6,22,22],[41,7,22,23],[41,10,22,26,"inputs"],[41,16,22,32],[42,6,23,8],[42,12,23,14,"cpuBackend"],[42,22,23,24],[42,25,23,27,"backend"],[42,32,23,34],[43,6,24,8],[43,12,24,14,"output"],[43,18,24,20],[43,21,24,23,"util"],[43,40,24,27],[43,41,24,27,"util"],[43,45,24,27],[43,46,24,28,"getTypedArrayFromDType"],[43,68,24,50],[43,69,24,51,"image"],[43,74,24,56],[43,75,24,57,"dtype"],[43,80,24,62],[43,82,24,64,"util"],[43,101,24,68],[43,102,24,68,"util"],[43,106,24,68],[43,107,24,69,"sizeFromShape"],[43,120,24,82],[43,121,24,83,"image"],[43,126,24,88],[43,127,24,89,"shape"],[43,132,24,94],[43,133,24,95],[43,134,24,96],[44,6,25,8],[44,12,25,14],[44,13,25,15,"batch"],[44,18,25,20],[44,20,25,22,"imageHeight"],[44,31,25,33],[44,33,25,35,"imageWidth"],[44,43,25,45],[44,45,25,47,"numChannels"],[44,56,25,58],[44,57,25,59],[44,60,25,62,"image"],[44,65,25,67],[44,66,25,68,"shape"],[44,71,25,73],[45,6,26,8],[45,12,26,14,"imageVals"],[45,21,26,23],[45,24,26,26,"cpuBackend"],[45,34,26,36],[45,35,26,37,"data"],[45,39,26,41],[45,40,26,42,"get"],[45,43,26,45],[45,44,26,46,"image"],[45,49,26,51],[45,50,26,52,"dataId"],[45,56,26,58],[45,57,26,59],[45,58,26,60,"values"],[45,64,26,66],[46,6,27,8],[46,11,27,13],[46,15,27,17,"batchIdx"],[46,23,27,25],[46,26,27,28],[46,27,27,29],[46,29,27,31,"batchIdx"],[46,37,27,39],[46,40,27,42,"batch"],[46,45,27,47],[46,47,27,49,"batchIdx"],[46,55,27,57],[46,57,27,59],[46,59,27,61],[47,8,28,12],[47,14,28,18,"batchOffset"],[47,25,28,29],[47,28,28,32,"batchIdx"],[47,36,28,40],[47,39,28,43,"imageWidth"],[47,49,28,53],[47,52,28,56,"imageHeight"],[47,63,28,67],[47,66,28,70,"numChannels"],[47,77,28,81],[48,8,29,12],[48,13,29,17],[48,17,29,21,"row"],[48,20,29,24],[48,23,29,27],[48,24,29,28],[48,26,29,30,"row"],[48,29,29,33],[48,32,29,36,"imageHeight"],[48,43,29,47],[48,45,29,49,"row"],[48,48,29,52],[48,50,29,54],[48,52,29,56],[49,10,30,16],[49,16,30,22,"rowOffset"],[49,25,30,31],[49,28,30,34,"row"],[49,31,30,37],[49,35,30,41,"imageWidth"],[49,45,30,51],[49,48,30,54,"numChannels"],[49,59,30,65],[49,60,30,66],[50,10,31,16],[50,15,31,21],[50,19,31,25,"col"],[50,22,31,28],[50,25,31,31],[50,26,31,32],[50,28,31,34,"col"],[50,31,31,37],[50,34,31,40,"imageWidth"],[50,44,31,50],[50,46,31,52,"col"],[50,49,31,55],[50,51,31,57],[50,53,31,59],[51,12,32,20],[51,18,32,26,"colOffset"],[51,27,32,35],[51,30,32,38,"col"],[51,33,32,41],[51,36,32,44,"numChannels"],[51,47,32,55],[52,12,33,20],[52,17,33,25],[52,21,33,29,"channel"],[52,28,33,36],[52,31,33,39],[52,32,33,40],[52,34,33,42,"channel"],[52,41,33,49],[52,44,33,52,"numChannels"],[52,55,33,63],[52,57,33,65,"channel"],[52,64,33,72],[52,66,33,74],[52,68,33,76],[53,14,34,24],[53,20,34,30,"coordX"],[53,26,34,36],[53,29,34,39,"Math"],[53,33,34,43],[53,34,34,44,"round"],[53,39,34,49],[53,40,34,50,"imageWidth"],[53,50,34,60],[53,53,34,63,"col"],[53,56,34,66],[53,59,34,69],[53,60,34,70],[53,61,34,71],[54,14,35,24],[54,20,35,30,"outIdx"],[54,26,35,36],[54,29,35,39,"batchOffset"],[54,40,35,50],[54,43,35,53,"rowOffset"],[54,52,35,62],[54,55,35,65,"colOffset"],[54,64,35,74],[54,67,35,77,"channel"],[54,74,35,84],[55,14,36,24],[55,18,36,28,"outputValue"],[55,29,36,39],[55,32,36,42,"imageVals"],[55,41,36,51],[55,42,36,52,"outIdx"],[55,48,36,58],[55,49,36,59],[56,14,37,24],[57,14,38,24],[57,18,38,28,"coordX"],[57,24,38,34],[57,28,38,38],[57,29,38,39],[57,33,38,43,"coordX"],[57,39,38,49],[57,42,38,52,"imageWidth"],[57,52,38,62],[57,54,38,64],[58,16,39,28],[59,16,40,28],[59,22,40,34,"rotatedColOffset"],[59,38,40,50],[59,41,40,53,"coordX"],[59,47,40,59],[59,50,40,62,"numChannels"],[59,61,40,73],[60,16,41,28],[60,22,41,34,"imageIdx"],[60,30,41,42],[60,33,41,45,"batchOffset"],[60,44,41,56],[60,47,41,59,"rowOffset"],[60,56,41,68],[60,59,41,71,"rotatedColOffset"],[60,75,41,87],[60,78,41,90,"channel"],[60,85,41,97],[61,16,42,28,"outputValue"],[61,27,42,39],[61,30,42,42,"imageVals"],[61,39,42,51],[61,40,42,52,"imageIdx"],[61,48,42,60],[61,49,42,61],[62,14,43,24],[63,14,44,24,"output"],[63,20,44,30],[63,21,44,31,"outIdx"],[63,27,44,37],[63,28,44,38],[63,31,44,41,"outputValue"],[63,42,44,52],[64,12,45,20],[65,10,46,16],[66,8,47,12],[67,6,48,8],[68,6,49,8],[68,12,49,14,"dataId"],[68,18,49,20],[68,21,49,23,"cpuBackend"],[68,31,49,33],[68,32,49,34,"write"],[68,37,49,39],[68,38,49,40,"output"],[68,44,49,46],[68,46,49,48,"image"],[68,51,49,53],[68,52,49,54,"shape"],[68,57,49,59],[68,59,49,61,"image"],[68,64,49,66],[68,65,49,67,"dtype"],[68,70,49,72],[68,71,49,73],[69,6,50,8],[69,13,50,15],[70,8,50,17,"dataId"],[70,14,50,23],[71,8,50,25,"shape"],[71,13,50,30],[71,15,50,32,"image"],[71,20,50,37],[71,21,50,38,"shape"],[71,26,50,43],[72,8,50,45,"dtype"],[72,13,50,50],[72,15,50,52,"image"],[72,20,50,57],[72,21,50,58,"dtype"],[73,6,50,64],[73,7,50,65],[74,4,51,4],[75,2,52,0],[75,3,52,1],[76,0,52,2],[76,3]],"functionMap":{"names":["<global>","flipLeftRightConfig.kernelFunc"],"mappings":"AAA;gBCoB;KD8B"},"hasCjsExports":false},"type":"js/module"}]}