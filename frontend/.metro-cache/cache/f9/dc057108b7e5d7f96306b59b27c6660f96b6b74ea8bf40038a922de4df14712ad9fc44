{"dependencies":[{"name":"../tensor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":41,"index":744}}],"key":"WMLfGGsdvZMlkrkGI8GzpTNFZLU=","exportNames":["*"],"imports":1}},{"name":"../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":745},"end":{"line":18,"column":53,"index":798}}],"key":"UCKDOr/oOGi3nbD26ZhyAVW61qk=","exportNames":["*"],"imports":1}},{"name":"../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":799},"end":{"line":19,"column":32,"index":831}}],"key":"DTmef1GE5grNQfsvpIzpBlINy9c=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"setdiff1dAsync\", {\n    enumerable: true,\n    get: function () {\n      return setdiff1dAsync;\n    }\n  });\n  var _tensor = require(_dependencyMap[0], \"../tensor\");\n  var _tensor_util_env = require(_dependencyMap[1], \"../tensor_util_env\");\n  var _util = require(_dependencyMap[2], \"../util\");\n  var util = _interopNamespace(_util);\n  /**\n   * @license\n   * Copyright 2020 Google Inc. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Computes the difference between two lists of numbers.\n   *\n   * Given a Tensor `x` and a Tensor `y`, this operation returns a Tensor `out`\n   * that represents all values that are in `x` but not in `y`. The returned\n   * Tensor `out` is sorted in the same order that the numbers appear in `x`\n   * (duplicates are preserved). This operation also returns a Tensor indices that\n   * represents the position of each out element in `x`. In other words:\n   *\n   * `out[i] = x[idx[i]] for i in [0, 1, ..., out.length - 1]`\n   *\n   * ```js\n   * const x = [1, 2, 3, 4, 5, 6];\n   * const y = [1, 3, 5];\n   *\n   * const [out, indices] = await tf.setdiff1dAsync(x, y);\n   * out.print(); // [2, 4, 6]\n   * indices.print(); // [1, 3, 5]\n   * ```\n   *\n   * @param x 1-D Tensor. Values to keep.\n   * @param y 1-D Tensor. Must have the same type as x. Values to exclude in the\n   *     output.\n   * @returns Promise of Tensor tuple [out, indices].\n   *  out: Tensor with the same type as x.\n   *  indices: A Tensor of type int32.\n   *\n   * @doc {heading: 'Tensors', subheading: 'Transformations'}\n   */\n  async function setdiff1dAsync_(x, y) {\n    const $x = (0, _tensor_util_env.convertToTensor)(x, 'x', 'setdiff1d');\n    const $y = (0, _tensor_util_env.convertToTensor)(y, 'y', 'setdiff1d');\n    util.assert($x.dtype === $y.dtype, () => `x and y should have the same dtype, but got x (${$x.dtype}) and y (${$y.dtype}).`);\n    util.assert($x.rank === 1, () => `x should be 1D tensor, but got x (${$x.shape}).`);\n    util.assert($y.rank === 1, () => `y should be 1D tensor, but got y (${$y.shape}).`);\n    const xVals = await $x.data();\n    const yVals = await $y.data();\n    const ySet = new Set(yVals);\n    let outputSize = 0;\n    for (let i = 0; i < xVals.length; i++) {\n      if (!ySet.has(xVals[i])) {\n        outputSize++;\n      }\n    }\n    const buffer = new _tensor.TensorBuffer([outputSize], $x.dtype);\n    const indices = new _tensor.TensorBuffer([outputSize], 'int32');\n    for (let i = 0, p = 0; i < xVals.length; i++) {\n      if (!ySet.has(xVals[i])) {\n        buffer.values[p] = xVals[i];\n        indices.values[p] = i;\n        p++;\n      }\n    }\n    return [buffer.toTensor(), indices.toTensor()];\n  }\n  const setdiff1dAsync = setdiff1dAsync_;\n});","lineCount":105,"map":[[22,2,75,0,"Object"],[22,8,75,0],[22,9,75,0,"defineProperty"],[22,23,75,0],[22,24,75,0,"exports"],[22,31,75,0],[23,4,75,0,"enumerable"],[23,14,75,0],[24,4,75,0,"get"],[24,7,75,0],[24,18,75,0,"get"],[24,19,75,0],[25,6,75,0],[25,13,75,0,"setdiff1dAsync"],[25,27,75,0],[26,4,75,0],[27,2,75,0],[28,2,17,0],[28,6,17,0,"_tensor"],[28,13,17,0],[28,16,17,0,"require"],[28,23,17,0],[28,24,17,0,"_dependencyMap"],[28,38,17,0],[29,2,18,0],[29,6,18,0,"_tensor_util_env"],[29,22,18,0],[29,25,18,0,"require"],[29,32,18,0],[29,33,18,0,"_dependencyMap"],[29,47,18,0],[30,2,19,0],[30,6,19,0,"_util"],[30,11,19,0],[30,14,19,0,"require"],[30,21,19,0],[30,22,19,0,"_dependencyMap"],[30,36,19,0],[31,2,19,0],[31,6,19,0,"util"],[31,10,19,0],[31,13,19,0,"_interopNamespace"],[31,30,19,0],[31,31,19,0,"_util"],[31,36,19,0],[32,2,1,0],[33,0,2,0],[34,0,3,0],[35,0,4,0],[36,0,5,0],[37,0,6,0],[38,0,7,0],[39,0,8,0],[40,0,9,0],[41,0,10,0],[42,0,11,0],[43,0,12,0],[44,0,13,0],[45,0,14,0],[46,0,15,0],[47,0,16,0],[49,2,20,0],[50,0,21,0],[51,0,22,0],[52,0,23,0],[53,0,24,0],[54,0,25,0],[55,0,26,0],[56,0,27,0],[57,0,28,0],[58,0,29,0],[59,0,30,0],[60,0,31,0],[61,0,32,0],[62,0,33,0],[63,0,34,0],[64,0,35,0],[65,0,36,0],[66,0,37,0],[67,0,38,0],[68,0,39,0],[69,0,40,0],[70,0,41,0],[71,0,42,0],[72,0,43,0],[73,0,44,0],[74,0,45,0],[75,0,46,0],[76,0,47,0],[77,0,48,0],[78,2,49,0],[78,17,49,15,"setdiff1dAsync_"],[78,32,49,30,"setdiff1dAsync_"],[78,33,49,31,"x"],[78,34,49,32],[78,36,49,34,"y"],[78,37,49,35],[78,39,49,37],[79,4,50,4],[79,10,50,10,"$x"],[79,12,50,12],[79,15,50,15],[79,19,50,15,"convertToTensor"],[79,35,50,30],[79,36,50,30,"convertToTensor"],[79,51,50,30],[79,53,50,31,"x"],[79,54,50,32],[79,56,50,34],[79,59,50,37],[79,61,50,39],[79,72,50,50],[79,73,50,51],[80,4,51,4],[80,10,51,10,"$y"],[80,12,51,12],[80,15,51,15],[80,19,51,15,"convertToTensor"],[80,35,51,30],[80,36,51,30,"convertToTensor"],[80,51,51,30],[80,53,51,31,"y"],[80,54,51,32],[80,56,51,34],[80,59,51,37],[80,61,51,39],[80,72,51,50],[80,73,51,51],[81,4,52,4,"util"],[81,8,52,8],[81,9,52,9,"assert"],[81,15,52,15],[81,16,52,16,"$x"],[81,18,52,18],[81,19,52,19,"dtype"],[81,24,52,24],[81,29,52,29,"$y"],[81,31,52,31],[81,32,52,32,"dtype"],[81,37,52,37],[81,39,52,39],[81,45,52,45],[81,95,52,95,"$x"],[81,97,52,97],[81,98,52,98,"dtype"],[81,103,52,103],[81,115,52,115,"$y"],[81,117,52,117],[81,118,52,118,"dtype"],[81,123,52,123],[81,127,52,127],[81,128,52,128],[82,4,53,4,"util"],[82,8,53,8],[82,9,53,9,"assert"],[82,15,53,15],[82,16,53,16,"$x"],[82,18,53,18],[82,19,53,19,"rank"],[82,23,53,23],[82,28,53,28],[82,29,53,29],[82,31,53,31],[82,37,53,37],[82,74,53,74,"$x"],[82,76,53,76],[82,77,53,77,"shape"],[82,82,53,82],[82,86,53,86],[82,87,53,87],[83,4,54,4,"util"],[83,8,54,8],[83,9,54,9,"assert"],[83,15,54,15],[83,16,54,16,"$y"],[83,18,54,18],[83,19,54,19,"rank"],[83,23,54,23],[83,28,54,28],[83,29,54,29],[83,31,54,31],[83,37,54,37],[83,74,54,74,"$y"],[83,76,54,76],[83,77,54,77,"shape"],[83,82,54,82],[83,86,54,86],[83,87,54,87],[84,4,55,4],[84,10,55,10,"xVals"],[84,15,55,15],[84,18,55,18],[84,24,55,24,"$x"],[84,26,55,26],[84,27,55,27,"data"],[84,31,55,31],[84,32,55,32],[84,33,55,33],[85,4,56,4],[85,10,56,10,"yVals"],[85,15,56,15],[85,18,56,18],[85,24,56,24,"$y"],[85,26,56,26],[85,27,56,27,"data"],[85,31,56,31],[85,32,56,32],[85,33,56,33],[86,4,57,4],[86,10,57,10,"ySet"],[86,14,57,14],[86,17,57,17],[86,21,57,21,"Set"],[86,24,57,24],[86,25,57,25,"yVals"],[86,30,57,30],[86,31,57,31],[87,4,58,4],[87,8,58,8,"outputSize"],[87,18,58,18],[87,21,58,21],[87,22,58,22],[88,4,59,4],[88,9,59,9],[88,13,59,13,"i"],[88,14,59,14],[88,17,59,17],[88,18,59,18],[88,20,59,20,"i"],[88,21,59,21],[88,24,59,24,"xVals"],[88,29,59,29],[88,30,59,30,"length"],[88,36,59,36],[88,38,59,38,"i"],[88,39,59,39],[88,41,59,41],[88,43,59,43],[89,6,60,8],[89,10,60,12],[89,11,60,13,"ySet"],[89,15,60,17],[89,16,60,18,"has"],[89,19,60,21],[89,20,60,22,"xVals"],[89,25,60,27],[89,26,60,28,"i"],[89,27,60,29],[89,28,60,30],[89,29,60,31],[89,31,60,33],[90,8,61,12,"outputSize"],[90,18,61,22],[90,20,61,24],[91,6,62,8],[92,4,63,4],[93,4,64,4],[93,10,64,10,"buffer"],[93,16,64,16],[93,19,64,19],[93,23,64,23,"TensorBuffer"],[93,30,64,35],[93,31,64,35,"TensorBuffer"],[93,43,64,35],[93,44,64,36],[93,45,64,37,"outputSize"],[93,55,64,47],[93,56,64,48],[93,58,64,50,"$x"],[93,60,64,52],[93,61,64,53,"dtype"],[93,66,64,58],[93,67,64,59],[94,4,65,4],[94,10,65,10,"indices"],[94,17,65,17],[94,20,65,20],[94,24,65,24,"TensorBuffer"],[94,31,65,36],[94,32,65,36,"TensorBuffer"],[94,44,65,36],[94,45,65,37],[94,46,65,38,"outputSize"],[94,56,65,48],[94,57,65,49],[94,59,65,51],[94,66,65,58],[94,67,65,59],[95,4,66,4],[95,9,66,9],[95,13,66,13,"i"],[95,14,66,14],[95,17,66,17],[95,18,66,18],[95,20,66,20,"p"],[95,21,66,21],[95,24,66,24],[95,25,66,25],[95,27,66,27,"i"],[95,28,66,28],[95,31,66,31,"xVals"],[95,36,66,36],[95,37,66,37,"length"],[95,43,66,43],[95,45,66,45,"i"],[95,46,66,46],[95,48,66,48],[95,50,66,50],[96,6,67,8],[96,10,67,12],[96,11,67,13,"ySet"],[96,15,67,17],[96,16,67,18,"has"],[96,19,67,21],[96,20,67,22,"xVals"],[96,25,67,27],[96,26,67,28,"i"],[96,27,67,29],[96,28,67,30],[96,29,67,31],[96,31,67,33],[97,8,68,12,"buffer"],[97,14,68,18],[97,15,68,19,"values"],[97,21,68,25],[97,22,68,26,"p"],[97,23,68,27],[97,24,68,28],[97,27,68,31,"xVals"],[97,32,68,36],[97,33,68,37,"i"],[97,34,68,38],[97,35,68,39],[98,8,69,12,"indices"],[98,15,69,19],[98,16,69,20,"values"],[98,22,69,26],[98,23,69,27,"p"],[98,24,69,28],[98,25,69,29],[98,28,69,32,"i"],[98,29,69,33],[99,8,70,12,"p"],[99,9,70,13],[99,11,70,15],[100,6,71,8],[101,4,72,4],[102,4,73,4],[102,11,73,11],[102,12,73,12,"buffer"],[102,18,73,18],[102,19,73,19,"toTensor"],[102,27,73,27],[102,28,73,28],[102,29,73,29],[102,31,73,31,"indices"],[102,38,73,38],[102,39,73,39,"toTensor"],[102,47,73,47],[102,48,73,48],[102,49,73,49],[102,50,73,50],[103,2,74,0],[104,2,75,7],[104,8,75,13,"setdiff1dAsync"],[104,22,75,27],[104,25,75,30,"setdiff1dAsync_"],[104,40,75,45],[105,0,75,46],[105,3]],"functionMap":{"names":["<global>","setdiff1dAsync_","util.assert$argument_1"],"mappings":"AAA;ACgD;uCCG,wFD;+BCC,uDD;+BCC,uDD;CDoB"},"hasCjsExports":false},"type":"js/module"}]}