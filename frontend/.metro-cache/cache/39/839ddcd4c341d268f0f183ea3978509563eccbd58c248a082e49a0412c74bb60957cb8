{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"IORouterRegistry\", {\n    enumerable: true,\n    get: function () {\n      return IORouterRegistry;\n    }\n  });\n  Object.defineProperty(exports, \"registerSaveRouter\", {\n    enumerable: true,\n    get: function () {\n      return registerSaveRouter;\n    }\n  });\n  Object.defineProperty(exports, \"registerLoadRouter\", {\n    enumerable: true,\n    get: function () {\n      return registerLoadRouter;\n    }\n  });\n  Object.defineProperty(exports, \"getSaveHandlers\", {\n    enumerable: true,\n    get: function () {\n      return getSaveHandlers;\n    }\n  });\n  Object.defineProperty(exports, \"getLoadHandlers\", {\n    enumerable: true,\n    get: function () {\n      return getLoadHandlers;\n    }\n  });\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n  class IORouterRegistry {\n    constructor() {\n      this.saveRouters = [];\n      this.loadRouters = [];\n    }\n    static getInstance() {\n      if (IORouterRegistry.instance == null) {\n        IORouterRegistry.instance = new IORouterRegistry();\n      }\n      return IORouterRegistry.instance;\n    }\n    /**\n     * Register a save-handler router.\n     *\n     * @param saveRouter A function that maps a URL-like string onto an instance\n     * of `IOHandler` with the `save` method defined or `null`.\n     */\n    static registerSaveRouter(saveRouter) {\n      IORouterRegistry.getInstance().saveRouters.push(saveRouter);\n    }\n    /**\n     * Register a load-handler router.\n     *\n     * @param loadRouter A function that maps a URL-like string onto an instance\n     * of `IOHandler` with the `load` method defined or `null`.\n     */\n    static registerLoadRouter(loadRouter) {\n      IORouterRegistry.getInstance().loadRouters.push(loadRouter);\n    }\n    /**\n     * Look up IOHandler for saving, given a URL-like string.\n     *\n     * @param url\n     * @returns If only one match is found, an instance of IOHandler with the\n     * `save` method defined. If no match is found, `null`.\n     * @throws Error, if more than one match is found.\n     */\n    static getSaveHandlers(url) {\n      return IORouterRegistry.getHandlers(url, 'save');\n    }\n    /**\n     * Look up IOHandler for loading, given a URL-like string.\n     *\n     * @param url\n     * @param loadOptions Optional, custom load options.\n     * @returns All valid handlers for `url`, given the currently registered\n     *   handler routers.\n     */\n    static getLoadHandlers(url, loadOptions) {\n      return IORouterRegistry.getHandlers(url, 'load', loadOptions);\n    }\n    static getHandlers(url, handlerType, loadOptions) {\n      const validHandlers = [];\n      const routers = handlerType === 'load' ? IORouterRegistry.getInstance().loadRouters : IORouterRegistry.getInstance().saveRouters;\n      routers.forEach(router => {\n        const handler = router(url, loadOptions);\n        if (handler !== null) {\n          validHandlers.push(handler);\n        }\n      });\n      return validHandlers;\n    }\n  }\n  const registerSaveRouter = loudRouter => IORouterRegistry.registerSaveRouter(loudRouter);\n  const registerLoadRouter = loudRouter => IORouterRegistry.registerLoadRouter(loudRouter);\n  const getSaveHandlers = url => IORouterRegistry.getSaveHandlers(url);\n  const getLoadHandlers = (url, loadOptions) => IORouterRegistry.getLoadHandlers(url, loadOptions);\n});","lineCount":120,"map":[[7,2,17,0,"Object"],[7,8,17,0],[7,9,17,0,"defineProperty"],[7,23,17,0],[7,24,17,0,"exports"],[7,31,17,0],[8,4,17,0,"enumerable"],[8,14,17,0],[9,4,17,0,"get"],[9,7,17,0],[9,18,17,0,"get"],[9,19,17,0],[10,6,17,0],[10,13,17,0,"IORouterRegistry"],[10,29,17,0],[11,4,17,0],[12,2,17,0],[13,2,82,0,"Object"],[13,8,82,0],[13,9,82,0,"defineProperty"],[13,23,82,0],[13,24,82,0,"exports"],[13,31,82,0],[14,4,82,0,"enumerable"],[14,14,82,0],[15,4,82,0,"get"],[15,7,82,0],[15,18,82,0,"get"],[15,19,82,0],[16,6,82,0],[16,13,82,0,"registerSaveRouter"],[16,31,82,0],[17,4,82,0],[18,2,82,0],[19,2,83,0,"Object"],[19,8,83,0],[19,9,83,0,"defineProperty"],[19,23,83,0],[19,24,83,0,"exports"],[19,31,83,0],[20,4,83,0,"enumerable"],[20,14,83,0],[21,4,83,0,"get"],[21,7,83,0],[21,18,83,0,"get"],[21,19,83,0],[22,6,83,0],[22,13,83,0,"registerLoadRouter"],[22,31,83,0],[23,4,83,0],[24,2,83,0],[25,2,84,0,"Object"],[25,8,84,0],[25,9,84,0,"defineProperty"],[25,23,84,0],[25,24,84,0,"exports"],[25,31,84,0],[26,4,84,0,"enumerable"],[26,14,84,0],[27,4,84,0,"get"],[27,7,84,0],[27,18,84,0,"get"],[27,19,84,0],[28,6,84,0],[28,13,84,0,"getSaveHandlers"],[28,28,84,0],[29,4,84,0],[30,2,84,0],[31,2,85,0,"Object"],[31,8,85,0],[31,9,85,0,"defineProperty"],[31,23,85,0],[31,24,85,0,"exports"],[31,31,85,0],[32,4,85,0,"enumerable"],[32,14,85,0],[33,4,85,0,"get"],[33,7,85,0],[33,18,85,0,"get"],[33,19,85,0],[34,6,85,0],[34,13,85,0,"getLoadHandlers"],[34,28,85,0],[35,4,85,0],[36,2,85,0],[37,2,1,0],[38,0,2,0],[39,0,3,0],[40,0,4,0],[41,0,5,0],[42,0,6,0],[43,0,7,0],[44,0,8,0],[45,0,9,0],[46,0,10,0],[47,0,11,0],[48,0,12,0],[49,0,13,0],[50,0,14,0],[51,0,15,0],[52,0,16,0],[53,2,17,7],[53,8,17,13,"IORouterRegistry"],[53,24,17,29],[53,25,17,30],[54,4,18,4,"constructor"],[54,15,18,15,"constructor"],[54,16,18,15],[54,18,18,18],[55,6,19,8],[55,10,19,12],[55,11,19,13,"saveRouters"],[55,22,19,24],[55,25,19,27],[55,27,19,29],[56,6,20,8],[56,10,20,12],[56,11,20,13,"loadRouters"],[56,22,20,24],[56,25,20,27],[56,27,20,29],[57,4,21,4],[58,4,22,4],[58,11,22,11,"getInstance"],[58,22,22,22,"getInstance"],[58,23,22,22],[58,25,22,25],[59,6,23,8],[59,10,23,12,"IORouterRegistry"],[59,26,23,28],[59,27,23,29,"instance"],[59,35,23,37],[59,39,23,41],[59,43,23,45],[59,45,23,47],[60,8,24,12,"IORouterRegistry"],[60,24,24,28],[60,25,24,29,"instance"],[60,33,24,37],[60,36,24,40],[60,40,24,44,"IORouterRegistry"],[60,56,24,60],[60,57,24,61],[60,58,24,62],[61,6,25,8],[62,6,26,8],[62,13,26,15,"IORouterRegistry"],[62,29,26,31],[62,30,26,32,"instance"],[62,38,26,40],[63,4,27,4],[64,4,28,4],[65,0,29,0],[66,0,30,0],[67,0,31,0],[68,0,32,0],[69,0,33,0],[70,4,34,4],[70,11,34,11,"registerSaveRouter"],[70,29,34,29,"registerSaveRouter"],[70,30,34,30,"saveRouter"],[70,40,34,40],[70,42,34,42],[71,6,35,8,"IORouterRegistry"],[71,22,35,24],[71,23,35,25,"getInstance"],[71,34,35,36],[71,35,35,37],[71,36,35,38],[71,37,35,39,"saveRouters"],[71,48,35,50],[71,49,35,51,"push"],[71,53,35,55],[71,54,35,56,"saveRouter"],[71,64,35,66],[71,65,35,67],[72,4,36,4],[73,4,37,4],[74,0,38,0],[75,0,39,0],[76,0,40,0],[77,0,41,0],[78,0,42,0],[79,4,43,4],[79,11,43,11,"registerLoadRouter"],[79,29,43,29,"registerLoadRouter"],[79,30,43,30,"loadRouter"],[79,40,43,40],[79,42,43,42],[80,6,44,8,"IORouterRegistry"],[80,22,44,24],[80,23,44,25,"getInstance"],[80,34,44,36],[80,35,44,37],[80,36,44,38],[80,37,44,39,"loadRouters"],[80,48,44,50],[80,49,44,51,"push"],[80,53,44,55],[80,54,44,56,"loadRouter"],[80,64,44,66],[80,65,44,67],[81,4,45,4],[82,4,46,4],[83,0,47,0],[84,0,48,0],[85,0,49,0],[86,0,50,0],[87,0,51,0],[88,0,52,0],[89,0,53,0],[90,4,54,4],[90,11,54,11,"getSaveHandlers"],[90,26,54,26,"getSaveHandlers"],[90,27,54,27,"url"],[90,30,54,30],[90,32,54,32],[91,6,55,8],[91,13,55,15,"IORouterRegistry"],[91,29,55,31],[91,30,55,32,"getHandlers"],[91,41,55,43],[91,42,55,44,"url"],[91,45,55,47],[91,47,55,49],[91,53,55,55],[91,54,55,56],[92,4,56,4],[93,4,57,4],[94,0,58,0],[95,0,59,0],[96,0,60,0],[97,0,61,0],[98,0,62,0],[99,0,63,0],[100,0,64,0],[101,4,65,4],[101,11,65,11,"getLoadHandlers"],[101,26,65,26,"getLoadHandlers"],[101,27,65,27,"url"],[101,30,65,30],[101,32,65,32,"loadOptions"],[101,43,65,43],[101,45,65,45],[102,6,66,8],[102,13,66,15,"IORouterRegistry"],[102,29,66,31],[102,30,66,32,"getHandlers"],[102,41,66,43],[102,42,66,44,"url"],[102,45,66,47],[102,47,66,49],[102,53,66,55],[102,55,66,57,"loadOptions"],[102,66,66,68],[102,67,66,69],[103,4,67,4],[104,4,68,4],[104,11,68,11,"getHandlers"],[104,22,68,22,"getHandlers"],[104,23,68,23,"url"],[104,26,68,26],[104,28,68,28,"handlerType"],[104,39,68,39],[104,41,68,41,"loadOptions"],[104,52,68,52],[104,54,68,54],[105,6,69,8],[105,12,69,14,"validHandlers"],[105,25,69,27],[105,28,69,30],[105,30,69,32],[106,6,70,8],[106,12,70,14,"routers"],[106,19,70,21],[106,22,70,24,"handlerType"],[106,33,70,35],[106,38,70,40],[106,44,70,46],[106,47,71,12,"IORouterRegistry"],[106,63,71,28],[106,64,71,29,"getInstance"],[106,75,71,40],[106,76,71,41],[106,77,71,42],[106,78,71,43,"loadRouters"],[106,89,71,54],[106,92,72,12,"IORouterRegistry"],[106,108,72,28],[106,109,72,29,"getInstance"],[106,120,72,40],[106,121,72,41],[106,122,72,42],[106,123,72,43,"saveRouters"],[106,134,72,54],[107,6,73,8,"routers"],[107,13,73,15],[107,14,73,16,"forEach"],[107,21,73,23],[107,22,73,24,"router"],[107,28,73,30],[107,32,73,34],[108,8,74,12],[108,14,74,18,"handler"],[108,21,74,25],[108,24,74,28,"router"],[108,30,74,34],[108,31,74,35,"url"],[108,34,74,38],[108,36,74,40,"loadOptions"],[108,47,74,51],[108,48,74,52],[109,8,75,12],[109,12,75,16,"handler"],[109,19,75,23],[109,24,75,28],[109,28,75,32],[109,30,75,34],[110,10,76,16,"validHandlers"],[110,23,76,29],[110,24,76,30,"push"],[110,28,76,34],[110,29,76,35,"handler"],[110,36,76,42],[110,37,76,43],[111,8,77,12],[112,6,78,8],[112,7,78,9],[112,8,78,10],[113,6,79,8],[113,13,79,15,"validHandlers"],[113,26,79,28],[114,4,80,4],[115,2,81,0],[116,2,82,7],[116,8,82,13,"registerSaveRouter"],[116,26,82,31],[116,29,82,35,"loudRouter"],[116,39,82,45],[116,43,82,50,"IORouterRegistry"],[116,59,82,66],[116,60,82,67,"registerSaveRouter"],[116,78,82,85],[116,79,82,86,"loudRouter"],[116,89,82,96],[116,90,82,97],[117,2,83,7],[117,8,83,13,"registerLoadRouter"],[117,26,83,31],[117,29,83,35,"loudRouter"],[117,39,83,45],[117,43,83,50,"IORouterRegistry"],[117,59,83,66],[117,60,83,67,"registerLoadRouter"],[117,78,83,85],[117,79,83,86,"loudRouter"],[117,89,83,96],[117,90,83,97],[118,2,84,7],[118,8,84,13,"getSaveHandlers"],[118,23,84,28],[118,26,84,32,"url"],[118,29,84,35],[118,33,84,40,"IORouterRegistry"],[118,49,84,56],[118,50,84,57,"getSaveHandlers"],[118,65,84,72],[118,66,84,73,"url"],[118,69,84,76],[118,70,84,77],[119,2,85,7],[119,8,85,13,"getLoadHandlers"],[119,23,85,28],[119,26,85,31,"getLoadHandlers"],[119,27,85,32,"url"],[119,30,85,35],[119,32,85,37,"loadOptions"],[119,43,85,48],[119,48,85,53,"IORouterRegistry"],[119,64,85,69],[119,65,85,70,"getLoadHandlers"],[119,80,85,85],[119,81,85,86,"url"],[119,84,85,89],[119,86,85,91,"loadOptions"],[119,97,85,102],[119,98,85,103],[120,0,85,104],[120,3]],"functionMap":{"names":["<global>","IORouterRegistry","IORouterRegistry#constructor","IORouterRegistry.getInstance","IORouterRegistry.registerSaveRouter","IORouterRegistry.registerLoadRouter","IORouterRegistry.getSaveHandlers","IORouterRegistry.getLoadHandlers","IORouterRegistry.getHandlers","routers.forEach$argument_0","registerSaveRouter","registerLoadRouter","getSaveHandlers","getLoadHandlers"],"mappings":"AAA;OCgB;ICC;KDG;IEC;KFK;IGO;KHE;IIO;KJE;IKS;KLE;IMS;KNE;IOC;wBCK;SDK;KPE;CDC;kCUC,+DV;kCWC,+DX;+BYC,8CZ;+BaC,wEb"},"hasCjsExports":false},"type":"js/module"}]}