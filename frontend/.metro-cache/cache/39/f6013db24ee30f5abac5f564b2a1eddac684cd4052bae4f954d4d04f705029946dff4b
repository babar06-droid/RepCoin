{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":75,"index":778}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../cpu_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":779},"end":{"line":18,"column":47,"index":826}}],"key":"5L5S4GXlh/uJh1MrXQbkPSVOWm4=","exportNames":["*"],"imports":1}},{"name":"./PadV2","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":827},"end":{"line":19,"column":38,"index":865}}],"key":"SjQusUgV5Bu8lbBrAjFG2aqDM6Q=","exportNames":["*"],"imports":1}},{"name":"./Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":866},"end":{"line":20,"column":36,"index":902}}],"key":"EUWK+oKi/AwokPOQ1jng5DYfQSc=","exportNames":["*"],"imports":1}},{"name":"./Transpose","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":903},"end":{"line":21,"column":40,"index":943}}],"key":"F6S1ekgW6WEHcH6rql/beO2khwY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.spaceToBatchND = spaceToBatchND;\n  Object.defineProperty(exports, \"spaceToBatchNDConfig\", {\n    enumerable: true,\n    get: function () {\n      return spaceToBatchNDConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _cpu_util = require(_dependencyMap[1], \"../cpu_util\");\n  var _PadV = require(_dependencyMap[2], \"./PadV2\");\n  var _Reshape = require(_dependencyMap[3], \"./Reshape\");\n  var _Transpose = require(_dependencyMap[4], \"./Transpose\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function spaceToBatchND(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      blockShape,\n      paddings\n    } = attrs;\n    (0, _cpu_util.assertNotComplex)([x], 'spaceToBatchND');\n    const prod = _tensorflowTfjsCore.util.sizeFromShape(blockShape);\n    const completePaddings = [[0, 0]];\n    completePaddings.push(...paddings);\n    for (let i = 1 + blockShape.length; i < x.shape.length; ++i) {\n      completePaddings.push([0, 0]);\n    }\n    const paddedX = _PadV.padV2Config.kernelFunc({\n      inputs: {\n        x\n      },\n      backend,\n      attrs: {\n        paddings: completePaddings,\n        constantValue: 0\n      }\n    });\n    const reshapedPaddedShape = _tensorflowTfjsCore.backend_util.getReshaped(paddedX.shape, blockShape, prod, false);\n    const permutedReshapedPaddedPermutation = _tensorflowTfjsCore.backend_util.getPermuted(reshapedPaddedShape.length, blockShape.length, false);\n    const flattenShape = _tensorflowTfjsCore.backend_util.getReshapedPermuted(paddedX.shape, blockShape, prod, false);\n    const reshapeInputs = {\n      x: paddedX\n    };\n    const reshapeAttrs = {\n      shape: reshapedPaddedShape\n    };\n    const paddedXReshaped = (0, _Reshape.reshape)({\n      inputs: reshapeInputs,\n      backend,\n      attrs: reshapeAttrs\n    });\n    const transposeInputs = {\n      x: paddedXReshaped\n    };\n    const transposeAttrs = {\n      perm: permutedReshapedPaddedPermutation\n    };\n    const paddedXT = (0, _Transpose.transpose)({\n      inputs: transposeInputs,\n      backend,\n      attrs: transposeAttrs\n    });\n    const resultReshapeInputs = {\n      x: paddedXT\n    };\n    const resultReshapeAttrs = {\n      shape: flattenShape\n    };\n    const result = (0, _Reshape.reshape)({\n      inputs: resultReshapeInputs,\n      backend,\n      attrs: resultReshapeAttrs\n    });\n    backend.disposeIntermediateTensorInfo(paddedX);\n    backend.disposeIntermediateTensorInfo(paddedXReshaped);\n    backend.disposeIntermediateTensorInfo(paddedXT);\n    return result;\n  }\n  const spaceToBatchNDConfig = {\n    kernelName: _tensorflowTfjsCore.SpaceToBatchND,\n    backendName: 'cpu',\n    kernelFunc: spaceToBatchND\n  };\n});","lineCount":112,"map":[[7,2,22,0,"exports"],[7,9,22,0],[7,10,22,0,"spaceToBatchND"],[7,24,22,0],[7,27,22,0,"spaceToBatchND"],[7,41,22,0],[8,2,55,0,"Object"],[8,8,55,0],[8,9,55,0,"defineProperty"],[8,23,55,0],[8,24,55,0,"exports"],[8,31,55,0],[9,4,55,0,"enumerable"],[9,14,55,0],[10,4,55,0,"get"],[10,7,55,0],[10,18,55,0,"get"],[10,19,55,0],[11,6,55,0],[11,13,55,0,"spaceToBatchNDConfig"],[11,33,55,0],[12,4,55,0],[13,2,55,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_cpu_util"],[15,15,18,0],[15,18,18,0,"require"],[15,25,18,0],[15,26,18,0,"_dependencyMap"],[15,40,18,0],[16,2,19,0],[16,6,19,0,"_PadV"],[16,11,19,0],[16,14,19,0,"require"],[16,21,19,0],[16,22,19,0,"_dependencyMap"],[16,36,19,0],[17,2,20,0],[17,6,20,0,"_Reshape"],[17,14,20,0],[17,17,20,0,"require"],[17,24,20,0],[17,25,20,0,"_dependencyMap"],[17,39,20,0],[18,2,21,0],[18,6,21,0,"_Transpose"],[18,16,21,0],[18,19,21,0,"require"],[18,26,21,0],[18,27,21,0,"_dependencyMap"],[18,41,21,0],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[29,0,11,0],[30,0,12,0],[31,0,13,0],[32,0,14,0],[33,0,15,0],[34,0,16,0],[36,2,22,7],[36,11,22,16,"spaceToBatchND"],[36,25,22,30,"spaceToBatchND"],[36,26,22,31,"args"],[36,30,22,35],[36,32,22,37],[37,4,23,4],[37,10,23,10],[38,6,23,12,"inputs"],[38,12,23,18],[39,6,23,20,"backend"],[39,13,23,27],[40,6,23,29,"attrs"],[41,4,23,35],[41,5,23,36],[41,8,23,39,"args"],[41,12,23,43],[42,4,24,4],[42,10,24,10],[43,6,24,12,"x"],[44,4,24,14],[44,5,24,15],[44,8,24,18,"inputs"],[44,14,24,24],[45,4,25,4],[45,10,25,10],[46,6,25,12,"blockShape"],[46,16,25,22],[47,6,25,24,"paddings"],[48,4,25,33],[48,5,25,34],[48,8,25,37,"attrs"],[48,13,25,42],[49,4,26,4],[49,8,26,4,"assertNotComplex"],[49,17,26,20],[49,18,26,20,"assertNotComplex"],[49,34,26,20],[49,36,26,21],[49,37,26,22,"x"],[49,38,26,23],[49,39,26,24],[49,41,26,26],[49,57,26,42],[49,58,26,43],[50,4,27,4],[50,10,27,10,"prod"],[50,14,27,14],[50,17,27,17,"util"],[50,36,27,21],[50,37,27,21,"util"],[50,41,27,21],[50,42,27,22,"sizeFromShape"],[50,55,27,35],[50,56,27,36,"blockShape"],[50,66,27,46],[50,67,27,47],[51,4,28,4],[51,10,28,10,"completePaddings"],[51,26,28,26],[51,29,28,29],[51,30,28,30],[51,31,28,31],[51,32,28,32],[51,34,28,34],[51,35,28,35],[51,36,28,36],[51,37,28,37],[52,4,29,4,"completePaddings"],[52,20,29,20],[52,21,29,21,"push"],[52,25,29,25],[52,26,29,26],[52,29,29,29,"paddings"],[52,37,29,37],[52,38,29,38],[53,4,30,4],[53,9,30,9],[53,13,30,13,"i"],[53,14,30,14],[53,17,30,17],[53,18,30,18],[53,21,30,21,"blockShape"],[53,31,30,31],[53,32,30,32,"length"],[53,38,30,38],[53,40,30,40,"i"],[53,41,30,41],[53,44,30,44,"x"],[53,45,30,45],[53,46,30,46,"shape"],[53,51,30,51],[53,52,30,52,"length"],[53,58,30,58],[53,60,30,60],[53,62,30,62,"i"],[53,63,30,63],[53,65,30,65],[54,6,31,8,"completePaddings"],[54,22,31,24],[54,23,31,25,"push"],[54,27,31,29],[54,28,31,30],[54,29,31,31],[54,30,31,32],[54,32,31,34],[54,33,31,35],[54,34,31,36],[54,35,31,37],[55,4,32,4],[56,4,33,4],[56,10,33,10,"paddedX"],[56,17,33,17],[56,20,33,20,"padV2Config"],[56,25,33,31],[56,26,33,31,"padV2Config"],[56,37,33,31],[56,38,33,32,"kernelFunc"],[56,48,33,42],[56,49,33,43],[57,6,34,8,"inputs"],[57,12,34,14],[57,14,34,16],[58,8,34,18,"x"],[59,6,34,20],[59,7,34,21],[60,6,35,8,"backend"],[60,13,35,15],[61,6,36,8,"attrs"],[61,11,36,13],[61,13,36,15],[62,8,36,17,"paddings"],[62,16,36,25],[62,18,36,27,"completePaddings"],[62,34,36,43],[63,8,36,45,"constantValue"],[63,21,36,58],[63,23,36,60],[64,6,36,62],[65,4,37,4],[65,5,37,5],[65,6,37,6],[66,4,38,4],[66,10,38,10,"reshapedPaddedShape"],[66,29,38,29],[66,32,38,32,"backend_util"],[66,51,38,44],[66,52,38,44,"backend_util"],[66,64,38,44],[66,65,38,45,"getReshaped"],[66,76,38,56],[66,77,38,57,"paddedX"],[66,84,38,64],[66,85,38,65,"shape"],[66,90,38,70],[66,92,38,72,"blockShape"],[66,102,38,82],[66,104,38,84,"prod"],[66,108,38,88],[66,110,38,90],[66,115,38,95],[66,116,38,96],[67,4,39,4],[67,10,39,10,"permutedReshapedPaddedPermutation"],[67,43,39,43],[67,46,39,46,"backend_util"],[67,65,39,58],[67,66,39,58,"backend_util"],[67,78,39,58],[67,79,39,59,"getPermuted"],[67,90,39,70],[67,91,39,71,"reshapedPaddedShape"],[67,110,39,90],[67,111,39,91,"length"],[67,117,39,97],[67,119,39,99,"blockShape"],[67,129,39,109],[67,130,39,110,"length"],[67,136,39,116],[67,138,39,118],[67,143,39,123],[67,144,39,124],[68,4,40,4],[68,10,40,10,"flattenShape"],[68,22,40,22],[68,25,40,25,"backend_util"],[68,44,40,37],[68,45,40,37,"backend_util"],[68,57,40,37],[68,58,40,38,"getReshapedPermuted"],[68,77,40,57],[68,78,40,58,"paddedX"],[68,85,40,65],[68,86,40,66,"shape"],[68,91,40,71],[68,93,40,73,"blockShape"],[68,103,40,83],[68,105,40,85,"prod"],[68,109,40,89],[68,111,40,91],[68,116,40,96],[68,117,40,97],[69,4,41,4],[69,10,41,10,"reshapeInputs"],[69,23,41,23],[69,26,41,26],[70,6,41,28,"x"],[70,7,41,29],[70,9,41,31,"paddedX"],[71,4,41,39],[71,5,41,40],[72,4,42,4],[72,10,42,10,"reshapeAttrs"],[72,22,42,22],[72,25,42,25],[73,6,42,27,"shape"],[73,11,42,32],[73,13,42,34,"reshapedPaddedShape"],[74,4,42,54],[74,5,42,55],[75,4,43,4],[75,10,43,10,"paddedXReshaped"],[75,25,43,25],[75,28,43,28],[75,32,43,28,"reshape"],[75,40,43,35],[75,41,43,35,"reshape"],[75,48,43,35],[75,50,43,36],[76,6,43,38,"inputs"],[76,12,43,44],[76,14,43,46,"reshapeInputs"],[76,27,43,59],[77,6,43,61,"backend"],[77,13,43,68],[78,6,43,70,"attrs"],[78,11,43,75],[78,13,43,77,"reshapeAttrs"],[79,4,43,90],[79,5,43,91],[79,6,43,92],[80,4,44,4],[80,10,44,10,"transposeInputs"],[80,25,44,25],[80,28,44,28],[81,6,44,30,"x"],[81,7,44,31],[81,9,44,33,"paddedXReshaped"],[82,4,44,49],[82,5,44,50],[83,4,45,4],[83,10,45,10,"transposeAttrs"],[83,24,45,24],[83,27,45,27],[84,6,45,29,"perm"],[84,10,45,33],[84,12,45,35,"permutedReshapedPaddedPermutation"],[85,4,45,69],[85,5,45,70],[86,4,46,4],[86,10,46,10,"paddedXT"],[86,18,46,18],[86,21,46,21],[86,25,46,21,"transpose"],[86,35,46,30],[86,36,46,30,"transpose"],[86,45,46,30],[86,47,46,31],[87,6,46,33,"inputs"],[87,12,46,39],[87,14,46,41,"transposeInputs"],[87,29,46,56],[88,6,46,58,"backend"],[88,13,46,65],[89,6,46,67,"attrs"],[89,11,46,72],[89,13,46,74,"transposeAttrs"],[90,4,46,89],[90,5,46,90],[90,6,46,91],[91,4,47,4],[91,10,47,10,"resultReshapeInputs"],[91,29,47,29],[91,32,47,32],[92,6,47,34,"x"],[92,7,47,35],[92,9,47,37,"paddedXT"],[93,4,47,46],[93,5,47,47],[94,4,48,4],[94,10,48,10,"resultReshapeAttrs"],[94,28,48,28],[94,31,48,31],[95,6,48,33,"shape"],[95,11,48,38],[95,13,48,40,"flattenShape"],[96,4,48,53],[96,5,48,54],[97,4,49,4],[97,10,49,10,"result"],[97,16,49,16],[97,19,49,19],[97,23,49,19,"reshape"],[97,31,49,26],[97,32,49,26,"reshape"],[97,39,49,26],[97,41,49,27],[98,6,49,29,"inputs"],[98,12,49,35],[98,14,49,37,"resultReshapeInputs"],[98,33,49,56],[99,6,49,58,"backend"],[99,13,49,65],[100,6,49,67,"attrs"],[100,11,49,72],[100,13,49,74,"resultReshapeAttrs"],[101,4,49,93],[101,5,49,94],[101,6,49,95],[102,4,50,4,"backend"],[102,11,50,11],[102,12,50,12,"disposeIntermediateTensorInfo"],[102,41,50,41],[102,42,50,42,"paddedX"],[102,49,50,49],[102,50,50,50],[103,4,51,4,"backend"],[103,11,51,11],[103,12,51,12,"disposeIntermediateTensorInfo"],[103,41,51,41],[103,42,51,42,"paddedXReshaped"],[103,57,51,57],[103,58,51,58],[104,4,52,4,"backend"],[104,11,52,11],[104,12,52,12,"disposeIntermediateTensorInfo"],[104,41,52,41],[104,42,52,42,"paddedXT"],[104,50,52,50],[104,51,52,51],[105,4,53,4],[105,11,53,11,"result"],[105,17,53,17],[106,2,54,0],[107,2,55,7],[107,8,55,13,"spaceToBatchNDConfig"],[107,28,55,33],[107,31,55,36],[108,4,56,4,"kernelName"],[108,14,56,14],[108,16,56,16,"SpaceToBatchND"],[108,35,56,30],[108,36,56,30,"SpaceToBatchND"],[108,50,56,30],[109,4,57,4,"backendName"],[109,15,57,15],[109,17,57,17],[109,22,57,22],[110,4,58,4,"kernelFunc"],[110,14,58,14],[110,16,58,16,"spaceToBatchND"],[111,2,59,0],[111,3,59,1],[112,0,59,2],[112,3]],"functionMap":{"names":["<global>","spaceToBatchND"],"mappings":"AAA;OCqB;CDgC"},"hasCjsExports":false},"type":"js/module"}]}