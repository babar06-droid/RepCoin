{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":53,"index":756}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../onehot_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":757},"end":{"line":18,"column":46,"index":803}}],"key":"cjyW8/W/9FWYKRnhf+jTmusR00Q=","exportNames":["*"],"imports":1}},{"name":"./Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":804},"end":{"line":19,"column":36,"index":840}}],"key":"EUWK+oKi/AwokPOQ1jng5DYfQSc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"oneHot\", {\n    enumerable: true,\n    get: function () {\n      return oneHot;\n    }\n  });\n  Object.defineProperty(exports, \"oneHotConfig\", {\n    enumerable: true,\n    get: function () {\n      return oneHotConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _onehot_gpu = require(_dependencyMap[1], \"../onehot_gpu\");\n  var _Reshape = require(_dependencyMap[2], \"./Reshape\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const oneHot = args => {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      indices\n    } = inputs;\n    const {\n      dtype,\n      depth,\n      onValue,\n      offValue\n    } = attrs;\n    const indicesSize = _tensorflowTfjsCore.util.sizeFromShape(indices.shape);\n    const program = new _onehot_gpu.OneHotProgram(indicesSize, depth, onValue, offValue);\n    const reshaped = (0, _Reshape.reshape)({\n      inputs: {\n        x: indices\n      },\n      backend,\n      attrs: {\n        shape: [indicesSize]\n      }\n    });\n    const result = backend.runWebGLProgram(program, [reshaped], dtype);\n    backend.disposeIntermediateTensorInfo(reshaped);\n    const outShape = [...indices.shape, depth];\n    const out = (0, _Reshape.reshape)({\n      inputs: {\n        x: result\n      },\n      backend,\n      attrs: {\n        shape: outShape\n      }\n    });\n    backend.disposeIntermediateTensorInfo(result);\n    return out;\n  };\n  const oneHotConfig = {\n    kernelName: _tensorflowTfjsCore.OneHot,\n    backendName: 'webgl',\n    kernelFunc: oneHot\n  };\n});","lineCount":85,"map":[[7,2,20,0,"Object"],[7,8,20,0],[7,9,20,0,"defineProperty"],[7,23,20,0],[7,24,20,0,"exports"],[7,31,20,0],[8,4,20,0,"enumerable"],[8,14,20,0],[9,4,20,0,"get"],[9,7,20,0],[9,18,20,0,"get"],[9,19,20,0],[10,6,20,0],[10,13,20,0,"oneHot"],[10,19,20,0],[11,4,20,0],[12,2,20,0],[13,2,34,0,"Object"],[13,8,34,0],[13,9,34,0,"defineProperty"],[13,23,34,0],[13,24,34,0,"exports"],[13,31,34,0],[14,4,34,0,"enumerable"],[14,14,34,0],[15,4,34,0,"get"],[15,7,34,0],[15,18,34,0,"get"],[15,19,34,0],[16,6,34,0],[16,13,34,0,"oneHotConfig"],[16,25,34,0],[17,4,34,0],[18,2,34,0],[19,2,17,0],[19,6,17,0,"_tensorflowTfjsCore"],[19,25,17,0],[19,28,17,0,"require"],[19,35,17,0],[19,36,17,0,"_dependencyMap"],[19,50,17,0],[20,2,18,0],[20,6,18,0,"_onehot_gpu"],[20,17,18,0],[20,20,18,0,"require"],[20,27,18,0],[20,28,18,0,"_dependencyMap"],[20,42,18,0],[21,2,19,0],[21,6,19,0,"_Reshape"],[21,14,19,0],[21,17,19,0,"require"],[21,24,19,0],[21,25,19,0,"_dependencyMap"],[21,39,19,0],[22,2,1,0],[23,0,2,0],[24,0,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[30,0,9,0],[31,0,10,0],[32,0,11,0],[33,0,12,0],[34,0,13,0],[35,0,14,0],[36,0,15,0],[37,0,16,0],[39,2,20,7],[39,8,20,13,"oneHot"],[39,14,20,19],[39,17,20,23,"args"],[39,21,20,27],[39,25,20,32],[40,4,21,4],[40,10,21,10],[41,6,21,12,"inputs"],[41,12,21,18],[42,6,21,20,"backend"],[42,13,21,27],[43,6,21,29,"attrs"],[44,4,21,35],[44,5,21,36],[44,8,21,39,"args"],[44,12,21,43],[45,4,22,4],[45,10,22,10],[46,6,22,12,"indices"],[47,4,22,20],[47,5,22,21],[47,8,22,24,"inputs"],[47,14,22,30],[48,4,23,4],[48,10,23,10],[49,6,23,12,"dtype"],[49,11,23,17],[50,6,23,19,"depth"],[50,11,23,24],[51,6,23,26,"onValue"],[51,13,23,33],[52,6,23,35,"offValue"],[53,4,23,44],[53,5,23,45],[53,8,23,48,"attrs"],[53,13,23,53],[54,4,24,4],[54,10,24,10,"indicesSize"],[54,21,24,21],[54,24,24,24,"util"],[54,43,24,28],[54,44,24,28,"util"],[54,48,24,28],[54,49,24,29,"sizeFromShape"],[54,62,24,42],[54,63,24,43,"indices"],[54,70,24,50],[54,71,24,51,"shape"],[54,76,24,56],[54,77,24,57],[55,4,25,4],[55,10,25,10,"program"],[55,17,25,17],[55,20,25,20],[55,24,25,24,"OneHotProgram"],[55,35,25,37],[55,36,25,37,"OneHotProgram"],[55,49,25,37],[55,50,25,38,"indicesSize"],[55,61,25,49],[55,63,25,51,"depth"],[55,68,25,56],[55,70,25,58,"onValue"],[55,77,25,65],[55,79,25,67,"offValue"],[55,87,25,75],[55,88,25,76],[56,4,26,4],[56,10,26,10,"reshaped"],[56,18,26,18],[56,21,26,21],[56,25,26,21,"reshape"],[56,33,26,28],[56,34,26,28,"reshape"],[56,41,26,28],[56,43,26,29],[57,6,26,31,"inputs"],[57,12,26,37],[57,14,26,39],[58,8,26,41,"x"],[58,9,26,42],[58,11,26,44,"indices"],[59,6,26,52],[59,7,26,53],[60,6,26,55,"backend"],[60,13,26,62],[61,6,26,64,"attrs"],[61,11,26,69],[61,13,26,71],[62,8,26,73,"shape"],[62,13,26,78],[62,15,26,80],[62,16,26,81,"indicesSize"],[62,27,26,92],[63,6,26,94],[64,4,26,96],[64,5,26,97],[64,6,26,98],[65,4,27,4],[65,10,27,10,"result"],[65,16,27,16],[65,19,27,19,"backend"],[65,26,27,26],[65,27,27,27,"runWebGLProgram"],[65,42,27,42],[65,43,27,43,"program"],[65,50,27,50],[65,52,27,52],[65,53,27,53,"reshaped"],[65,61,27,61],[65,62,27,62],[65,64,27,64,"dtype"],[65,69,27,69],[65,70,27,70],[66,4,28,4,"backend"],[66,11,28,11],[66,12,28,12,"disposeIntermediateTensorInfo"],[66,41,28,41],[66,42,28,42,"reshaped"],[66,50,28,50],[66,51,28,51],[67,4,29,4],[67,10,29,10,"outShape"],[67,18,29,18],[67,21,29,21],[67,22,29,22],[67,25,29,25,"indices"],[67,32,29,32],[67,33,29,33,"shape"],[67,38,29,38],[67,40,29,40,"depth"],[67,45,29,45],[67,46,29,46],[68,4,30,4],[68,10,30,10,"out"],[68,13,30,13],[68,16,30,16],[68,20,30,16,"reshape"],[68,28,30,23],[68,29,30,23,"reshape"],[68,36,30,23],[68,38,30,24],[69,6,30,26,"inputs"],[69,12,30,32],[69,14,30,34],[70,8,30,36,"x"],[70,9,30,37],[70,11,30,39,"result"],[71,6,30,46],[71,7,30,47],[72,6,30,49,"backend"],[72,13,30,56],[73,6,30,58,"attrs"],[73,11,30,63],[73,13,30,65],[74,8,30,67,"shape"],[74,13,30,72],[74,15,30,74,"outShape"],[75,6,30,83],[76,4,30,85],[76,5,30,86],[76,6,30,87],[77,4,31,4,"backend"],[77,11,31,11],[77,12,31,12,"disposeIntermediateTensorInfo"],[77,41,31,41],[77,42,31,42,"result"],[77,48,31,48],[77,49,31,49],[78,4,32,4],[78,11,32,11,"out"],[78,14,32,14],[79,2,33,0],[79,3,33,1],[80,2,34,7],[80,8,34,13,"oneHotConfig"],[80,20,34,25],[80,23,34,28],[81,4,35,4,"kernelName"],[81,14,35,14],[81,16,35,16,"OneHot"],[81,35,35,22],[81,36,35,22,"OneHot"],[81,42,35,22],[82,4,36,4,"backendName"],[82,15,36,15],[82,17,36,17],[82,24,36,24],[83,4,37,4,"kernelFunc"],[83,14,37,14],[83,16,37,16,"oneHot"],[84,2,38,0],[84,3,38,1],[85,0,38,2],[85,3]],"functionMap":{"names":["<global>","oneHot"],"mappings":"AAA;sBCmB;CDa"},"hasCjsExports":false},"type":"js/module"}]}