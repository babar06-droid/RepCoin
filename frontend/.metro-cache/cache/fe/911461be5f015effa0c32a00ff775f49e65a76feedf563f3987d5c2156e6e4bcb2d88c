{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":39,"index":742}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/axis_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":743},"end":{"line":18,"column":61,"index":804}}],"key":"ex3cQAv0FEp8n8x5277qsqM7rtE=","exportNames":["*"],"imports":1}},{"name":"../ops/div","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":805},"end":{"line":19,"column":33,"index":838}}],"key":"k/BZM+SZS6CPUrneNct7M5x21sM=","exportNames":["*"],"imports":1}},{"name":"../ops/mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":839},"end":{"line":20,"column":33,"index":872}}],"key":"8VMM/o0r3nOvGtT2jgKf2KxknFk=","exportNames":["*"],"imports":1}},{"name":"../ops/ones","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":873},"end":{"line":21,"column":35,"index":908}}],"key":"bZaEZrfr42lrPP7Nlij13+rxuxE=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":909},"end":{"line":22,"column":41,"index":950}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}},{"name":"../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":951},"end":{"line":23,"column":32,"index":983}}],"key":"DTmef1GE5grNQfsvpIzpBlINy9c=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"meanGradConfig\", {\n    enumerable: true,\n    get: function () {\n      return meanGradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsAxis_util = require(_dependencyMap[1], \"../ops/axis_util\");\n  var _opsDiv = require(_dependencyMap[2], \"../ops/div\");\n  var _opsMul = require(_dependencyMap[3], \"../ops/mul\");\n  var _opsOnes = require(_dependencyMap[4], \"../ops/ones\");\n  var _opsReshape = require(_dependencyMap[5], \"../ops/reshape\");\n  var _util = require(_dependencyMap[6], \"../util\");\n  var util = _interopNamespace(_util);\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const meanGradConfig = {\n    kernelName: _kernel_names.Mean,\n    inputsToSave: ['x'],\n    gradFunc: (dy, saved, attrs) => {\n      const [x] = saved;\n      const {\n        axis\n      } = attrs;\n      const axes = util.parseAxisParam(axis, x.shape);\n      const shapes = (0, _opsAxis_util.computeOutAndReduceShapes)(x.shape, axes);\n      const reduceShape = shapes[1];\n      const reduceSize = util.sizeFromShape(reduceShape);\n      const derX = () => {\n        const expandedDyShape = x.shape.slice();\n        axes.forEach(axis => {\n          expandedDyShape[axis] = 1;\n        });\n        const expandedDy = (0, _opsReshape.reshape)(dy, expandedDyShape);\n        const res = (0, _opsDiv.div)((0, _opsMul.mul)(expandedDy, (0, _opsOnes.ones)(x.shape, 'float32')), reduceSize);\n        return res;\n      };\n      return {\n        x: derX\n      };\n    }\n  };\n});","lineCount":79,"map":[[22,2,24,0,"Object"],[22,8,24,0],[22,9,24,0,"defineProperty"],[22,23,24,0],[22,24,24,0,"exports"],[22,31,24,0],[23,4,24,0,"enumerable"],[23,14,24,0],[24,4,24,0,"get"],[24,7,24,0],[24,18,24,0,"get"],[24,19,24,0],[25,6,24,0],[25,13,24,0,"meanGradConfig"],[25,27,24,0],[26,4,24,0],[27,2,24,0],[28,2,17,0],[28,6,17,0,"_kernel_names"],[28,19,17,0],[28,22,17,0,"require"],[28,29,17,0],[28,30,17,0,"_dependencyMap"],[28,44,17,0],[29,2,18,0],[29,6,18,0,"_opsAxis_util"],[29,19,18,0],[29,22,18,0,"require"],[29,29,18,0],[29,30,18,0,"_dependencyMap"],[29,44,18,0],[30,2,19,0],[30,6,19,0,"_opsDiv"],[30,13,19,0],[30,16,19,0,"require"],[30,23,19,0],[30,24,19,0,"_dependencyMap"],[30,38,19,0],[31,2,20,0],[31,6,20,0,"_opsMul"],[31,13,20,0],[31,16,20,0,"require"],[31,23,20,0],[31,24,20,0,"_dependencyMap"],[31,38,20,0],[32,2,21,0],[32,6,21,0,"_opsOnes"],[32,14,21,0],[32,17,21,0,"require"],[32,24,21,0],[32,25,21,0,"_dependencyMap"],[32,39,21,0],[33,2,22,0],[33,6,22,0,"_opsReshape"],[33,17,22,0],[33,20,22,0,"require"],[33,27,22,0],[33,28,22,0,"_dependencyMap"],[33,42,22,0],[34,2,23,0],[34,6,23,0,"_util"],[34,11,23,0],[34,14,23,0,"require"],[34,21,23,0],[34,22,23,0,"_dependencyMap"],[34,36,23,0],[35,2,23,0],[35,6,23,0,"util"],[35,10,23,0],[35,13,23,0,"_interopNamespace"],[35,30,23,0],[35,31,23,0,"_util"],[35,36,23,0],[36,2,1,0],[37,0,2,0],[38,0,3,0],[39,0,4,0],[40,0,5,0],[41,0,6,0],[42,0,7,0],[43,0,8,0],[44,0,9,0],[45,0,10,0],[46,0,11,0],[47,0,12,0],[48,0,13,0],[49,0,14,0],[50,0,15,0],[51,0,16,0],[53,2,24,7],[53,8,24,13,"meanGradConfig"],[53,22,24,27],[53,25,24,30],[54,4,25,4,"kernelName"],[54,14,25,14],[54,16,25,16,"Mean"],[54,29,25,20],[54,30,25,20,"Mean"],[54,34,25,20],[55,4,26,4,"inputsToSave"],[55,16,26,16],[55,18,26,18],[55,19,26,19],[55,22,26,22],[55,23,26,23],[56,4,27,4,"gradFunc"],[56,12,27,12],[56,14,27,14,"gradFunc"],[56,15,27,15,"dy"],[56,17,27,17],[56,19,27,19,"saved"],[56,24,27,24],[56,26,27,26,"attrs"],[56,31,27,31],[56,36,27,36],[57,6,28,8],[57,12,28,14],[57,13,28,15,"x"],[57,14,28,16],[57,15,28,17],[57,18,28,20,"saved"],[57,23,28,25],[58,6,29,8],[58,12,29,14],[59,8,29,16,"axis"],[60,6,29,21],[60,7,29,22],[60,10,29,25,"attrs"],[60,15,29,30],[61,6,30,8],[61,12,30,14,"axes"],[61,16,30,18],[61,19,30,21,"util"],[61,23,30,25],[61,24,30,26,"parseAxisParam"],[61,38,30,40],[61,39,30,41,"axis"],[61,43,30,45],[61,45,30,47,"x"],[61,46,30,48],[61,47,30,49,"shape"],[61,52,30,54],[61,53,30,55],[62,6,31,8],[62,12,31,14,"shapes"],[62,18,31,20],[62,21,31,23],[62,25,31,23,"computeOutAndReduceShapes"],[62,38,31,48],[62,39,31,48,"computeOutAndReduceShapes"],[62,64,31,48],[62,66,31,49,"x"],[62,67,31,50],[62,68,31,51,"shape"],[62,73,31,56],[62,75,31,58,"axes"],[62,79,31,62],[62,80,31,63],[63,6,32,8],[63,12,32,14,"reduceShape"],[63,23,32,25],[63,26,32,28,"shapes"],[63,32,32,34],[63,33,32,35],[63,34,32,36],[63,35,32,37],[64,6,33,8],[64,12,33,14,"reduceSize"],[64,22,33,24],[64,25,33,27,"util"],[64,29,33,31],[64,30,33,32,"sizeFromShape"],[64,43,33,45],[64,44,33,46,"reduceShape"],[64,55,33,57],[64,56,33,58],[65,6,34,8],[65,12,34,14,"derX"],[65,16,34,18],[65,19,34,21,"derX"],[65,20,34,21],[65,25,34,27],[66,8,35,12],[66,14,35,18,"expandedDyShape"],[66,29,35,33],[66,32,35,36,"x"],[66,33,35,37],[66,34,35,38,"shape"],[66,39,35,43],[66,40,35,44,"slice"],[66,45,35,49],[66,46,35,50],[66,47,35,51],[67,8,36,12,"axes"],[67,12,36,16],[67,13,36,17,"forEach"],[67,20,36,24],[67,21,36,25,"axis"],[67,25,36,29],[67,29,36,33],[68,10,37,16,"expandedDyShape"],[68,25,37,31],[68,26,37,32,"axis"],[68,30,37,36],[68,31,37,37],[68,34,37,40],[68,35,37,41],[69,8,38,12],[69,9,38,13],[69,10,38,14],[70,8,39,12],[70,14,39,18,"expandedDy"],[70,24,39,28],[70,27,39,31],[70,31,39,31,"reshape"],[70,42,39,38],[70,43,39,38,"reshape"],[70,50,39,38],[70,52,39,39,"dy"],[70,54,39,41],[70,56,39,43,"expandedDyShape"],[70,71,39,58],[70,72,39,59],[71,8,40,12],[71,14,40,18,"res"],[71,17,40,21],[71,20,40,24],[71,24,40,24,"div"],[71,31,40,27],[71,32,40,27,"div"],[71,35,40,27],[71,37,40,28],[71,41,40,28,"mul"],[71,48,40,31],[71,49,40,31,"mul"],[71,52,40,31],[71,54,40,32,"expandedDy"],[71,64,40,42],[71,66,40,44],[71,70,40,44,"ones"],[71,78,40,48],[71,79,40,48,"ones"],[71,83,40,48],[71,85,40,49,"x"],[71,86,40,50],[71,87,40,51,"shape"],[71,92,40,56],[71,94,40,58],[71,103,40,67],[71,104,40,68],[71,105,40,69],[71,107,40,71,"reduceSize"],[71,117,40,81],[71,118,40,82],[72,8,41,12],[72,15,41,19,"res"],[72,18,41,22],[73,6,42,8],[73,7,42,9],[74,6,43,8],[74,13,43,15],[75,8,43,17,"x"],[75,9,43,18],[75,11,43,20,"derX"],[76,6,43,25],[76,7,43,26],[77,4,44,4],[78,2,45,0],[78,3,45,1],[79,0,45,2],[79,3]],"functionMap":{"names":["<global>","meanGradConfig.gradFunc","derX","axes.forEach$argument_0"],"mappings":"AAA;cC0B;qBCO;yBCE;aDE;SDI;KDE"},"hasCjsExports":false},"type":"js/module"}]}