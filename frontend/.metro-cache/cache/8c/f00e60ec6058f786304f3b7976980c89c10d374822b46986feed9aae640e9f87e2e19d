{"dependencies":[{"name":"../environment","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":37,"index":740}}],"key":"323TQX5NUoddX6O9m11KmxLlAqE=","exportNames":["*"],"imports":1}},{"name":"node-fetch","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":21,"column":23,"index":919},"end":{"line":21,"column":44,"index":940}}],"key":"E5mcXTSb97fs6clAyC28ImyAz2Q=","exportNames":["*"],"imports":1}},{"name":"util","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":38,"column":20,"index":1366},"end":{"line":38,"column":35,"index":1381}}],"key":"plO20G0zye191TqKMAMeOagk9EI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getNodeFetch\", {\n    enumerable: true,\n    get: function () {\n      return getNodeFetch;\n    }\n  });\n  exports.resetSystemFetch = resetSystemFetch;\n  exports.setSystemFetch = setSystemFetch;\n  exports.getSystemFetch = getSystemFetch;\n  Object.defineProperty(exports, \"PlatformNode\", {\n    enumerable: true,\n    get: function () {\n      return PlatformNode;\n    }\n  });\n  var _environment = require(_dependencyMap[0], \"../environment\");\n  /**\n   * @license\n   * Copyright 2019 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  // We are wrapping this within an object so it can be stubbed by Jasmine.\n  const getNodeFetch = {\n    // tslint:disable-next-line:no-require-imports\n    importFetch: () => require(_dependencyMap[1], \"node-fetch\")\n  };\n  let systemFetch;\n  // These getters and setters are for testing so we don't export a mutable\n  // variable.\n  function resetSystemFetch() {\n    systemFetch = null;\n  }\n  function setSystemFetch(fetchFn) {\n    systemFetch = fetchFn;\n  }\n  function getSystemFetch() {\n    return systemFetch;\n  }\n  class PlatformNode {\n    constructor() {\n      // tslint:disable-next-line:no-require-imports\n      this.util = require(_dependencyMap[2], \"util\");\n      // According to the spec, the built-in encoder can do only UTF-8 encoding.\n      // https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder/TextEncoder\n      this.textEncoder = new this.util.TextEncoder();\n    }\n    fetch(path, requestInits) {\n      if ((0, _environment.env)().global.fetch != null) {\n        return (0, _environment.env)().global.fetch(path, requestInits);\n      }\n      if (systemFetch == null) {\n        systemFetch = getNodeFetch.importFetch();\n      }\n      return systemFetch(path, requestInits);\n    }\n    now() {\n      const time = process.hrtime();\n      return time[0] * 1000 + time[1] / 1000000;\n    }\n    encode(text, encoding) {\n      if (encoding !== 'utf-8' && encoding !== 'utf8') {\n        throw new Error(`Node built-in encoder only supports utf-8, but got ${encoding}`);\n      }\n      return this.textEncoder.encode(text);\n    }\n    decode(bytes, encoding) {\n      if (bytes.length === 0) {\n        return '';\n      }\n      return new this.util.TextDecoder(encoding).decode(bytes);\n    }\n    isTypedArray(a) {\n      return this.util.types.isFloat32Array(a) || this.util.types.isInt32Array(a) || this.util.types.isUint8Array(a) || this.util.types.isUint8ClampedArray(a);\n    }\n  }\n  if ((0, _environment.env)().get('IS_NODE') && !(0, _environment.env)().get('IS_BROWSER')) {\n    (0, _environment.env)().setPlatform('node', new PlatformNode());\n  }\n});","lineCount":97,"map":[[7,2,19,0,"Object"],[7,8,19,0],[7,9,19,0,"defineProperty"],[7,23,19,0],[7,24,19,0,"exports"],[7,31,19,0],[8,4,19,0,"enumerable"],[8,14,19,0],[9,4,19,0,"get"],[9,7,19,0],[9,18,19,0,"get"],[9,19,19,0],[10,6,19,0],[10,13,19,0,"getNodeFetch"],[10,25,19,0],[11,4,19,0],[12,2,19,0],[13,2,26,0,"exports"],[13,9,26,0],[13,10,26,0,"resetSystemFetch"],[13,26,26,0],[13,29,26,0,"resetSystemFetch"],[13,45,26,0],[14,2,29,0,"exports"],[14,9,29,0],[14,10,29,0,"setSystemFetch"],[14,24,29,0],[14,27,29,0,"setSystemFetch"],[14,41,29,0],[15,2,32,0,"exports"],[15,9,32,0],[15,10,32,0,"getSystemFetch"],[15,24,32,0],[15,27,32,0,"getSystemFetch"],[15,41,32,0],[16,2,35,0,"Object"],[16,8,35,0],[16,9,35,0,"defineProperty"],[16,23,35,0],[16,24,35,0,"exports"],[16,31,35,0],[17,4,35,0,"enumerable"],[17,14,35,0],[18,4,35,0,"get"],[18,7,35,0],[18,18,35,0,"get"],[18,19,35,0],[19,6,35,0],[19,13,35,0,"PlatformNode"],[19,25,35,0],[20,4,35,0],[21,2,35,0],[22,2,17,0],[22,6,17,0,"_environment"],[22,18,17,0],[22,21,17,0,"require"],[22,28,17,0],[22,29,17,0,"_dependencyMap"],[22,43,17,0],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[27,0,5,0],[28,0,6,0],[29,0,7,0],[30,0,8,0],[31,0,9,0],[32,0,10,0],[33,0,11,0],[34,0,12,0],[35,0,13,0],[36,0,14,0],[37,0,15,0],[38,0,16,0],[40,2,18,0],[41,2,19,7],[41,8,19,13,"getNodeFetch"],[41,20,19,25],[41,23,19,28],[42,4,20,4],[43,4,21,4,"importFetch"],[43,15,21,15],[43,17,21,17,"importFetch"],[43,18,21,17],[43,23,21,23,"require"],[43,30,21,30],[43,31,21,30,"_dependencyMap"],[43,45,21,30],[43,62,21,43],[44,2,22,0],[44,3,22,1],[45,2,23,0],[45,6,23,4,"systemFetch"],[45,17,23,15],[46,2,24,0],[47,2,25,0],[48,2,26,7],[48,11,26,16,"resetSystemFetch"],[48,27,26,32,"resetSystemFetch"],[48,28,26,32],[48,30,26,35],[49,4,27,4,"systemFetch"],[49,15,27,15],[49,18,27,18],[49,22,27,22],[50,2,28,0],[51,2,29,7],[51,11,29,16,"setSystemFetch"],[51,25,29,30,"setSystemFetch"],[51,26,29,31,"fetchFn"],[51,33,29,38],[51,35,29,40],[52,4,30,4,"systemFetch"],[52,15,30,15],[52,18,30,18,"fetchFn"],[52,25,30,25],[53,2,31,0],[54,2,32,7],[54,11,32,16,"getSystemFetch"],[54,25,32,30,"getSystemFetch"],[54,26,32,30],[54,28,32,33],[55,4,33,4],[55,11,33,11,"systemFetch"],[55,22,33,22],[56,2,34,0],[57,2,35,7],[57,8,35,13,"PlatformNode"],[57,20,35,25],[57,21,35,26],[58,4,36,4,"constructor"],[58,15,36,15,"constructor"],[58,16,36,15],[58,18,36,18],[59,6,37,8],[60,6,38,8],[60,10,38,12],[60,11,38,13,"util"],[60,15,38,17],[60,18,38,20,"require"],[60,25,38,27],[60,26,38,27,"_dependencyMap"],[60,40,38,27],[60,51,38,34],[60,52,38,35],[61,6,39,8],[62,6,40,8],[63,6,41,8],[63,10,41,12],[63,11,41,13,"textEncoder"],[63,22,41,24],[63,25,41,27],[63,29,41,31],[63,33,41,35],[63,34,41,36,"util"],[63,38,41,40],[63,39,41,41,"TextEncoder"],[63,50,41,52],[63,51,41,53],[63,52,41,54],[64,4,42,4],[65,4,43,4,"fetch"],[65,9,43,9,"fetch"],[65,10,43,10,"path"],[65,14,43,14],[65,16,43,16,"requestInits"],[65,28,43,28],[65,30,43,30],[66,6,44,8],[66,10,44,12],[66,14,44,12,"env"],[66,26,44,15],[66,27,44,15,"env"],[66,30,44,15],[66,32,44,16],[66,33,44,17],[66,34,44,18,"global"],[66,40,44,24],[66,41,44,25,"fetch"],[66,46,44,30],[66,50,44,34],[66,54,44,38],[66,56,44,40],[67,8,45,12],[67,15,45,19],[67,19,45,19,"env"],[67,31,45,22],[67,32,45,22,"env"],[67,35,45,22],[67,37,45,23],[67,38,45,24],[67,39,45,25,"global"],[67,45,45,31],[67,46,45,32,"fetch"],[67,51,45,37],[67,52,45,38,"path"],[67,56,45,42],[67,58,45,44,"requestInits"],[67,70,45,56],[67,71,45,57],[68,6,46,8],[69,6,47,8],[69,10,47,12,"systemFetch"],[69,21,47,23],[69,25,47,27],[69,29,47,31],[69,31,47,33],[70,8,48,12,"systemFetch"],[70,19,48,23],[70,22,48,26,"getNodeFetch"],[70,34,48,38],[70,35,48,39,"importFetch"],[70,46,48,50],[70,47,48,51],[70,48,48,52],[71,6,49,8],[72,6,50,8],[72,13,50,15,"systemFetch"],[72,24,50,26],[72,25,50,27,"path"],[72,29,50,31],[72,31,50,33,"requestInits"],[72,43,50,45],[72,44,50,46],[73,4,51,4],[74,4,52,4,"now"],[74,7,52,7,"now"],[74,8,52,7],[74,10,52,10],[75,6,53,8],[75,12,53,14,"time"],[75,16,53,18],[75,19,53,21,"process"],[75,26,53,28],[75,27,53,29,"hrtime"],[75,33,53,35],[75,34,53,36],[75,35,53,37],[76,6,54,8],[76,13,54,15,"time"],[76,17,54,19],[76,18,54,20],[76,19,54,21],[76,20,54,22],[76,23,54,25],[76,27,54,29],[76,30,54,32,"time"],[76,34,54,36],[76,35,54,37],[76,36,54,38],[76,37,54,39],[76,40,54,42],[76,47,54,49],[77,4,55,4],[78,4,56,4,"encode"],[78,10,56,10,"encode"],[78,11,56,11,"text"],[78,15,56,15],[78,17,56,17,"encoding"],[78,25,56,25],[78,27,56,27],[79,6,57,8],[79,10,57,12,"encoding"],[79,18,57,20],[79,23,57,25],[79,30,57,32],[79,34,57,36,"encoding"],[79,42,57,44],[79,47,57,49],[79,53,57,55],[79,55,57,57],[80,8,58,12],[80,14,58,18],[80,18,58,22,"Error"],[80,23,58,27],[80,24,58,28],[80,78,58,82,"encoding"],[80,86,58,90],[80,88,58,92],[80,89,58,93],[81,6,59,8],[82,6,60,8],[82,13,60,15],[82,17,60,19],[82,18,60,20,"textEncoder"],[82,29,60,31],[82,30,60,32,"encode"],[82,36,60,38],[82,37,60,39,"text"],[82,41,60,43],[82,42,60,44],[83,4,61,4],[84,4,62,4,"decode"],[84,10,62,10,"decode"],[84,11,62,11,"bytes"],[84,16,62,16],[84,18,62,18,"encoding"],[84,26,62,26],[84,28,62,28],[85,6,63,8],[85,10,63,12,"bytes"],[85,15,63,17],[85,16,63,18,"length"],[85,22,63,24],[85,27,63,29],[85,28,63,30],[85,30,63,32],[86,8,64,12],[86,15,64,19],[86,17,64,21],[87,6,65,8],[88,6,66,8],[88,13,66,15],[88,17,66,19],[88,21,66,23],[88,22,66,24,"util"],[88,26,66,28],[88,27,66,29,"TextDecoder"],[88,38,66,40],[88,39,66,41,"encoding"],[88,47,66,49],[88,48,66,50],[88,49,66,51,"decode"],[88,55,66,57],[88,56,66,58,"bytes"],[88,61,66,63],[88,62,66,64],[89,4,67,4],[90,4,68,4,"isTypedArray"],[90,16,68,16,"isTypedArray"],[90,17,68,17,"a"],[90,18,68,18],[90,20,68,20],[91,6,69,8],[91,13,69,15],[91,17,69,19],[91,18,69,20,"util"],[91,22,69,24],[91,23,69,25,"types"],[91,28,69,30],[91,29,69,31,"isFloat32Array"],[91,43,69,45],[91,44,69,46,"a"],[91,45,69,47],[91,46,69,48],[91,50,70,15],[91,54,70,19],[91,55,70,20,"util"],[91,59,70,24],[91,60,70,25,"types"],[91,65,70,30],[91,66,70,31,"isInt32Array"],[91,78,70,43],[91,79,70,44,"a"],[91,80,70,45],[91,81,70,46],[91,85,71,15],[91,89,71,19],[91,90,71,20,"util"],[91,94,71,24],[91,95,71,25,"types"],[91,100,71,30],[91,101,71,31,"isUint8Array"],[91,113,71,43],[91,114,71,44,"a"],[91,115,71,45],[91,116,71,46],[91,120,72,15],[91,124,72,19],[91,125,72,20,"util"],[91,129,72,24],[91,130,72,25,"types"],[91,135,72,30],[91,136,72,31,"isUint8ClampedArray"],[91,155,72,50],[91,156,72,51,"a"],[91,157,72,52],[91,158,72,53],[92,4,73,4],[93,2,74,0],[94,2,75,0],[94,6,75,4],[94,10,75,4,"env"],[94,22,75,7],[94,23,75,7,"env"],[94,26,75,7],[94,28,75,8],[94,29,75,9],[94,30,75,10,"get"],[94,33,75,13],[94,34,75,14],[94,43,75,23],[94,44,75,24],[94,48,75,28],[94,49,75,29],[94,53,75,29,"env"],[94,65,75,32],[94,66,75,32,"env"],[94,69,75,32],[94,71,75,33],[94,72,75,34],[94,73,75,35,"get"],[94,76,75,38],[94,77,75,39],[94,89,75,51],[94,90,75,52],[94,92,75,54],[95,4,76,4],[95,8,76,4,"env"],[95,20,76,7],[95,21,76,7,"env"],[95,24,76,7],[95,26,76,8],[95,27,76,9],[95,28,76,10,"setPlatform"],[95,39,76,21],[95,40,76,22],[95,46,76,28],[95,48,76,30],[95,52,76,34,"PlatformNode"],[95,64,76,46],[95,65,76,47],[95,66,76,48],[95,67,76,49],[96,2,77,0],[97,0,77,1],[97,3]],"functionMap":{"names":["<global>","getNodeFetch.importFetch","resetSystemFetch","setSystemFetch","getSystemFetch","PlatformNode","PlatformNode#constructor","PlatformNode#fetch","PlatformNode#now","PlatformNode#encode","PlatformNode#decode","PlatformNode#isTypedArray"],"mappings":"AAA;iBCoB,2BD;OEK;CFE;OGC;CHE;OIC;CJE;OKC;ICC;KDM;IEC;KFQ;IGC;KHG;IIC;KJK;IKC;KLK;IMC;KNK;CLC"},"hasCjsExports":false},"type":"js/module"}]}