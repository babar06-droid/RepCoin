{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":706},"end":{"line":18,"column":119,"index":825}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"./lazy_iterator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":826},"end":{"line":19,"column":47,"index":873}}],"key":"q2hxzZKS96FYTd6539vU0OZjvFs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"WebcamIterator\", {\n    enumerable: true,\n    get: function () {\n      return WebcamIterator;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _lazy_iterator = require(_dependencyMap[1], \"./lazy_iterator\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * =============================================================================\n   */\n\n  /**\n   * Provide a stream of image tensors from webcam video stream. Only works in\n   * browser environment.\n   */\n  class WebcamIterator extends _lazy_iterator.LazyIterator {\n    constructor(webcamVideoElement, webcamConfig) {\n      super();\n      this.webcamVideoElement = webcamVideoElement;\n      this.webcamConfig = webcamConfig;\n      this.isClosed = true;\n      this.resize = false;\n      if (this.needToResize()) {\n        this.resize = true;\n        this.cropSize = [this.webcamConfig.resizeHeight, this.webcamConfig.resizeWidth];\n        this.cropBoxInd = (0, _tensorflowTfjsCore.tensor1d)([0], 'int32');\n        if (this.webcamConfig.centerCrop) {\n          // Calculate the box based on resizing shape.\n          const widthCroppingRatio = this.webcamConfig.resizeWidth * 1.0 / this.webcamVideoElement.width;\n          const heightCroppingRatio = this.webcamConfig.resizeHeight * 1.0 / this.webcamVideoElement.height;\n          const widthCropStart = (1 - widthCroppingRatio) / 2;\n          const heightCropStart = (1 - heightCroppingRatio) / 2;\n          const widthCropEnd = widthCropStart + widthCroppingRatio;\n          const heightCropEnd = heightCroppingRatio + heightCropStart;\n          this.cropBox = (0, _tensorflowTfjsCore.tensor2d)([heightCropStart, widthCropStart, heightCropEnd, widthCropEnd], [1, 4]);\n        } else {\n          this.cropBox = (0, _tensorflowTfjsCore.tensor2d)([0, 0, 1, 1], [1, 4]);\n        }\n      }\n    }\n    summary() {\n      return `webcam`;\n    }\n    // Construct a WebcamIterator and start it's video stream.\n    static async create(webcamVideoElement, webcamConfig = {}) {\n      if (!(0, _tensorflowTfjsCore.env)().get('IS_BROWSER')) {\n        throw new Error('tf.data.webcam is only supported in browser environment.');\n      }\n      if (!webcamVideoElement) {\n        // If webcam video element is not provided, create a hidden video element\n        // with provided width and height.\n        webcamVideoElement = document.createElement('video');\n        if (!webcamConfig.resizeWidth || !webcamConfig.resizeHeight) {\n          throw new Error('Please provide webcam video element, or resizeWidth and ' + 'resizeHeight to create a hidden video element.');\n        }\n        webcamVideoElement.width = webcamConfig.resizeWidth;\n        webcamVideoElement.height = webcamConfig.resizeHeight;\n      }\n      const webcamIterator = new WebcamIterator(webcamVideoElement, webcamConfig);\n      // Call async function to initialize the video stream.\n      await webcamIterator.start();\n      return webcamIterator;\n    }\n    // Async function to start video stream.\n    async start() {\n      if (this.webcamConfig.facingMode) {\n        _tensorflowTfjsCore.util.assert(this.webcamConfig.facingMode === 'user' || this.webcamConfig.facingMode === 'environment', () => `Invalid webcam facing mode: ${this.webcamConfig.facingMode}. ` + `Please provide 'user' or 'environment'`);\n      }\n      try {\n        this.stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            deviceId: this.webcamConfig.deviceId,\n            facingMode: this.webcamConfig.facingMode ? this.webcamConfig.facingMode : 'user',\n            width: this.webcamVideoElement.width,\n            height: this.webcamVideoElement.height\n          }\n        });\n      } catch (e) {\n        // Modify the error message but leave the stack trace intact\n        e.message = `Error thrown while initializing video stream: ${e.message}`;\n        throw e;\n      }\n      if (!this.stream) {\n        throw new Error('Could not obtain video from webcam.');\n      }\n      // Older browsers may not have srcObject\n      try {\n        this.webcamVideoElement.srcObject = this.stream;\n      } catch (error) {\n        console.log(error);\n        this.webcamVideoElement.src = window.URL.createObjectURL(this.stream);\n      }\n      // Start the webcam video stream\n      this.webcamVideoElement.play();\n      this.isClosed = false;\n      return new Promise(resolve => {\n        // Add event listener to make sure the webcam has been fully initialized.\n        this.webcamVideoElement.onloadedmetadata = () => {\n          resolve();\n        };\n      });\n    }\n    async next() {\n      if (this.isClosed) {\n        return {\n          value: null,\n          done: true\n        };\n      }\n      let img;\n      try {\n        img = _tensorflowTfjsCore.browser.fromPixels(this.webcamVideoElement);\n      } catch (e) {\n        throw new Error(`Error thrown converting video to pixels: ${JSON.stringify(e)}`);\n      }\n      if (this.resize) {\n        try {\n          return {\n            value: this.cropAndResizeFrame(img),\n            done: false\n          };\n        } catch (e) {\n          throw new Error(`Error thrown cropping the video: ${e.message}`);\n        } finally {\n          img.dispose();\n        }\n      } else {\n        return {\n          value: img,\n          done: false\n        };\n      }\n    }\n    needToResize() {\n      // If resizeWidth and resizeHeight are provided, and different from the\n      // width and height of original HTMLVideoElement, then resizing and cropping\n      // is required.\n      if (this.webcamConfig.resizeWidth && this.webcamConfig.resizeHeight && (this.webcamVideoElement.width !== this.webcamConfig.resizeWidth || this.webcamVideoElement.height !== this.webcamConfig.resizeHeight)) {\n        return true;\n      }\n      return false;\n    }\n    // Cropping and resizing each frame based on config\n    cropAndResizeFrame(img) {\n      return (0, _tensorflowTfjsCore.tidy)(() => {\n        const expandedImage = (0, _tensorflowTfjsCore.expandDims)((0, _tensorflowTfjsCore.cast)(img, 'float32'), 0);\n        let resizedImage;\n        resizedImage = _tensorflowTfjsCore.image.cropAndResize(expandedImage, this.cropBox, this.cropBoxInd, this.cropSize, 'bilinear');\n        // Extract image from batch cropping.\n        const shape = resizedImage.shape;\n        return (0, _tensorflowTfjsCore.reshape)(resizedImage, shape.slice(1));\n      });\n    }\n    // Capture one frame from the video stream, and extract the value from\n    // iterator.next() result.\n    async capture() {\n      return (await this.next()).value;\n    }\n    // Stop the video stream and pause webcam iterator.\n    stop() {\n      const tracks = this.stream.getTracks();\n      tracks.forEach(track => track.stop());\n      try {\n        this.webcamVideoElement.srcObject = null;\n      } catch (error) {\n        console.log(error);\n        this.webcamVideoElement.src = null;\n      }\n      this.isClosed = true;\n    }\n    // Override toArray() function to prevent collecting.\n    toArray() {\n      throw new Error('Can not convert infinite video stream to array.');\n    }\n  }\n});","lineCount":197,"map":[[7,2,24,0,"Object"],[7,8,24,0],[7,9,24,0,"defineProperty"],[7,23,24,0],[7,24,24,0,"exports"],[7,31,24,0],[8,4,24,0,"enumerable"],[8,14,24,0],[9,4,24,0,"get"],[9,7,24,0],[9,18,24,0,"get"],[9,19,24,0],[10,6,24,0],[10,13,24,0,"WebcamIterator"],[10,27,24,0],[11,4,24,0],[12,2,24,0],[13,2,18,0],[13,6,18,0,"_tensorflowTfjsCore"],[13,25,18,0],[13,28,18,0,"require"],[13,35,18,0],[13,36,18,0,"_dependencyMap"],[13,50,18,0],[14,2,19,0],[14,6,19,0,"_lazy_iterator"],[14,20,19,0],[14,23,19,0,"require"],[14,30,19,0],[14,31,19,0,"_dependencyMap"],[14,45,19,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[31,0,17,0],[33,2,20,0],[34,0,21,0],[35,0,22,0],[36,0,23,0],[37,2,24,7],[37,8,24,13,"WebcamIterator"],[37,22,24,27],[37,31,24,36,"LazyIterator"],[37,45,24,48],[37,46,24,48,"LazyIterator"],[37,58,24,48],[37,59,24,49],[38,4,25,4,"constructor"],[38,15,25,15,"constructor"],[38,16,25,16,"webcamVideoElement"],[38,34,25,34],[38,36,25,36,"webcamConfig"],[38,48,25,48],[38,50,25,50],[39,6,26,8],[39,11,26,13],[39,12,26,14],[39,13,26,15],[40,6,27,8],[40,10,27,12],[40,11,27,13,"webcamVideoElement"],[40,29,27,31],[40,32,27,34,"webcamVideoElement"],[40,50,27,52],[41,6,28,8],[41,10,28,12],[41,11,28,13,"webcamConfig"],[41,23,28,25],[41,26,28,28,"webcamConfig"],[41,38,28,40],[42,6,29,8],[42,10,29,12],[42,11,29,13,"isClosed"],[42,19,29,21],[42,22,29,24],[42,26,29,28],[43,6,30,8],[43,10,30,12],[43,11,30,13,"resize"],[43,17,30,19],[43,20,30,22],[43,25,30,27],[44,6,31,8],[44,10,31,12],[44,14,31,16],[44,15,31,17,"needToResize"],[44,27,31,29],[44,28,31,30],[44,29,31,31],[44,31,31,33],[45,8,32,12],[45,12,32,16],[45,13,32,17,"resize"],[45,19,32,23],[45,22,32,26],[45,26,32,30],[46,8,33,12],[46,12,33,16],[46,13,33,17,"cropSize"],[46,21,33,25],[46,24,34,16],[46,25,34,17],[46,29,34,21],[46,30,34,22,"webcamConfig"],[46,42,34,34],[46,43,34,35,"resizeHeight"],[46,55,34,47],[46,57,34,49],[46,61,34,53],[46,62,34,54,"webcamConfig"],[46,74,34,66],[46,75,34,67,"resizeWidth"],[46,86,34,78],[46,87,34,79],[47,8,35,12],[47,12,35,16],[47,13,35,17,"cropBoxInd"],[47,23,35,27],[47,26,35,30],[47,30,35,30,"tensor1d"],[47,49,35,38],[47,50,35,38,"tensor1d"],[47,58,35,38],[47,60,35,39],[47,61,35,40],[47,62,35,41],[47,63,35,42],[47,65,35,44],[47,72,35,51],[47,73,35,52],[48,8,36,12],[48,12,36,16],[48,16,36,20],[48,17,36,21,"webcamConfig"],[48,29,36,33],[48,30,36,34,"centerCrop"],[48,40,36,44],[48,42,36,46],[49,10,37,16],[50,10,38,16],[50,16,38,22,"widthCroppingRatio"],[50,34,38,40],[50,37,38,43],[50,41,38,47],[50,42,38,48,"webcamConfig"],[50,54,38,60],[50,55,38,61,"resizeWidth"],[50,66,38,72],[50,69,38,75],[50,72,38,78],[50,75,38,81],[50,79,38,85],[50,80,38,86,"webcamVideoElement"],[50,98,38,104],[50,99,38,105,"width"],[50,104,38,110],[51,10,39,16],[51,16,39,22,"heightCroppingRatio"],[51,35,39,41],[51,38,39,44],[51,42,39,48],[51,43,39,49,"webcamConfig"],[51,55,39,61],[51,56,39,62,"resizeHeight"],[51,68,39,74],[51,71,39,77],[51,74,39,80],[51,77,40,20],[51,81,40,24],[51,82,40,25,"webcamVideoElement"],[51,100,40,43],[51,101,40,44,"height"],[51,107,40,50],[52,10,41,16],[52,16,41,22,"widthCropStart"],[52,30,41,36],[52,33,41,39],[52,34,41,40],[52,35,41,41],[52,38,41,44,"widthCroppingRatio"],[52,56,41,62],[52,60,41,66],[52,61,41,67],[53,10,42,16],[53,16,42,22,"heightCropStart"],[53,31,42,37],[53,34,42,40],[53,35,42,41],[53,36,42,42],[53,39,42,45,"heightCroppingRatio"],[53,58,42,64],[53,62,42,68],[53,63,42,69],[54,10,43,16],[54,16,43,22,"widthCropEnd"],[54,28,43,34],[54,31,43,37,"widthCropStart"],[54,45,43,51],[54,48,43,54,"widthCroppingRatio"],[54,66,43,72],[55,10,44,16],[55,16,44,22,"heightCropEnd"],[55,29,44,35],[55,32,44,38,"heightCroppingRatio"],[55,51,44,57],[55,54,44,60,"heightCropStart"],[55,69,44,75],[56,10,45,16],[56,14,45,20],[56,15,45,21,"cropBox"],[56,22,45,28],[56,25,45,31],[56,29,45,31,"tensor2d"],[56,48,45,39],[56,49,45,39,"tensor2d"],[56,57,45,39],[56,59,45,40],[56,60,45,41,"heightCropStart"],[56,75,45,56],[56,77,45,58,"widthCropStart"],[56,91,45,72],[56,93,45,74,"heightCropEnd"],[56,106,45,87],[56,108,45,89,"widthCropEnd"],[56,120,45,101],[56,121,45,102],[56,123,45,104],[56,124,45,105],[56,125,45,106],[56,127,45,108],[56,128,45,109],[56,129,45,110],[56,130,45,111],[57,8,46,12],[57,9,46,13],[57,15,47,17],[58,10,48,16],[58,14,48,20],[58,15,48,21,"cropBox"],[58,22,48,28],[58,25,48,31],[58,29,48,31,"tensor2d"],[58,48,48,39],[58,49,48,39,"tensor2d"],[58,57,48,39],[58,59,48,40],[58,60,48,41],[58,61,48,42],[58,63,48,44],[58,64,48,45],[58,66,48,47],[58,67,48,48],[58,69,48,50],[58,70,48,51],[58,71,48,52],[58,73,48,54],[58,74,48,55],[58,75,48,56],[58,77,48,58],[58,78,48,59],[58,79,48,60],[58,80,48,61],[59,8,49,12],[60,6,50,8],[61,4,51,4],[62,4,52,4,"summary"],[62,11,52,11,"summary"],[62,12,52,11],[62,14,52,14],[63,6,53,8],[63,13,53,15],[63,21,53,23],[64,4,54,4],[65,4,55,4],[66,4,56,4],[66,17,56,17,"create"],[66,23,56,23,"create"],[66,24,56,24,"webcamVideoElement"],[66,42,56,42],[66,44,56,44,"webcamConfig"],[66,56,56,56],[66,59,56,59],[66,60,56,60],[66,61,56,61],[66,63,56,63],[67,6,57,8],[67,10,57,12],[67,11,57,13],[67,15,57,13,"env"],[67,34,57,16],[67,35,57,16,"env"],[67,38,57,16],[67,40,57,17],[67,41,57,18],[67,42,57,19,"get"],[67,45,57,22],[67,46,57,23],[67,58,57,35],[67,59,57,36],[67,61,57,38],[68,8,58,12],[68,14,58,18],[68,18,58,22,"Error"],[68,23,58,27],[68,24,58,28],[68,82,58,86],[68,83,58,87],[69,6,59,8],[70,6,60,8],[70,10,60,12],[70,11,60,13,"webcamVideoElement"],[70,29,60,31],[70,31,60,33],[71,8,61,12],[72,8,62,12],[73,8,63,12,"webcamVideoElement"],[73,26,63,30],[73,29,63,33,"document"],[73,37,63,41],[73,38,63,42,"createElement"],[73,51,63,55],[73,52,63,56],[73,59,63,63],[73,60,63,64],[74,8,64,12],[74,12,64,16],[74,13,64,17,"webcamConfig"],[74,25,64,29],[74,26,64,30,"resizeWidth"],[74,37,64,41],[74,41,64,45],[74,42,64,46,"webcamConfig"],[74,54,64,58],[74,55,64,59,"resizeHeight"],[74,67,64,71],[74,69,64,73],[75,10,65,16],[75,16,65,22],[75,20,65,26,"Error"],[75,25,65,31],[75,26,65,32],[75,84,65,90],[75,87,66,20],[75,135,66,68],[75,136,66,69],[76,8,67,12],[77,8,68,12,"webcamVideoElement"],[77,26,68,30],[77,27,68,31,"width"],[77,32,68,36],[77,35,68,39,"webcamConfig"],[77,47,68,51],[77,48,68,52,"resizeWidth"],[77,59,68,63],[78,8,69,12,"webcamVideoElement"],[78,26,69,30],[78,27,69,31,"height"],[78,33,69,37],[78,36,69,40,"webcamConfig"],[78,48,69,52],[78,49,69,53,"resizeHeight"],[78,61,69,65],[79,6,70,8],[80,6,71,8],[80,12,71,14,"webcamIterator"],[80,26,71,28],[80,29,71,31],[80,33,71,35,"WebcamIterator"],[80,47,71,49],[80,48,71,50,"webcamVideoElement"],[80,66,71,68],[80,68,71,70,"webcamConfig"],[80,80,71,82],[80,81,71,83],[81,6,72,8],[82,6,73,8],[82,12,73,14,"webcamIterator"],[82,26,73,28],[82,27,73,29,"start"],[82,32,73,34],[82,33,73,35],[82,34,73,36],[83,6,74,8],[83,13,74,15,"webcamIterator"],[83,27,74,29],[84,4,75,4],[85,4,76,4],[86,4,77,4],[86,10,77,10,"start"],[86,15,77,15,"start"],[86,16,77,15],[86,18,77,18],[87,6,78,8],[87,10,78,12],[87,14,78,16],[87,15,78,17,"webcamConfig"],[87,27,78,29],[87,28,78,30,"facingMode"],[87,38,78,40],[87,40,78,42],[88,8,79,12,"util"],[88,27,79,16],[88,28,79,16,"util"],[88,32,79,16],[88,33,79,17,"assert"],[88,39,79,23],[88,40,79,25],[88,44,79,29],[88,45,79,30,"webcamConfig"],[88,57,79,42],[88,58,79,43,"facingMode"],[88,68,79,53],[88,73,79,58],[88,79,79,64],[88,83,80,17],[88,87,80,21],[88,88,80,22,"webcamConfig"],[88,100,80,34],[88,101,80,35,"facingMode"],[88,111,80,45],[88,116,80,50],[88,129,80,64],[88,131,80,66],[88,137,80,72],[88,168,80,103],[88,172,80,107],[88,173,80,108,"webcamConfig"],[88,185,80,120],[88,186,80,121,"facingMode"],[88,196,80,131],[88,200,80,135],[88,203,81,16],[88,243,81,56],[88,244,81,57],[89,6,82,8],[90,6,83,8],[90,10,83,12],[91,8,84,12],[91,12,84,16],[91,13,84,17,"stream"],[91,19,84,23],[91,22,84,26],[91,28,84,32,"navigator"],[91,37,84,41],[91,38,84,42,"mediaDevices"],[91,50,84,54],[91,51,84,55,"getUserMedia"],[91,63,84,67],[91,64,84,68],[92,10,85,16,"video"],[92,15,85,21],[92,17,85,23],[93,12,86,20,"deviceId"],[93,20,86,28],[93,22,86,30],[93,26,86,34],[93,27,86,35,"webcamConfig"],[93,39,86,47],[93,40,86,48,"deviceId"],[93,48,86,56],[94,12,87,20,"facingMode"],[94,22,87,30],[94,24,87,32],[94,28,87,36],[94,29,87,37,"webcamConfig"],[94,41,87,49],[94,42,87,50,"facingMode"],[94,52,87,60],[94,55,88,24],[94,59,88,28],[94,60,88,29,"webcamConfig"],[94,72,88,41],[94,73,88,42,"facingMode"],[94,83,88,52],[94,86,89,24],[94,92,89,30],[95,12,90,20,"width"],[95,17,90,25],[95,19,90,27],[95,23,90,31],[95,24,90,32,"webcamVideoElement"],[95,42,90,50],[95,43,90,51,"width"],[95,48,90,56],[96,12,91,20,"height"],[96,18,91,26],[96,20,91,28],[96,24,91,32],[96,25,91,33,"webcamVideoElement"],[96,43,91,51],[96,44,91,52,"height"],[97,10,92,16],[98,8,93,12],[98,9,93,13],[98,10,93,14],[99,6,94,8],[99,7,94,9],[99,8,95,8],[99,15,95,15,"e"],[99,16,95,16],[99,18,95,18],[100,8,96,12],[101,8,97,12,"e"],[101,9,97,13],[101,10,97,14,"message"],[101,17,97,21],[101,20,97,24],[101,69,97,73,"e"],[101,70,97,74],[101,71,97,75,"message"],[101,78,97,82],[101,80,97,84],[102,8,98,12],[102,14,98,18,"e"],[102,15,98,19],[103,6,99,8],[104,6,100,8],[104,10,100,12],[104,11,100,13],[104,15,100,17],[104,16,100,18,"stream"],[104,22,100,24],[104,24,100,26],[105,8,101,12],[105,14,101,18],[105,18,101,22,"Error"],[105,23,101,27],[105,24,101,28],[105,61,101,65],[105,62,101,66],[106,6,102,8],[107,6,103,8],[108,6,104,8],[108,10,104,12],[109,8,105,12],[109,12,105,16],[109,13,105,17,"webcamVideoElement"],[109,31,105,35],[109,32,105,36,"srcObject"],[109,41,105,45],[109,44,105,48],[109,48,105,52],[109,49,105,53,"stream"],[109,55,105,59],[110,6,106,8],[110,7,106,9],[110,8,107,8],[110,15,107,15,"error"],[110,20,107,20],[110,22,107,22],[111,8,108,12,"console"],[111,15,108,19],[111,16,108,20,"log"],[111,19,108,23],[111,20,108,24,"error"],[111,25,108,29],[111,26,108,30],[112,8,109,12],[112,12,109,16],[112,13,109,17,"webcamVideoElement"],[112,31,109,35],[112,32,109,36,"src"],[112,35,109,39],[112,38,109,42,"window"],[112,44,109,48],[112,45,109,49,"URL"],[112,48,109,52],[112,49,109,53,"createObjectURL"],[112,64,109,68],[112,65,109,69],[112,69,109,73],[112,70,109,74,"stream"],[112,76,109,80],[112,77,109,81],[113,6,110,8],[114,6,111,8],[115,6,112,8],[115,10,112,12],[115,11,112,13,"webcamVideoElement"],[115,29,112,31],[115,30,112,32,"play"],[115,34,112,36],[115,35,112,37],[115,36,112,38],[116,6,113,8],[116,10,113,12],[116,11,113,13,"isClosed"],[116,19,113,21],[116,22,113,24],[116,27,113,29],[117,6,114,8],[117,13,114,15],[117,17,114,19,"Promise"],[117,24,114,26],[117,25,114,27,"resolve"],[117,32,114,34],[117,36,114,38],[118,8,115,12],[119,8,116,12],[119,12,116,16],[119,13,116,17,"webcamVideoElement"],[119,31,116,35],[119,32,116,36,"onloadedmetadata"],[119,48,116,52],[119,51,116,55],[119,57,116,61],[120,10,117,16,"resolve"],[120,17,117,23],[120,18,117,24],[120,19,117,25],[121,8,118,12],[121,9,118,13],[122,6,119,8],[122,7,119,9],[122,8,119,10],[123,4,120,4],[124,4,121,4],[124,10,121,10,"next"],[124,14,121,14,"next"],[124,15,121,14],[124,17,121,17],[125,6,122,8],[125,10,122,12],[125,14,122,16],[125,15,122,17,"isClosed"],[125,23,122,25],[125,25,122,27],[126,8,123,12],[126,15,123,19],[127,10,123,21,"value"],[127,15,123,26],[127,17,123,28],[127,21,123,32],[128,10,123,34,"done"],[128,14,123,38],[128,16,123,40],[129,8,123,45],[129,9,123,46],[130,6,124,8],[131,6,125,8],[131,10,125,12,"img"],[131,13,125,15],[132,6,126,8],[132,10,126,12],[133,8,127,12,"img"],[133,11,127,15],[133,14,127,18,"browser"],[133,33,127,25],[133,34,127,25,"browser"],[133,41,127,25],[133,42,127,26,"fromPixels"],[133,52,127,36],[133,53,127,37],[133,57,127,41],[133,58,127,42,"webcamVideoElement"],[133,76,127,60],[133,77,127,61],[134,6,128,8],[134,7,128,9],[134,8,129,8],[134,15,129,15,"e"],[134,16,129,16],[134,18,129,18],[135,8,130,12],[135,14,130,18],[135,18,130,22,"Error"],[135,23,130,27],[135,24,130,28],[135,68,130,72,"JSON"],[135,72,130,76],[135,73,130,77,"stringify"],[135,82,130,86],[135,83,130,87,"e"],[135,84,130,88],[135,85,130,89],[135,87,130,91],[135,88,130,92],[136,6,131,8],[137,6,132,8],[137,10,132,12],[137,14,132,16],[137,15,132,17,"resize"],[137,21,132,23],[137,23,132,25],[138,8,133,12],[138,12,133,16],[139,10,134,16],[139,17,134,23],[140,12,134,25,"value"],[140,17,134,30],[140,19,134,32],[140,23,134,36],[140,24,134,37,"cropAndResizeFrame"],[140,42,134,55],[140,43,134,56,"img"],[140,46,134,59],[140,47,134,60],[141,12,134,62,"done"],[141,16,134,66],[141,18,134,68],[142,10,134,74],[142,11,134,75],[143,8,135,12],[143,9,135,13],[143,10,136,12],[143,17,136,19,"e"],[143,18,136,20],[143,20,136,22],[144,10,137,16],[144,16,137,22],[144,20,137,26,"Error"],[144,25,137,31],[144,26,137,32],[144,62,137,68,"e"],[144,63,137,69],[144,64,137,70,"message"],[144,71,137,77],[144,73,137,79],[144,74,137,80],[145,8,138,12],[145,9,138,13],[145,18,139,20],[146,10,140,16,"img"],[146,13,140,19],[146,14,140,20,"dispose"],[146,21,140,27],[146,22,140,28],[146,23,140,29],[147,8,141,12],[148,6,142,8],[148,7,142,9],[148,13,143,13],[149,8,144,12],[149,15,144,19],[150,10,144,21,"value"],[150,15,144,26],[150,17,144,28,"img"],[150,20,144,31],[151,10,144,33,"done"],[151,14,144,37],[151,16,144,39],[152,8,144,45],[152,9,144,46],[153,6,145,8],[154,4,146,4],[155,4,147,4,"needToResize"],[155,16,147,16,"needToResize"],[155,17,147,16],[155,19,147,19],[156,6,148,8],[157,6,149,8],[158,6,150,8],[159,6,151,8],[159,10,151,12],[159,14,151,16],[159,15,151,17,"webcamConfig"],[159,27,151,29],[159,28,151,30,"resizeWidth"],[159,39,151,41],[159,43,151,45],[159,47,151,49],[159,48,151,50,"webcamConfig"],[159,60,151,62],[159,61,151,63,"resizeHeight"],[159,73,151,75],[159,78,152,13],[159,82,152,17],[159,83,152,18,"webcamVideoElement"],[159,101,152,36],[159,102,152,37,"width"],[159,107,152,42],[159,112,152,47],[159,116,152,51],[159,117,152,52,"webcamConfig"],[159,129,152,64],[159,130,152,65,"resizeWidth"],[159,141,152,76],[159,145,153,16],[159,149,153,20],[159,150,153,21,"webcamVideoElement"],[159,168,153,39],[159,169,153,40,"height"],[159,175,153,46],[159,180,153,51],[159,184,153,55],[159,185,153,56,"webcamConfig"],[159,197,153,68],[159,198,153,69,"resizeHeight"],[159,210,153,81],[159,211,153,82],[159,213,153,84],[160,8,154,12],[160,15,154,19],[160,19,154,23],[161,6,155,8],[162,6,156,8],[162,13,156,15],[162,18,156,20],[163,4,157,4],[164,4,158,4],[165,4,159,4,"cropAndResizeFrame"],[165,22,159,22,"cropAndResizeFrame"],[165,23,159,23,"img"],[165,26,159,26],[165,28,159,28],[166,6,160,8],[166,13,160,15],[166,17,160,15,"tidy"],[166,36,160,19],[166,37,160,19,"tidy"],[166,41,160,19],[166,43,160,20],[166,49,160,26],[167,8,161,12],[167,14,161,18,"expandedImage"],[167,27,161,31],[167,30,161,34],[167,34,161,34,"expandDims"],[167,53,161,44],[167,54,161,44,"expandDims"],[167,64,161,44],[167,66,161,45],[167,70,161,45,"cast"],[167,89,161,49],[167,90,161,49,"cast"],[167,94,161,49],[167,96,161,50,"img"],[167,99,161,53],[167,101,161,55],[167,110,161,64],[167,111,161,65],[167,113,161,68],[167,114,161,70],[167,115,161,71],[168,8,162,12],[168,12,162,16,"resizedImage"],[168,24,162,28],[169,8,163,12,"resizedImage"],[169,20,163,24],[169,23,163,27,"image"],[169,42,163,32],[169,43,163,32,"image"],[169,48,163,32],[169,49,163,33,"cropAndResize"],[169,62,163,46],[169,63,163,47,"expandedImage"],[169,76,163,60],[169,78,163,62],[169,82,163,66],[169,83,163,67,"cropBox"],[169,90,163,74],[169,92,163,76],[169,96,163,80],[169,97,163,81,"cropBoxInd"],[169,107,163,91],[169,109,163,93],[169,113,163,97],[169,114,163,98,"cropSize"],[169,122,163,106],[169,124,163,108],[169,134,163,118],[169,135,163,119],[170,8,164,12],[171,8,165,12],[171,14,165,18,"shape"],[171,19,165,23],[171,22,165,26,"resizedImage"],[171,34,165,38],[171,35,165,39,"shape"],[171,40,165,44],[172,8,166,12],[172,15,166,19],[172,19,166,19,"reshape"],[172,38,166,26],[172,39,166,26,"reshape"],[172,46,166,26],[172,48,166,27,"resizedImage"],[172,60,166,39],[172,62,166,41,"shape"],[172,67,166,46],[172,68,166,47,"slice"],[172,73,166,52],[172,74,166,53],[172,75,166,54],[172,76,166,55],[172,77,166,56],[173,6,167,8],[173,7,167,9],[173,8,167,10],[174,4,168,4],[175,4,169,4],[176,4,170,4],[177,4,171,4],[177,10,171,10,"capture"],[177,17,171,17,"capture"],[177,18,171,17],[177,20,171,20],[178,6,172,8],[178,13,172,15],[178,14,172,16],[178,20,172,22],[178,24,172,26],[178,25,172,27,"next"],[178,29,172,31],[178,30,172,32],[178,31,172,33],[178,33,172,35,"value"],[178,38,172,40],[179,4,173,4],[180,4,174,4],[181,4,175,4,"stop"],[181,8,175,8,"stop"],[181,9,175,8],[181,11,175,11],[182,6,176,8],[182,12,176,14,"tracks"],[182,18,176,20],[182,21,176,23],[182,25,176,27],[182,26,176,28,"stream"],[182,32,176,34],[182,33,176,35,"getTracks"],[182,42,176,44],[182,43,176,45],[182,44,176,46],[183,6,177,8,"tracks"],[183,12,177,14],[183,13,177,15,"forEach"],[183,20,177,22],[183,21,177,23,"track"],[183,26,177,28],[183,30,177,32,"track"],[183,35,177,37],[183,36,177,38,"stop"],[183,40,177,42],[183,41,177,43],[183,42,177,44],[183,43,177,45],[184,6,178,8],[184,10,178,12],[185,8,179,12],[185,12,179,16],[185,13,179,17,"webcamVideoElement"],[185,31,179,35],[185,32,179,36,"srcObject"],[185,41,179,45],[185,44,179,48],[185,48,179,52],[186,6,180,8],[186,7,180,9],[186,8,181,8],[186,15,181,15,"error"],[186,20,181,20],[186,22,181,22],[187,8,182,12,"console"],[187,15,182,19],[187,16,182,20,"log"],[187,19,182,23],[187,20,182,24,"error"],[187,25,182,29],[187,26,182,30],[188,8,183,12],[188,12,183,16],[188,13,183,17,"webcamVideoElement"],[188,31,183,35],[188,32,183,36,"src"],[188,35,183,39],[188,38,183,42],[188,42,183,46],[189,6,184,8],[190,6,185,8],[190,10,185,12],[190,11,185,13,"isClosed"],[190,19,185,21],[190,22,185,24],[190,26,185,28],[191,4,186,4],[192,4,187,4],[193,4,188,4,"toArray"],[193,11,188,11,"toArray"],[193,12,188,11],[193,14,188,14],[194,6,189,8],[194,12,189,14],[194,16,189,18,"Error"],[194,21,189,23],[194,22,189,24],[194,71,189,73],[194,72,189,74],[195,4,190,4],[196,2,191,0],[197,0,191,1],[197,3]],"functionMap":{"names":["<global>","WebcamIterator","WebcamIterator#constructor","WebcamIterator#summary","WebcamIterator.create","WebcamIterator#start","util.assert$argument_1","Promise$argument_0","webcamVideoElement.onloadedmetadata","WebcamIterator#next","WebcamIterator#needToResize","WebcamIterator#cropAndResizeFrame","tidy$argument_0","WebcamIterator#capture","WebcamIterator#stop","tracks.forEach$argument_0","WebcamIterator#toArray"],"mappings":"AAA;OCuB;ICC;KD0B;IEC;KFE;IGE;KHmB;IIE;kECG;wDDC;2BEiC;uDCE;aDE;SFC;KJC;IQC;KRyB;ISC;KTU;IUE;oBCC;SDO;KVC;IYG;KZE;IaE;uBCE,qBD;KbS;IeE;KfE;CDC"},"hasCjsExports":false},"type":"js/module"}]}