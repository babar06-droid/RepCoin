{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AddNPackedProgram\", {\n    enumerable: true,\n    get: function () {\n      return AddNPackedProgram;\n    }\n  });\n  /**\n   * @license\n   * Copyright 2019 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n  class AddNPackedProgram {\n    constructor(outputShape, shapes) {\n      this.outputShape = [];\n      this.packedInputs = true;\n      this.packedOutput = true;\n      this.outputShape = outputShape;\n      this.variableNames = shapes.map((_, i) => `T${i}`);\n      const snippets = [];\n      // Get target elements from every input tensor.\n      this.variableNames.forEach(variable => {\n        snippets.push(`vec4 v${variable} = get${variable}AtOutCoords();`);\n      });\n      // Calculate the sum of all elements.\n      const operation = this.variableNames.map(variable => {\n        return `v${variable}`;\n      }).join(' + ');\n      this.userCode = `\n      void main() {\n        ${snippets.join('\\n        ')}\n\n        vec4 result = ${operation};\n        setOutput(result);\n      }\n    `;\n    }\n  }\n});","lineCount":55,"map":[[7,2,17,0,"Object"],[7,8,17,0],[7,9,17,0,"defineProperty"],[7,23,17,0],[7,24,17,0,"exports"],[7,31,17,0],[8,4,17,0,"enumerable"],[8,14,17,0],[9,4,17,0,"get"],[9,7,17,0],[9,18,17,0,"get"],[9,19,17,0],[10,6,17,0],[10,13,17,0,"AddNPackedProgram"],[10,30,17,0],[11,4,17,0],[12,2,17,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,2,17,7],[29,8,17,13,"AddNPackedProgram"],[29,25,17,30],[29,26,17,31],[30,4,18,4,"constructor"],[30,15,18,15,"constructor"],[30,16,18,16,"outputShape"],[30,27,18,27],[30,29,18,29,"shapes"],[30,35,18,35],[30,37,18,37],[31,6,19,8],[31,10,19,12],[31,11,19,13,"outputShape"],[31,22,19,24],[31,25,19,27],[31,27,19,29],[32,6,20,8],[32,10,20,12],[32,11,20,13,"packedInputs"],[32,23,20,25],[32,26,20,28],[32,30,20,32],[33,6,21,8],[33,10,21,12],[33,11,21,13,"packedOutput"],[33,23,21,25],[33,26,21,28],[33,30,21,32],[34,6,22,8],[34,10,22,12],[34,11,22,13,"outputShape"],[34,22,22,24],[34,25,22,27,"outputShape"],[34,36,22,38],[35,6,23,8],[35,10,23,12],[35,11,23,13,"variableNames"],[35,24,23,26],[35,27,23,29,"shapes"],[35,33,23,35],[35,34,23,36,"map"],[35,37,23,39],[35,38,23,40],[35,39,23,41,"_"],[35,40,23,42],[35,42,23,44,"i"],[35,43,23,45],[35,48,23,50],[35,52,23,54,"i"],[35,53,23,55],[35,55,23,57],[35,56,23,58],[36,6,24,8],[36,12,24,14,"snippets"],[36,20,24,22],[36,23,24,25],[36,25,24,27],[37,6,25,8],[38,6,26,8],[38,10,26,12],[38,11,26,13,"variableNames"],[38,24,26,26],[38,25,26,27,"forEach"],[38,32,26,34],[38,33,26,35,"variable"],[38,41,26,43],[38,45,26,47],[39,8,27,12,"snippets"],[39,16,27,20],[39,17,27,21,"push"],[39,21,27,25],[39,22,27,26],[39,31,27,35,"variable"],[39,39,27,43],[39,48,27,52,"variable"],[39,56,27,60],[39,72,27,76],[39,73,27,77],[40,6,28,8],[40,7,28,9],[40,8,28,10],[41,6,29,8],[42,6,30,8],[42,12,30,14,"operation"],[42,21,30,23],[42,24,30,26],[42,28,30,30],[42,29,30,31,"variableNames"],[42,42,30,44],[42,43,31,13,"map"],[42,46,31,16],[42,47,31,17,"variable"],[42,55,31,25],[42,59,31,29],[43,8,32,12],[43,15,32,19],[43,19,32,23,"variable"],[43,27,32,31],[43,29,32,33],[44,6,33,8],[44,7,33,9],[44,8,33,10],[44,9,34,13,"join"],[44,13,34,17],[44,14,34,18],[44,19,34,23],[44,20,34,24],[45,6,35,8],[45,10,35,12],[45,11,35,13,"userCode"],[45,19,35,21],[45,22,35,24],[46,0,36,0],[47,0,37,0],[47,10,37,10,"snippets"],[47,18,37,18],[47,19,37,19,"join"],[47,23,37,23],[47,24,37,24],[47,36,37,36],[47,37,37,37],[48,0,38,0],[49,0,39,0],[49,24,39,24,"operation"],[49,33,39,33],[50,0,40,0],[51,0,41,0],[52,0,42,0],[52,5,42,5],[53,4,43,4],[54,2,44,0],[55,0,44,1],[55,3]],"functionMap":{"names":["<global>","AddNPackedProgram","AddNPackedProgram#constructor","shapes.map$argument_0","variableNames.forEach$argument_0","variableNames.map$argument_0"],"mappings":"AAA;OCgB;ICC;wCCK,iBD;mCEG;SFE;iBGG;SHE;KDU;CDC"},"hasCjsExports":false},"type":"js/module"}]}