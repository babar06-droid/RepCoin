{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":56,"index":759}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/shared","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":760},"end":{"line":18,"column":53,"index":813}}],"key":"JzS9qfQGP0NvwhobUV8d6bPV3h4=","exportNames":["*"],"imports":1}},{"name":"../top_k_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":814},"end":{"line":19,"column":57,"index":871}}],"key":"uKCfc4yGmo9QF2kE26ZiR2mgS74=","exportNames":["*"],"imports":1}},{"name":"./Fill","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":872},"end":{"line":20,"column":30,"index":902}}],"key":"YHz8miZvv5K9ff22kFvrF46hlRs=","exportNames":["*"],"imports":1}},{"name":"./GatherV2","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":903},"end":{"line":21,"column":38,"index":941}}],"key":"jz1JpNc1TfYk17MBWufrxdv7B3U=","exportNames":["*"],"imports":1}},{"name":"./Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":942},"end":{"line":22,"column":36,"index":978}}],"key":"EUWK+oKi/AwokPOQ1jng5DYfQSc=","exportNames":["*"],"imports":1}},{"name":"./Slice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":979},"end":{"line":23,"column":32,"index":1011}}],"key":"vT5DoMUDLMOWA6T5MsUbbgr2jdc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.topK = topK;\n  Object.defineProperty(exports, \"topKConfig\", {\n    enumerable: true,\n    get: function () {\n      return topKConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _kernel_utilsShared = require(_dependencyMap[1], \"../kernel_utils/shared\");\n  var _top_k_gpu = require(_dependencyMap[2], \"../top_k_gpu\");\n  var _Fill = require(_dependencyMap[3], \"./Fill\");\n  var _GatherV = require(_dependencyMap[4], \"./GatherV2\");\n  var _Reshape = require(_dependencyMap[5], \"./Reshape\");\n  var _Slice = require(_dependencyMap[6], \"./Slice\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function disposeIntermediateTensorInfoOrNull(backend, tensorInfo) {\n    if (tensorInfo !== null) {\n      backend.disposeIntermediateTensorInfo(tensorInfo);\n    }\n  }\n  function roundUpToPow2(num) {\n    let pow2 = 1;\n    while (pow2 < num) {\n      pow2 *= 2;\n    }\n    return pow2;\n  }\n  // Based on Algorithm 2 of Bitonic Top K, ref:\n  // https://anilshanbhag.in/static/papers/gputopk_sigmod18.pdf\n  function topK(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      k,\n      sorted\n    } = attrs;\n    // Empirically determined constant used to determine last dim threshold for\n    // handing off execution to the CPU.\n    const TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD = (0, _tensorflowTfjsCore.env)().getNumber('TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD');\n    // Empirically determined constant used to determine k threshold for handing\n    // off execution to the CPU.\n    const TOPK_K_CPU_HANDOFF_THRESHOLD = (0, _tensorflowTfjsCore.env)().getNumber('TOPK_K_CPU_HANDOFF_THRESHOLD');\n    const xShape = x.shape;\n    const lastDim = xShape[xShape.length - 1];\n    if (backend.shouldExecuteOnCPU([x]) || lastDim < TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD || k > TOPK_K_CPU_HANDOFF_THRESHOLD) {\n      const xVals = backend.readSync(x.dataId);\n      const [allTopKVals, allTopKIndices] = (0, _kernel_utilsShared.topKImplCPU)(xVals, xShape, x.dtype, k, sorted);\n      return [backend.makeTensorInfo(allTopKVals.shape, allTopKVals.dtype, allTopKVals.values), backend.makeTensorInfo(allTopKIndices.shape, allTopKIndices.dtype, allTopKIndices.values)];\n    }\n    if (k === 0) {\n      xShape[xShape.length - 1] = 0;\n      return [backend.makeTensorInfo(xShape, x.dtype, []), backend.makeTensorInfo(xShape, 'int32', [])];\n    }\n    if (lastDim === 1 /* firstPass */) {\n      return [x, (0, _Fill.fill)({\n        attrs: {\n          shape: xShape,\n          dtype: 'int32',\n          value: 0\n        },\n        backend\n      })];\n    }\n    // Eagerly unpack x input since it is passed in to all the shaders which\n    // require unpacked inputs.\n    const xtexData = backend.texData.get(x.dataId);\n    const xIsPacked = xtexData !== null && xtexData.isPacked;\n    const xUnPacked = xIsPacked ? backend.unpackTensor(x) : x;\n    // Reshape into a 2d tensor [batch, lastDim] and compute topk along lastDim.\n    const xSize = _tensorflowTfjsCore.util.sizeFromShape(xShape);\n    const batch = xSize / lastDim;\n    const x2D = (0, _Reshape.reshape)({\n      inputs: {\n        x: xUnPacked\n      },\n      attrs: {\n        shape: [batch, lastDim]\n      },\n      backend\n    });\n    if (xIsPacked) {\n      disposeIntermediateTensorInfoOrNull(backend, xUnPacked);\n    }\n    const kPow2 = roundUpToPow2(k);\n    const lastDimPow2 = roundUpToPow2(lastDim);\n    // Only the indices containing the top K are kept at every step to reduce\n    // number of outputs in the GPU algorithms, so once the final set of indices\n    // is computed then gather is used to grab the corresponding values\n    // from the original input.\n    let indices = null;\n    // GPU algorithm always takes in an indices input but this input is not used\n    // on the first run of a GPU algorithm, therefore if indices is null we simply\n    // pass in x2D instead of it but the value will not actually be used\n    const getInputs = () => indices === null ? [x2D, x2D] : [x2D, indices];\n    const runSwap = (dir, inc, shape) => {\n      const inputs = getInputs();\n      const program = new _top_k_gpu.SwapProgram(shape);\n      const fistPass = indices === null ? 1 : 0;\n      const customValues = [[lastDim], [fistPass], [Number.NEGATIVE_INFINITY], [dir], [inc]];\n      const prevIndices = indices;\n      indices = backend.runWebGLProgram(program, inputs, 'int32', customValues);\n      disposeIntermediateTensorInfoOrNull(backend, prevIndices);\n    };\n    // Step 1: local sort\n    for (let len = 1; len < kPow2; len *= 2) {\n      const dir = len * 2;\n      for (let inc = len; inc >= 1; inc /= 2) {\n        runSwap(dir, inc, [batch, lastDimPow2]);\n      }\n    }\n    // Step 2: merge\n    for (let indicesSize = lastDimPow2; indicesSize > kPow2; indicesSize /= 2) {\n      const inputs = getInputs();\n      const mergeProgram = new _top_k_gpu.MergeProgram([batch, indicesSize / 2]);\n      const firstPass = indices === null ? 1 : 0;\n      const customValues = [[lastDim], [firstPass], [kPow2]];\n      const prevIndices = indices;\n      indices = backend.runWebGLProgram(mergeProgram, inputs, 'int32', customValues);\n      disposeIntermediateTensorInfoOrNull(backend, prevIndices);\n      // Step 3: rebuild\n      const len = kPow2 / 2;\n      const dir = len * 2;\n      for (let inc = len; inc >= 1; inc /= 2) {\n        runSwap(dir, inc, indices.shape);\n      }\n    }\n    // Keep only the requested top K results instead of kPow2\n    let prevIndices = indices;\n    indices = (0, _Slice.slice)({\n      inputs: {\n        x: indices\n      },\n      backend,\n      attrs: {\n        begin: 0,\n        size: [batch, k]\n      }\n    });\n    disposeIntermediateTensorInfoOrNull(backend, prevIndices);\n    // Gather values on last dimension\n    let values = (0, _GatherV.gatherV2)({\n      inputs: {\n        x: x2D,\n        indices\n      },\n      backend,\n      attrs: {\n        axis: 1,\n        batchDims: 1\n      }\n    });\n    disposeIntermediateTensorInfoOrNull(backend, x2D);\n    // Reshape back to the original input shape, except that the last\n    // dimension is k.\n    const newShape = xShape.slice(0, -1);\n    newShape.push(k);\n    prevIndices = indices;\n    indices = (0, _Reshape.reshape)({\n      inputs: {\n        x: indices\n      },\n      attrs: {\n        shape: newShape\n      },\n      backend\n    });\n    disposeIntermediateTensorInfoOrNull(backend, prevIndices);\n    const prevValues = values;\n    values = (0, _Reshape.reshape)({\n      inputs: {\n        x: values\n      },\n      attrs: {\n        shape: newShape\n      },\n      backend\n    });\n    disposeIntermediateTensorInfoOrNull(backend, prevValues);\n    return [values, indices];\n  }\n  const topKConfig = {\n    kernelName: _tensorflowTfjsCore.TopK,\n    backendName: 'webgl',\n    kernelFunc: topK\n  };\n});","lineCount":214,"map":[[7,2,38,0,"exports"],[7,9,38,0],[7,10,38,0,"topK"],[7,14,38,0],[7,17,38,0,"topK"],[7,21,38,0],[8,2,147,0,"Object"],[8,8,147,0],[8,9,147,0,"defineProperty"],[8,23,147,0],[8,24,147,0,"exports"],[8,31,147,0],[9,4,147,0,"enumerable"],[9,14,147,0],[10,4,147,0,"get"],[10,7,147,0],[10,18,147,0,"get"],[10,19,147,0],[11,6,147,0],[11,13,147,0,"topKConfig"],[11,23,147,0],[12,4,147,0],[13,2,147,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_kernel_utilsShared"],[15,25,18,0],[15,28,18,0,"require"],[15,35,18,0],[15,36,18,0,"_dependencyMap"],[15,50,18,0],[16,2,19,0],[16,6,19,0,"_top_k_gpu"],[16,16,19,0],[16,19,19,0,"require"],[16,26,19,0],[16,27,19,0,"_dependencyMap"],[16,41,19,0],[17,2,20,0],[17,6,20,0,"_Fill"],[17,11,20,0],[17,14,20,0,"require"],[17,21,20,0],[17,22,20,0,"_dependencyMap"],[17,36,20,0],[18,2,21,0],[18,6,21,0,"_GatherV"],[18,14,21,0],[18,17,21,0,"require"],[18,24,21,0],[18,25,21,0,"_dependencyMap"],[18,39,21,0],[19,2,22,0],[19,6,22,0,"_Reshape"],[19,14,22,0],[19,17,22,0,"require"],[19,24,22,0],[19,25,22,0,"_dependencyMap"],[19,39,22,0],[20,2,23,0],[20,6,23,0,"_Slice"],[20,12,23,0],[20,15,23,0,"require"],[20,22,23,0],[20,23,23,0,"_dependencyMap"],[20,37,23,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,0,9,0],[30,0,10,0],[31,0,11,0],[32,0,12,0],[33,0,13,0],[34,0,14,0],[35,0,15,0],[36,0,16,0],[38,2,24,0],[38,11,24,9,"disposeIntermediateTensorInfoOrNull"],[38,46,24,44,"disposeIntermediateTensorInfoOrNull"],[38,47,24,45,"backend"],[38,54,24,52],[38,56,24,54,"tensorInfo"],[38,66,24,64],[38,68,24,66],[39,4,25,4],[39,8,25,8,"tensorInfo"],[39,18,25,18],[39,23,25,23],[39,27,25,27],[39,29,25,29],[40,6,26,8,"backend"],[40,13,26,15],[40,14,26,16,"disposeIntermediateTensorInfo"],[40,43,26,45],[40,44,26,46,"tensorInfo"],[40,54,26,56],[40,55,26,57],[41,4,27,4],[42,2,28,0],[43,2,29,0],[43,11,29,9,"roundUpToPow2"],[43,24,29,22,"roundUpToPow2"],[43,25,29,23,"num"],[43,28,29,26],[43,30,29,28],[44,4,30,4],[44,8,30,8,"pow2"],[44,12,30,12],[44,15,30,15],[44,16,30,16],[45,4,31,4],[45,11,31,11,"pow2"],[45,15,31,15],[45,18,31,18,"num"],[45,21,31,21],[45,23,31,23],[46,6,32,8,"pow2"],[46,10,32,12],[46,14,32,16],[46,15,32,17],[47,4,33,4],[48,4,34,4],[48,11,34,11,"pow2"],[48,15,34,15],[49,2,35,0],[50,2,36,0],[51,2,37,0],[52,2,38,7],[52,11,38,16,"topK"],[52,15,38,20,"topK"],[52,16,38,21,"args"],[52,20,38,25],[52,22,38,27],[53,4,39,4],[53,10,39,10],[54,6,39,12,"inputs"],[54,12,39,18],[55,6,39,20,"backend"],[55,13,39,27],[56,6,39,29,"attrs"],[57,4,39,35],[57,5,39,36],[57,8,39,39,"args"],[57,12,39,43],[58,4,40,4],[58,10,40,10],[59,6,40,12,"x"],[60,4,40,14],[60,5,40,15],[60,8,40,18,"inputs"],[60,14,40,24],[61,4,41,4],[61,10,41,10],[62,6,41,12,"k"],[62,7,41,13],[63,6,41,15,"sorted"],[64,4,41,22],[64,5,41,23],[64,8,41,26,"attrs"],[64,13,41,31],[65,4,42,4],[66,4,43,4],[67,4,44,4],[67,10,44,10,"TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"],[67,50,44,50],[67,53,44,53],[67,57,44,53,"env"],[67,76,44,56],[67,77,44,56,"env"],[67,80,44,56],[67,82,44,57],[67,83,44,58],[67,84,44,59,"getNumber"],[67,93,44,68],[67,94,44,69],[67,136,44,111],[67,137,44,112],[68,4,45,4],[69,4,46,4],[70,4,47,4],[70,10,47,10,"TOPK_K_CPU_HANDOFF_THRESHOLD"],[70,38,47,38],[70,41,47,41],[70,45,47,41,"env"],[70,64,47,44],[70,65,47,44,"env"],[70,68,47,44],[70,70,47,45],[70,71,47,46],[70,72,47,47,"getNumber"],[70,81,47,56],[70,82,47,57],[70,112,47,87],[70,113,47,88],[71,4,48,4],[71,10,48,10,"xShape"],[71,16,48,16],[71,19,48,19,"x"],[71,20,48,20],[71,21,48,21,"shape"],[71,26,48,26],[72,4,49,4],[72,10,49,10,"lastDim"],[72,17,49,17],[72,20,49,20,"xShape"],[72,26,49,26],[72,27,49,27,"xShape"],[72,33,49,33],[72,34,49,34,"length"],[72,40,49,40],[72,43,49,43],[72,44,49,44],[72,45,49,45],[73,4,50,4],[73,8,50,8,"backend"],[73,15,50,15],[73,16,50,16,"shouldExecuteOnCPU"],[73,34,50,34],[73,35,50,35],[73,36,50,36,"x"],[73,37,50,37],[73,38,50,38],[73,39,50,39],[73,43,51,8,"lastDim"],[73,50,51,15],[73,53,51,18,"TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"],[73,93,51,58],[73,97,52,8,"k"],[73,98,52,9],[73,101,52,12,"TOPK_K_CPU_HANDOFF_THRESHOLD"],[73,129,52,40],[73,131,52,42],[74,6,53,8],[74,12,53,14,"xVals"],[74,17,53,19],[74,20,53,22,"backend"],[74,27,53,29],[74,28,53,30,"readSync"],[74,36,53,38],[74,37,53,39,"x"],[74,38,53,40],[74,39,53,41,"dataId"],[74,45,53,47],[74,46,53,48],[75,6,54,8],[75,12,54,14],[75,13,54,15,"allTopKVals"],[75,24,54,26],[75,26,54,28,"allTopKIndices"],[75,40,54,42],[75,41,54,43],[75,44,54,46],[75,48,54,46,"topKImplCPU"],[75,67,54,57],[75,68,54,57,"topKImplCPU"],[75,79,54,57],[75,81,54,58,"xVals"],[75,86,54,63],[75,88,54,65,"xShape"],[75,94,54,71],[75,96,54,73,"x"],[75,97,54,74],[75,98,54,75,"dtype"],[75,103,54,80],[75,105,54,82,"k"],[75,106,54,83],[75,108,54,85,"sorted"],[75,114,54,91],[75,115,54,92],[76,6,55,8],[76,13,55,15],[76,14,56,12,"backend"],[76,21,56,19],[76,22,56,20,"makeTensorInfo"],[76,36,56,34],[76,37,56,35,"allTopKVals"],[76,48,56,46],[76,49,56,47,"shape"],[76,54,56,52],[76,56,56,54,"allTopKVals"],[76,67,56,65],[76,68,56,66,"dtype"],[76,73,56,71],[76,75,56,73,"allTopKVals"],[76,86,56,84],[76,87,56,85,"values"],[76,93,56,91],[76,94,56,92],[76,96,57,12,"backend"],[76,103,57,19],[76,104,57,20,"makeTensorInfo"],[76,118,57,34],[76,119,57,35,"allTopKIndices"],[76,133,57,49],[76,134,57,50,"shape"],[76,139,57,55],[76,141,57,57,"allTopKIndices"],[76,155,57,71],[76,156,57,72,"dtype"],[76,161,57,77],[76,163,57,79,"allTopKIndices"],[76,177,57,93],[76,178,57,94,"values"],[76,184,57,100],[76,185,57,101],[76,186,58,9],[77,4,59,4],[78,4,60,4],[78,8,60,8,"k"],[78,9,60,9],[78,14,60,14],[78,15,60,15],[78,17,60,17],[79,6,61,8,"xShape"],[79,12,61,14],[79,13,61,15,"xShape"],[79,19,61,21],[79,20,61,22,"length"],[79,26,61,28],[79,29,61,31],[79,30,61,32],[79,31,61,33],[79,34,61,36],[79,35,61,37],[80,6,62,8],[80,13,62,15],[80,14,63,12,"backend"],[80,21,63,19],[80,22,63,20,"makeTensorInfo"],[80,36,63,34],[80,37,63,35,"xShape"],[80,43,63,41],[80,45,63,43,"x"],[80,46,63,44],[80,47,63,45,"dtype"],[80,52,63,50],[80,54,63,52],[80,56,63,54],[80,57,63,55],[80,59,64,12,"backend"],[80,66,64,19],[80,67,64,20,"makeTensorInfo"],[80,81,64,34],[80,82,64,35,"xShape"],[80,88,64,41],[80,90,64,43],[80,97,64,50],[80,99,64,52],[80,101,64,54],[80,102,64,55],[80,103,65,9],[81,4,66,4],[82,4,67,4],[82,8,67,8,"lastDim"],[82,15,67,15],[82,20,67,20],[82,21,67,21],[82,22,67,22],[82,39,67,39],[83,6,68,8],[83,13,68,15],[83,14,69,12,"x"],[83,15,69,13],[83,17,69,15],[83,21,69,15,"fill"],[83,26,69,19],[83,27,69,19,"fill"],[83,31,69,19],[83,33,69,20],[84,8,69,22,"attrs"],[84,13,69,27],[84,15,69,29],[85,10,69,31,"shape"],[85,15,69,36],[85,17,69,38,"xShape"],[85,23,69,44],[86,10,69,46,"dtype"],[86,15,69,51],[86,17,69,53],[86,24,69,60],[87,10,69,62,"value"],[87,15,69,67],[87,17,69,69],[88,8,69,71],[88,9,69,72],[89,8,69,74,"backend"],[90,6,69,82],[90,7,69,83],[90,8,69,84],[90,9,70,9],[91,4,71,4],[92,4,72,4],[93,4,73,4],[94,4,74,4],[94,10,74,10,"xtexData"],[94,18,74,18],[94,21,74,21,"backend"],[94,28,74,28],[94,29,74,29,"texData"],[94,36,74,36],[94,37,74,37,"get"],[94,40,74,40],[94,41,74,41,"x"],[94,42,74,42],[94,43,74,43,"dataId"],[94,49,74,49],[94,50,74,50],[95,4,75,4],[95,10,75,10,"xIsPacked"],[95,19,75,19],[95,22,75,22,"xtexData"],[95,30,75,30],[95,35,75,35],[95,39,75,39],[95,43,75,43,"xtexData"],[95,51,75,51],[95,52,75,52,"isPacked"],[95,60,75,60],[96,4,76,4],[96,10,76,10,"xUnPacked"],[96,19,76,19],[96,22,76,22,"xIsPacked"],[96,31,76,31],[96,34,76,34,"backend"],[96,41,76,41],[96,42,76,42,"unpackTensor"],[96,54,76,54],[96,55,76,55,"x"],[96,56,76,56],[96,57,76,57],[96,60,76,60,"x"],[96,61,76,61],[97,4,77,4],[98,4,78,4],[98,10,78,10,"xSize"],[98,15,78,15],[98,18,78,18,"util"],[98,37,78,22],[98,38,78,22,"util"],[98,42,78,22],[98,43,78,23,"sizeFromShape"],[98,56,78,36],[98,57,78,37,"xShape"],[98,63,78,43],[98,64,78,44],[99,4,79,4],[99,10,79,10,"batch"],[99,15,79,15],[99,18,79,18,"xSize"],[99,23,79,23],[99,26,79,26,"lastDim"],[99,33,79,33],[100,4,80,4],[100,10,80,10,"x2D"],[100,13,80,13],[100,16,80,16],[100,20,80,16,"reshape"],[100,28,80,23],[100,29,80,23,"reshape"],[100,36,80,23],[100,38,80,24],[101,6,80,26,"inputs"],[101,12,80,32],[101,14,80,34],[102,8,80,36,"x"],[102,9,80,37],[102,11,80,39,"xUnPacked"],[103,6,80,49],[103,7,80,50],[104,6,80,52,"attrs"],[104,11,80,57],[104,13,80,59],[105,8,80,61,"shape"],[105,13,80,66],[105,15,80,68],[105,16,80,69,"batch"],[105,21,80,74],[105,23,80,76,"lastDim"],[105,30,80,83],[106,6,80,85],[106,7,80,86],[107,6,80,88,"backend"],[108,4,80,96],[108,5,80,97],[108,6,80,98],[109,4,81,4],[109,8,81,8,"xIsPacked"],[109,17,81,17],[109,19,81,19],[110,6,82,8,"disposeIntermediateTensorInfoOrNull"],[110,41,82,43],[110,42,82,44,"backend"],[110,49,82,51],[110,51,82,53,"xUnPacked"],[110,60,82,62],[110,61,82,63],[111,4,83,4],[112,4,84,4],[112,10,84,10,"kPow2"],[112,15,84,15],[112,18,84,18,"roundUpToPow2"],[112,31,84,31],[112,32,84,32,"k"],[112,33,84,33],[112,34,84,34],[113,4,85,4],[113,10,85,10,"lastDimPow2"],[113,21,85,21],[113,24,85,24,"roundUpToPow2"],[113,37,85,37],[113,38,85,38,"lastDim"],[113,45,85,45],[113,46,85,46],[114,4,86,4],[115,4,87,4],[116,4,88,4],[117,4,89,4],[118,4,90,4],[118,8,90,8,"indices"],[118,15,90,15],[118,18,90,18],[118,22,90,22],[119,4,91,4],[120,4,92,4],[121,4,93,4],[122,4,94,4],[122,10,94,10,"getInputs"],[122,19,94,19],[122,22,94,22,"getInputs"],[122,23,94,22],[122,28,94,28,"indices"],[122,35,94,35],[122,40,94,40],[122,44,94,44],[122,47,94,47],[122,48,94,48,"x2D"],[122,51,94,51],[122,53,94,53,"x2D"],[122,56,94,56],[122,57,94,57],[122,60,94,60],[122,61,94,61,"x2D"],[122,64,94,64],[122,66,94,66,"indices"],[122,73,94,73],[122,74,94,74],[123,4,95,4],[123,10,95,10,"runSwap"],[123,17,95,17],[123,20,95,20,"runSwap"],[123,21,95,21,"dir"],[123,24,95,24],[123,26,95,26,"inc"],[123,29,95,29],[123,31,95,31,"shape"],[123,36,95,36],[123,41,95,41],[124,6,96,8],[124,12,96,14,"inputs"],[124,18,96,20],[124,21,96,23,"getInputs"],[124,30,96,32],[124,31,96,33],[124,32,96,34],[125,6,97,8],[125,12,97,14,"program"],[125,19,97,21],[125,22,97,24],[125,26,97,28,"SwapProgram"],[125,36,97,39],[125,37,97,39,"SwapProgram"],[125,48,97,39],[125,49,97,40,"shape"],[125,54,97,45],[125,55,97,46],[126,6,98,8],[126,12,98,14,"fistPass"],[126,20,98,22],[126,23,98,25,"indices"],[126,30,98,32],[126,35,98,37],[126,39,98,41],[126,42,98,44],[126,43,98,45],[126,46,98,48],[126,47,98,49],[127,6,99,8],[127,12,99,14,"customValues"],[127,24,99,26],[127,27,99,29],[127,28,99,30],[127,29,99,31,"lastDim"],[127,36,99,38],[127,37,99,39],[127,39,99,41],[127,40,99,42,"fistPass"],[127,48,99,50],[127,49,99,51],[127,51,99,53],[127,52,99,54,"Number"],[127,58,99,60],[127,59,99,61,"NEGATIVE_INFINITY"],[127,76,99,78],[127,77,99,79],[127,79,99,81],[127,80,99,82,"dir"],[127,83,99,85],[127,84,99,86],[127,86,99,88],[127,87,99,89,"inc"],[127,90,99,92],[127,91,99,93],[127,92,99,94],[128,6,100,8],[128,12,100,14,"prevIndices"],[128,23,100,25],[128,26,100,28,"indices"],[128,33,100,35],[129,6,101,8,"indices"],[129,13,101,15],[129,16,101,18,"backend"],[129,23,101,25],[129,24,101,26,"runWebGLProgram"],[129,39,101,41],[129,40,101,42,"program"],[129,47,101,49],[129,49,101,51,"inputs"],[129,55,101,57],[129,57,101,59],[129,64,101,66],[129,66,101,68,"customValues"],[129,78,101,80],[129,79,101,81],[130,6,102,8,"disposeIntermediateTensorInfoOrNull"],[130,41,102,43],[130,42,102,44,"backend"],[130,49,102,51],[130,51,102,53,"prevIndices"],[130,62,102,64],[130,63,102,65],[131,4,103,4],[131,5,103,5],[132,4,104,4],[133,4,105,4],[133,9,105,9],[133,13,105,13,"len"],[133,16,105,16],[133,19,105,19],[133,20,105,20],[133,22,105,22,"len"],[133,25,105,25],[133,28,105,28,"kPow2"],[133,33,105,33],[133,35,105,35,"len"],[133,38,105,38],[133,42,105,42],[133,43,105,43],[133,45,105,45],[134,6,106,8],[134,12,106,14,"dir"],[134,15,106,17],[134,18,106,20,"len"],[134,21,106,23],[134,24,106,26],[134,25,106,27],[135,6,107,8],[135,11,107,13],[135,15,107,17,"inc"],[135,18,107,20],[135,21,107,23,"len"],[135,24,107,26],[135,26,107,28,"inc"],[135,29,107,31],[135,33,107,35],[135,34,107,36],[135,36,107,38,"inc"],[135,39,107,41],[135,43,107,45],[135,44,107,46],[135,46,107,48],[136,8,108,12,"runSwap"],[136,15,108,19],[136,16,108,20,"dir"],[136,19,108,23],[136,21,108,25,"inc"],[136,24,108,28],[136,26,108,30],[136,27,108,31,"batch"],[136,32,108,36],[136,34,108,38,"lastDimPow2"],[136,45,108,49],[136,46,108,50],[136,47,108,51],[137,6,109,8],[138,4,110,4],[139,4,111,4],[140,4,112,4],[140,9,112,9],[140,13,112,13,"indicesSize"],[140,24,112,24],[140,27,112,27,"lastDimPow2"],[140,38,112,38],[140,40,112,40,"indicesSize"],[140,51,112,51],[140,54,112,54,"kPow2"],[140,59,112,59],[140,61,112,61,"indicesSize"],[140,72,112,72],[140,76,112,76],[140,77,112,77],[140,79,112,79],[141,6,113,8],[141,12,113,14,"inputs"],[141,18,113,20],[141,21,113,23,"getInputs"],[141,30,113,32],[141,31,113,33],[141,32,113,34],[142,6,114,8],[142,12,114,14,"mergeProgram"],[142,24,114,26],[142,27,114,29],[142,31,114,33,"MergeProgram"],[142,41,114,45],[142,42,114,45,"MergeProgram"],[142,54,114,45],[142,55,114,46],[142,56,114,47,"batch"],[142,61,114,52],[142,63,114,54,"indicesSize"],[142,74,114,65],[142,77,114,68],[142,78,114,69],[142,79,114,70],[142,80,114,71],[143,6,115,8],[143,12,115,14,"firstPass"],[143,21,115,23],[143,24,115,26,"indices"],[143,31,115,33],[143,36,115,38],[143,40,115,42],[143,43,115,45],[143,44,115,46],[143,47,115,49],[143,48,115,50],[144,6,116,8],[144,12,116,14,"customValues"],[144,24,116,26],[144,27,116,29],[144,28,116,30],[144,29,116,31,"lastDim"],[144,36,116,38],[144,37,116,39],[144,39,116,41],[144,40,116,42,"firstPass"],[144,49,116,51],[144,50,116,52],[144,52,116,54],[144,53,116,55,"kPow2"],[144,58,116,60],[144,59,116,61],[144,60,116,62],[145,6,117,8],[145,12,117,14,"prevIndices"],[145,23,117,25],[145,26,117,28,"indices"],[145,33,117,35],[146,6,118,8,"indices"],[146,13,118,15],[146,16,119,12,"backend"],[146,23,119,19],[146,24,119,20,"runWebGLProgram"],[146,39,119,35],[146,40,119,36,"mergeProgram"],[146,52,119,48],[146,54,119,50,"inputs"],[146,60,119,56],[146,62,119,58],[146,69,119,65],[146,71,119,67,"customValues"],[146,83,119,79],[146,84,119,80],[147,6,120,8,"disposeIntermediateTensorInfoOrNull"],[147,41,120,43],[147,42,120,44,"backend"],[147,49,120,51],[147,51,120,53,"prevIndices"],[147,62,120,64],[147,63,120,65],[148,6,121,8],[149,6,122,8],[149,12,122,14,"len"],[149,15,122,17],[149,18,122,20,"kPow2"],[149,23,122,25],[149,26,122,28],[149,27,122,29],[150,6,123,8],[150,12,123,14,"dir"],[150,15,123,17],[150,18,123,20,"len"],[150,21,123,23],[150,24,123,26],[150,25,123,27],[151,6,124,8],[151,11,124,13],[151,15,124,17,"inc"],[151,18,124,20],[151,21,124,23,"len"],[151,24,124,26],[151,26,124,28,"inc"],[151,29,124,31],[151,33,124,35],[151,34,124,36],[151,36,124,38,"inc"],[151,39,124,41],[151,43,124,45],[151,44,124,46],[151,46,124,48],[152,8,125,12,"runSwap"],[152,15,125,19],[152,16,125,20,"dir"],[152,19,125,23],[152,21,125,25,"inc"],[152,24,125,28],[152,26,125,30,"indices"],[152,33,125,37],[152,34,125,38,"shape"],[152,39,125,43],[152,40,125,44],[153,6,126,8],[154,4,127,4],[155,4,128,4],[156,4,129,4],[156,8,129,8,"prevIndices"],[156,19,129,19],[156,22,129,22,"indices"],[156,29,129,29],[157,4,130,4,"indices"],[157,11,130,11],[157,14,130,14],[157,18,130,14,"slice"],[157,24,130,19],[157,25,130,19,"slice"],[157,30,130,19],[157,32,130,20],[158,6,130,22,"inputs"],[158,12,130,28],[158,14,130,30],[159,8,130,32,"x"],[159,9,130,33],[159,11,130,35,"indices"],[160,6,130,43],[160,7,130,44],[161,6,130,46,"backend"],[161,13,130,53],[162,6,130,55,"attrs"],[162,11,130,60],[162,13,130,62],[163,8,130,64,"begin"],[163,13,130,69],[163,15,130,71],[163,16,130,72],[164,8,130,74,"size"],[164,12,130,78],[164,14,130,80],[164,15,130,81,"batch"],[164,20,130,86],[164,22,130,88,"k"],[164,23,130,89],[165,6,130,91],[166,4,130,93],[166,5,130,94],[166,6,130,95],[167,4,131,4,"disposeIntermediateTensorInfoOrNull"],[167,39,131,39],[167,40,131,40,"backend"],[167,47,131,47],[167,49,131,49,"prevIndices"],[167,60,131,60],[167,61,131,61],[168,4,132,4],[169,4,133,4],[169,8,133,8,"values"],[169,14,133,14],[169,17,133,17],[169,21,133,17,"gatherV2"],[169,29,133,25],[169,30,133,25,"gatherV2"],[169,38,133,25],[169,40,133,26],[170,6,133,28,"inputs"],[170,12,133,34],[170,14,133,36],[171,8,133,38,"x"],[171,9,133,39],[171,11,133,41,"x2D"],[171,14,133,44],[172,8,133,46,"indices"],[173,6,133,54],[173,7,133,55],[174,6,133,57,"backend"],[174,13,133,64],[175,6,133,66,"attrs"],[175,11,133,71],[175,13,133,73],[176,8,133,75,"axis"],[176,12,133,79],[176,14,133,81],[176,15,133,82],[177,8,133,84,"batchDims"],[177,17,133,93],[177,19,133,95],[178,6,133,97],[179,4,133,99],[179,5,133,100],[179,6,133,101],[180,4,134,4,"disposeIntermediateTensorInfoOrNull"],[180,39,134,39],[180,40,134,40,"backend"],[180,47,134,47],[180,49,134,49,"x2D"],[180,52,134,52],[180,53,134,53],[181,4,135,4],[182,4,136,4],[183,4,137,4],[183,10,137,10,"newShape"],[183,18,137,18],[183,21,137,21,"xShape"],[183,27,137,27],[183,28,137,28,"slice"],[183,33,137,33],[183,34,137,34],[183,35,137,35],[183,37,137,37],[183,38,137,38],[183,39,137,39],[183,40,137,40],[184,4,138,4,"newShape"],[184,12,138,12],[184,13,138,13,"push"],[184,17,138,17],[184,18,138,18,"k"],[184,19,138,19],[184,20,138,20],[185,4,139,4,"prevIndices"],[185,15,139,15],[185,18,139,18,"indices"],[185,25,139,25],[186,4,140,4,"indices"],[186,11,140,11],[186,14,140,14],[186,18,140,14,"reshape"],[186,26,140,21],[186,27,140,21,"reshape"],[186,34,140,21],[186,36,140,22],[187,6,140,24,"inputs"],[187,12,140,30],[187,14,140,32],[188,8,140,34,"x"],[188,9,140,35],[188,11,140,37,"indices"],[189,6,140,45],[189,7,140,46],[190,6,140,48,"attrs"],[190,11,140,53],[190,13,140,55],[191,8,140,57,"shape"],[191,13,140,62],[191,15,140,64,"newShape"],[192,6,140,73],[192,7,140,74],[193,6,140,76,"backend"],[194,4,140,84],[194,5,140,85],[194,6,140,86],[195,4,141,4,"disposeIntermediateTensorInfoOrNull"],[195,39,141,39],[195,40,141,40,"backend"],[195,47,141,47],[195,49,141,49,"prevIndices"],[195,60,141,60],[195,61,141,61],[196,4,142,4],[196,10,142,10,"prevValues"],[196,20,142,20],[196,23,142,23,"values"],[196,29,142,29],[197,4,143,4,"values"],[197,10,143,10],[197,13,143,13],[197,17,143,13,"reshape"],[197,25,143,20],[197,26,143,20,"reshape"],[197,33,143,20],[197,35,143,21],[198,6,143,23,"inputs"],[198,12,143,29],[198,14,143,31],[199,8,143,33,"x"],[199,9,143,34],[199,11,143,36,"values"],[200,6,143,43],[200,7,143,44],[201,6,143,46,"attrs"],[201,11,143,51],[201,13,143,53],[202,8,143,55,"shape"],[202,13,143,60],[202,15,143,62,"newShape"],[203,6,143,71],[203,7,143,72],[204,6,143,74,"backend"],[205,4,143,82],[205,5,143,83],[205,6,143,84],[206,4,144,4,"disposeIntermediateTensorInfoOrNull"],[206,39,144,39],[206,40,144,40,"backend"],[206,47,144,47],[206,49,144,49,"prevValues"],[206,59,144,59],[206,60,144,60],[207,4,145,4],[207,11,145,11],[207,12,145,12,"values"],[207,18,145,18],[207,20,145,20,"indices"],[207,27,145,27],[207,28,145,28],[208,2,146,0],[209,2,147,7],[209,8,147,13,"topKConfig"],[209,18,147,23],[209,21,147,26],[210,4,148,4,"kernelName"],[210,14,148,14],[210,16,148,16,"TopK"],[210,35,148,20],[210,36,148,20,"TopK"],[210,40,148,20],[211,4,149,4,"backendName"],[211,15,149,15],[211,17,149,17],[211,24,149,24],[212,4,150,4,"kernelFunc"],[212,14,150,14],[212,16,150,16,"topK"],[213,2,151,0],[213,3,151,1],[214,0,151,2],[214,3]],"functionMap":{"names":["<global>","disposeIntermediateTensorInfoOrNull","roundUpToPow2","topK","getInputs","runSwap"],"mappings":"AAA;ACuB;CDI;AEC;CFM;OGG;sBCwD,oDD;oBEC;KFQ;CH2C"},"hasCjsExports":false},"type":"js/module"}]}