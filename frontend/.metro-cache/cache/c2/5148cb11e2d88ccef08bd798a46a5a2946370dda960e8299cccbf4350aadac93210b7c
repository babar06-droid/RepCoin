{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ResizeBilinearProgram\", {\n    enumerable: true,\n    get: function () {\n      return ResizeBilinearProgram;\n    }\n  });\n  /**\n   * @license\n   * Copyright 2017 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n  class ResizeBilinearProgram {\n    constructor(inputShape, newHeight, newWidth, alignCorners, halfPixelCenters) {\n      this.variableNames = ['A'];\n      this.outputShape = [];\n      const [batch, oldHeight, oldWidth, depth] = inputShape;\n      this.outputShape = [batch, newHeight, newWidth, depth];\n      const effectiveInSize = [alignCorners && newHeight > 1 ? oldHeight - 1 : oldHeight, alignCorners && newWidth > 1 ? oldWidth - 1 : oldWidth];\n      const effectiveOutSize = [alignCorners && newHeight > 1 ? newHeight - 1 : newHeight, alignCorners && newWidth > 1 ? newWidth - 1 : newWidth];\n      let sourceFracIndexRC;\n      if (halfPixelCenters) {\n        sourceFracIndexRC = `(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC` + ` - vec2(0.5)`;\n      } else {\n        sourceFracIndexRC = `vec2(yRC) * effectiveInputOverOutputRatioRC`;\n      }\n      this.userCode = `\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${effectiveInSize[0] / effectiveOutSize[0]},\n          ${effectiveInSize[1] / effectiveOutSize[1]});\n      const vec2 inputShapeRC = vec2(${oldHeight}.0, ${oldWidth}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${sourceFracIndexRC};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `;\n    }\n  }\n});","lineCount":79,"map":[[7,2,17,0,"Object"],[7,8,17,0],[7,9,17,0,"defineProperty"],[7,23,17,0],[7,24,17,0,"exports"],[7,31,17,0],[8,4,17,0,"enumerable"],[8,14,17,0],[9,4,17,0,"get"],[9,7,17,0],[9,18,17,0,"get"],[9,19,17,0],[10,6,17,0],[10,13,17,0,"ResizeBilinearProgram"],[10,34,17,0],[11,4,17,0],[12,2,17,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,2,17,7],[29,8,17,13,"ResizeBilinearProgram"],[29,29,17,34],[29,30,17,35],[30,4,18,4,"constructor"],[30,15,18,15,"constructor"],[30,16,18,16,"inputShape"],[30,26,18,26],[30,28,18,28,"newHeight"],[30,37,18,37],[30,39,18,39,"newWidth"],[30,47,18,47],[30,49,18,49,"alignCorners"],[30,61,18,61],[30,63,18,63,"halfPixelCenters"],[30,79,18,79],[30,81,18,81],[31,6,19,8],[31,10,19,12],[31,11,19,13,"variableNames"],[31,24,19,26],[31,27,19,29],[31,28,19,30],[31,31,19,33],[31,32,19,34],[32,6,20,8],[32,10,20,12],[32,11,20,13,"outputShape"],[32,22,20,24],[32,25,20,27],[32,27,20,29],[33,6,21,8],[33,12,21,14],[33,13,21,15,"batch"],[33,18,21,20],[33,20,21,22,"oldHeight"],[33,29,21,31],[33,31,21,33,"oldWidth"],[33,39,21,41],[33,41,21,43,"depth"],[33,46,21,48],[33,47,21,49],[33,50,21,52,"inputShape"],[33,60,21,62],[34,6,22,8],[34,10,22,12],[34,11,22,13,"outputShape"],[34,22,22,24],[34,25,22,27],[34,26,22,28,"batch"],[34,31,22,33],[34,33,22,35,"newHeight"],[34,42,22,44],[34,44,22,46,"newWidth"],[34,52,22,54],[34,54,22,56,"depth"],[34,59,22,61],[34,60,22,62],[35,6,23,8],[35,12,23,14,"effectiveInSize"],[35,27,23,29],[35,30,23,32],[35,31,24,13,"alignCorners"],[35,43,24,25],[35,47,24,29,"newHeight"],[35,56,24,38],[35,59,24,41],[35,60,24,42],[35,63,24,46,"oldHeight"],[35,72,24,55],[35,75,24,58],[35,76,24,59],[35,79,24,62,"oldHeight"],[35,88,24,71],[35,90,25,13,"alignCorners"],[35,102,25,25],[35,106,25,29,"newWidth"],[35,114,25,37],[35,117,25,40],[35,118,25,41],[35,121,25,45,"oldWidth"],[35,129,25,53],[35,132,25,56],[35,133,25,57],[35,136,25,60,"oldWidth"],[35,144,25,68],[35,145,26,9],[36,6,27,8],[36,12,27,14,"effectiveOutSize"],[36,28,27,30],[36,31,27,33],[36,32,28,13,"alignCorners"],[36,44,28,25],[36,48,28,29,"newHeight"],[36,57,28,38],[36,60,28,41],[36,61,28,42],[36,64,28,46,"newHeight"],[36,73,28,55],[36,76,28,58],[36,77,28,59],[36,80,28,62,"newHeight"],[36,89,28,71],[36,91,29,13,"alignCorners"],[36,103,29,25],[36,107,29,29,"newWidth"],[36,115,29,37],[36,118,29,40],[36,119,29,41],[36,122,29,45,"newWidth"],[36,130,29,53],[36,133,29,56],[36,134,29,57],[36,137,29,60,"newWidth"],[36,145,29,68],[36,146,30,9],[37,6,31,8],[37,10,31,12,"sourceFracIndexRC"],[37,27,31,29],[38,6,32,8],[38,10,32,12,"halfPixelCenters"],[38,26,32,28],[38,28,32,30],[39,8,33,12,"sourceFracIndexRC"],[39,25,33,29],[39,28,34,16],[39,87,34,75],[39,90,35,20],[39,104,35,34],[40,6,36,8],[40,7,36,9],[40,13,37,13],[41,8,38,12,"sourceFracIndexRC"],[41,25,38,29],[41,28,38,32],[41,73,38,77],[42,6,39,8],[43,6,40,8],[43,10,40,12],[43,11,40,13,"userCode"],[43,19,40,21],[43,22,40,24],[44,0,41,0],[45,0,42,0],[45,12,42,12,"effectiveInSize"],[45,27,42,27],[45,28,42,28],[45,29,42,29],[45,30,42,30],[45,33,42,33,"effectiveOutSize"],[45,49,42,49],[45,50,42,50],[45,51,42,51],[45,52,42,52],[46,0,43,0],[46,12,43,12,"effectiveInSize"],[46,27,43,27],[46,28,43,28],[46,29,43,29],[46,30,43,30],[46,33,43,33,"effectiveOutSize"],[46,49,43,49],[46,50,43,50],[46,51,43,51],[46,52,43,52],[47,0,44,0],[47,39,44,39,"oldHeight"],[47,48,44,48],[47,55,44,55,"oldWidth"],[47,63,44,63],[48,0,45,0],[49,0,46,0],[50,0,47,0],[51,0,48,0],[52,0,49,0],[53,0,50,0],[54,0,51,0],[55,0,52,0],[56,0,53,0],[56,35,53,35,"sourceFracIndexRC"],[56,52,53,52],[57,0,54,0],[58,0,55,0],[59,0,56,0],[60,0,57,0],[61,0,58,0],[62,0,59,0],[63,0,60,0],[64,0,61,0],[65,0,62,0],[66,0,63,0],[67,0,64,0],[68,0,65,0],[69,0,66,0],[70,0,67,0],[71,0,68,0],[72,0,69,0],[73,0,70,0],[74,0,71,0],[75,0,72,0],[76,0,73,0],[76,5,73,5],[77,4,74,4],[78,2,75,0],[79,0,75,1],[79,3]],"functionMap":{"names":["<global>","ResizeBilinearProgram","ResizeBilinearProgram#constructor"],"mappings":"AAA;OCgB;ICC;KDwD;CDC"},"hasCjsExports":false},"type":"js/module"}]}