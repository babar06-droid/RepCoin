{"dependencies":[{"name":"../tensor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":35,"index":738}}],"key":"WMLfGGsdvZMlkrkGI8GzpTNFZLU=","exportNames":["*"],"imports":1}},{"name":"../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":739},"end":{"line":18,"column":53,"index":792}}],"key":"UCKDOr/oOGi3nbD26ZhyAVW61qk=","exportNames":["*"],"imports":1}},{"name":"../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":793},"end":{"line":19,"column":32,"index":825}}],"key":"DTmef1GE5grNQfsvpIzpBlINy9c=","exportNames":["*"],"imports":1}},{"name":"./add","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":826},"end":{"line":20,"column":28,"index":854}}],"key":"YzBaFStBt+uixjzrdu0NxJdBO+o=","exportNames":["*"],"imports":1}},{"name":"./div","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":855},"end":{"line":21,"column":28,"index":883}}],"key":"pYfaOV/+1lJSlfGs5XBJc2icIU0=","exportNames":["*"],"imports":1}},{"name":"./dropout_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":884},"end":{"line":22,"column":47,"index":931}}],"key":"ZD+ZqHmiKL7bfNFMp0vPA/WNT+o=","exportNames":["*"],"imports":1}},{"name":"./floor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":932},"end":{"line":23,"column":32,"index":964}}],"key":"HDxpmE0DmLYa5pKqAp1+fnqloK0=","exportNames":["*"],"imports":1}},{"name":"./mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":965},"end":{"line":24,"column":28,"index":993}}],"key":"dGJcm1XT1xn6xqxUHy8IlN16LWU=","exportNames":["*"],"imports":1}},{"name":"./operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":994},"end":{"line":25,"column":33,"index":1027}}],"key":"lmmEAb6oR3TWnrsrETceKUovfkM=","exportNames":["*"],"imports":1}},{"name":"./random_uniform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":26,"column":0,"index":1028},"end":{"line":26,"column":49,"index":1077}}],"key":"5ceu/NyH/4wH+JtQX/pwNK2M1sY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"dropout\", {\n    enumerable: true,\n    get: function () {\n      return dropout;\n    }\n  });\n  var _tensor = require(_dependencyMap[0], \"../tensor\");\n  var _tensor_util_env = require(_dependencyMap[1], \"../tensor_util_env\");\n  var _util = require(_dependencyMap[2], \"../util\");\n  var util = _interopNamespace(_util);\n  var _add = require(_dependencyMap[3], \"./add\");\n  var _div = require(_dependencyMap[4], \"./div\");\n  var _dropout_util = require(_dependencyMap[5], \"./dropout_util\");\n  var _floor = require(_dependencyMap[6], \"./floor\");\n  var _mul = require(_dependencyMap[7], \"./mul\");\n  var _operation = require(_dependencyMap[8], \"./operation\");\n  var _random_uniform = require(_dependencyMap[9], \"./random_uniform\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Computes dropout.\n   *\n   * ```js\n   * const x = tf.tensor1d([1, 2, 2, 1]);\n   * const rate = 0.75;\n   * const output = tf.dropout(x, rate);\n   * output.print();\n   * ```\n   *\n   * @param x A floating point Tensor or TensorLike.\n   * @param rate A float in the range [0, 1). The probability that each element\n   *   of x is discarded.\n   * @param noiseShape An array of numbers of type int32, representing the\n   * shape for randomly generated keep/drop flags. If the noiseShape has null\n   * value, it will be automatically replaced with the x's relative dimension\n   * size. Optional.\n   * @param seed Used to create random seeds. Optional.\n   * @returns A Tensor of the same shape of x.\n   *\n   * @doc {heading: 'Operations', subheading: 'Dropout'}\n   */\n  function dropout_(x, rate, noiseShape, seed) {\n    const $x = (0, _tensor_util_env.convertToTensor)(x, 'x', 'dropout');\n    util.assert($x.dtype === 'float32', () => `x has to be a floating point tensor since it's going to be ` + `scaled, but got a ${$x.dtype} tensor instead.`);\n    util.assert(rate >= 0 && rate < 1, () => `rate must be a float in the range [0, 1), but got ${rate}.`);\n    if (rate === 0) {\n      return x instanceof _tensor.Tensor ? $x.clone() : $x;\n    }\n    const $noiseShape = (0, _dropout_util.getNoiseShape)($x, noiseShape);\n    const keepProb = 1 - rate;\n    const multiplier = (0, _div.div)((0, _floor.floor)((0, _add.add)((0, _random_uniform.randomUniform)($noiseShape, 0, 1, 'float32', seed), keepProb)), keepProb);\n    return (0, _mul.mul)($x, multiplier);\n  }\n  const dropout = /* @__PURE__ */(0, _operation.op)({\n    dropout_\n  });\n});","lineCount":93,"map":[[22,2,62,0,"Object"],[22,8,62,0],[22,9,62,0,"defineProperty"],[22,23,62,0],[22,24,62,0,"exports"],[22,31,62,0],[23,4,62,0,"enumerable"],[23,14,62,0],[24,4,62,0,"get"],[24,7,62,0],[24,18,62,0,"get"],[24,19,62,0],[25,6,62,0],[25,13,62,0,"dropout"],[25,20,62,0],[26,4,62,0],[27,2,62,0],[28,2,17,0],[28,6,17,0,"_tensor"],[28,13,17,0],[28,16,17,0,"require"],[28,23,17,0],[28,24,17,0,"_dependencyMap"],[28,38,17,0],[29,2,18,0],[29,6,18,0,"_tensor_util_env"],[29,22,18,0],[29,25,18,0,"require"],[29,32,18,0],[29,33,18,0,"_dependencyMap"],[29,47,18,0],[30,2,19,0],[30,6,19,0,"_util"],[30,11,19,0],[30,14,19,0,"require"],[30,21,19,0],[30,22,19,0,"_dependencyMap"],[30,36,19,0],[31,2,19,0],[31,6,19,0,"util"],[31,10,19,0],[31,13,19,0,"_interopNamespace"],[31,30,19,0],[31,31,19,0,"_util"],[31,36,19,0],[32,2,20,0],[32,6,20,0,"_add"],[32,10,20,0],[32,13,20,0,"require"],[32,20,20,0],[32,21,20,0,"_dependencyMap"],[32,35,20,0],[33,2,21,0],[33,6,21,0,"_div"],[33,10,21,0],[33,13,21,0,"require"],[33,20,21,0],[33,21,21,0,"_dependencyMap"],[33,35,21,0],[34,2,22,0],[34,6,22,0,"_dropout_util"],[34,19,22,0],[34,22,22,0,"require"],[34,29,22,0],[34,30,22,0,"_dependencyMap"],[34,44,22,0],[35,2,23,0],[35,6,23,0,"_floor"],[35,12,23,0],[35,15,23,0,"require"],[35,22,23,0],[35,23,23,0,"_dependencyMap"],[35,37,23,0],[36,2,24,0],[36,6,24,0,"_mul"],[36,10,24,0],[36,13,24,0,"require"],[36,20,24,0],[36,21,24,0,"_dependencyMap"],[36,35,24,0],[37,2,25,0],[37,6,25,0,"_operation"],[37,16,25,0],[37,19,25,0,"require"],[37,26,25,0],[37,27,25,0,"_dependencyMap"],[37,41,25,0],[38,2,26,0],[38,6,26,0,"_random_uniform"],[38,21,26,0],[38,24,26,0,"require"],[38,31,26,0],[38,32,26,0,"_dependencyMap"],[38,46,26,0],[39,2,1,0],[40,0,2,0],[41,0,3,0],[42,0,4,0],[43,0,5,0],[44,0,6,0],[45,0,7,0],[46,0,8,0],[47,0,9,0],[48,0,10,0],[49,0,11,0],[50,0,12,0],[51,0,13,0],[52,0,14,0],[53,0,15,0],[54,0,16,0],[56,2,27,0],[57,0,28,0],[58,0,29,0],[59,0,30,0],[60,0,31,0],[61,0,32,0],[62,0,33,0],[63,0,34,0],[64,0,35,0],[65,0,36,0],[66,0,37,0],[67,0,38,0],[68,0,39,0],[69,0,40,0],[70,0,41,0],[71,0,42,0],[72,0,43,0],[73,0,44,0],[74,0,45,0],[75,0,46,0],[76,0,47,0],[77,0,48,0],[78,2,49,0],[78,11,49,9,"dropout_"],[78,19,49,17,"dropout_"],[78,20,49,18,"x"],[78,21,49,19],[78,23,49,21,"rate"],[78,27,49,25],[78,29,49,27,"noiseShape"],[78,39,49,37],[78,41,49,39,"seed"],[78,45,49,43],[78,47,49,45],[79,4,50,4],[79,10,50,10,"$x"],[79,12,50,12],[79,15,50,15],[79,19,50,15,"convertToTensor"],[79,35,50,30],[79,36,50,30,"convertToTensor"],[79,51,50,30],[79,53,50,31,"x"],[79,54,50,32],[79,56,50,34],[79,59,50,37],[79,61,50,39],[79,70,50,48],[79,71,50,49],[80,4,51,4,"util"],[80,8,51,8],[80,9,51,9,"assert"],[80,15,51,15],[80,16,51,16,"$x"],[80,18,51,18],[80,19,51,19,"dtype"],[80,24,51,24],[80,29,51,29],[80,38,51,38],[80,40,51,40],[80,46,51,46],[80,107,51,107],[80,110,52,8],[80,131,52,29,"$x"],[80,133,52,31],[80,134,52,32,"dtype"],[80,139,52,37],[80,157,52,55],[80,158,52,56],[81,4,53,4,"util"],[81,8,53,8],[81,9,53,9,"assert"],[81,15,53,15],[81,16,53,16,"rate"],[81,20,53,20],[81,24,53,24],[81,25,53,25],[81,29,53,29,"rate"],[81,33,53,33],[81,36,53,36],[81,37,53,37],[81,39,53,39],[81,45,53,45],[81,98,53,98,"rate"],[81,102,53,102],[81,105,53,105],[81,106,53,106],[82,4,54,4],[82,8,54,8,"rate"],[82,12,54,12],[82,17,54,17],[82,18,54,18],[82,20,54,20],[83,6,55,8],[83,13,55,15,"x"],[83,14,55,16],[83,26,55,28,"Tensor"],[83,33,55,34],[83,34,55,34,"Tensor"],[83,40,55,34],[83,43,55,37,"$x"],[83,45,55,39],[83,46,55,40,"clone"],[83,51,55,45],[83,52,55,46],[83,53,55,47],[83,56,55,50,"$x"],[83,58,55,52],[84,4,56,4],[85,4,57,4],[85,10,57,10,"$noiseShape"],[85,21,57,21],[85,24,57,24],[85,28,57,24,"getNoiseShape"],[85,41,57,37],[85,42,57,37,"getNoiseShape"],[85,55,57,37],[85,57,57,38,"$x"],[85,59,57,40],[85,61,57,42,"noiseShape"],[85,71,57,52],[85,72,57,53],[86,4,58,4],[86,10,58,10,"keepProb"],[86,18,58,18],[86,21,58,21],[86,22,58,22],[86,25,58,25,"rate"],[86,29,58,29],[87,4,59,4],[87,10,59,10,"multiplier"],[87,20,59,20],[87,23,59,23],[87,27,59,23,"div"],[87,31,59,26],[87,32,59,26,"div"],[87,35,59,26],[87,37,59,27],[87,41,59,27,"floor"],[87,47,59,32],[87,48,59,32,"floor"],[87,53,59,32],[87,55,59,33],[87,59,59,33,"add"],[87,63,59,36],[87,64,59,36,"add"],[87,67,59,36],[87,69,59,37],[87,73,59,37,"randomUniform"],[87,88,59,50],[87,89,59,50,"randomUniform"],[87,102,59,50],[87,104,59,51,"$noiseShape"],[87,115,59,62],[87,117,59,64],[87,118,59,65],[87,120,59,67],[87,121,59,68],[87,123,59,70],[87,132,59,79],[87,134,59,81,"seed"],[87,138,59,85],[87,139,59,86],[87,141,59,88,"keepProb"],[87,149,59,96],[87,150,59,97],[87,151,59,98],[87,153,59,100,"keepProb"],[87,161,59,108],[87,162,59,109],[88,4,60,4],[88,11,60,11],[88,15,60,11,"mul"],[88,19,60,14],[88,20,60,14,"mul"],[88,23,60,14],[88,25,60,15,"$x"],[88,27,60,17],[88,29,60,19,"multiplier"],[88,39,60,29],[88,40,60,30],[89,2,61,0],[90,2,62,7],[90,8,62,13,"dropout"],[90,15,62,20],[90,18,62,23],[90,33,62,39],[90,37,62,39,"op"],[90,47,62,41],[90,48,62,41,"op"],[90,50,62,41],[90,52,62,42],[91,4,62,44,"dropout_"],[92,2,62,53],[92,3,62,54],[92,4,62,55],[93,0,62,56],[93,3]],"functionMap":{"names":["<global>","dropout_","util.assert$argument_1"],"mappings":"AAA;ACgD;wCCE;uDDC;uCCC,kED;CDQ"},"hasCjsExports":false},"type":"js/module"}]}