{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":54,"index":757}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":758},"end":{"line":18,"column":56,"index":814}}],"key":"CVwRbjYdqWL6dY8IjQhktuU2qeQ=","exportNames":["*"],"imports":1}},{"name":"../webgl_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":815},"end":{"line":19,"column":46,"index":861}}],"key":"ncDHHGbl4bcWXn1xvuTmTBPdfzY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.reshape = reshape;\n  Object.defineProperty(exports, \"reshapeConfig\", {\n    enumerable: true,\n    get: function () {\n      return reshapeConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _kernel_utilsReshape = require(_dependencyMap[1], \"../kernel_utils/reshape\");\n  var _webgl_util = require(_dependencyMap[2], \"../webgl_util\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function reshape(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      shape\n    } = attrs;\n    const webglBackend = backend;\n    const xSize = _tensorflowTfjsCore.util.sizeFromShape(x.shape);\n    const $shape = _tensorflowTfjsCore.util.inferFromImplicitShape(shape, xSize);\n    const $xSize = _tensorflowTfjsCore.util.sizeFromShape($shape);\n    _tensorflowTfjsCore.util.assert(xSize === $xSize, () => `The new shape (${$shape}) has ${$xSize} elements and the old ` + `shape (${x.shape}) has ${xSize} elements. The new shape and old ` + `shape must have the same number of elements.`);\n    const xTexData = webglBackend.texData.get(x.dataId);\n    if (xTexData.isPacked && !(0, _webgl_util.isReshapeFree)(x.shape, $shape) && !(xTexData.texture !== null && (0, _webgl_util.isReshapeFree)(xTexData.shape, $shape))) {\n      return (0, _kernel_utilsReshape.packedReshape)(x, $shape, webglBackend);\n    }\n    webglBackend.incRef(x.dataId);\n    return {\n      dataId: x.dataId,\n      shape: $shape,\n      dtype: x.dtype\n    };\n  }\n  const reshapeConfig = {\n    kernelName: _tensorflowTfjsCore.Reshape,\n    backendName: 'webgl',\n    kernelFunc: reshape\n  };\n});","lineCount":67,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"reshape"],[7,17,20,0],[7,20,20,0,"reshape"],[7,27,20,0],[8,2,39,0,"Object"],[8,8,39,0],[8,9,39,0,"defineProperty"],[8,23,39,0],[8,24,39,0,"exports"],[8,31,39,0],[9,4,39,0,"enumerable"],[9,14,39,0],[10,4,39,0,"get"],[10,7,39,0],[10,18,39,0,"get"],[10,19,39,0],[11,6,39,0],[11,13,39,0,"reshapeConfig"],[11,26,39,0],[12,4,39,0],[13,2,39,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_kernel_utilsReshape"],[15,26,18,0],[15,29,18,0,"require"],[15,36,18,0],[15,37,18,0,"_dependencyMap"],[15,51,18,0],[16,2,19,0],[16,6,19,0,"_webgl_util"],[16,17,19,0],[16,20,19,0,"require"],[16,27,19,0],[16,28,19,0,"_dependencyMap"],[16,42,19,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[34,2,20,7],[34,11,20,16,"reshape"],[34,18,20,23,"reshape"],[34,19,20,24,"args"],[34,23,20,28],[34,25,20,30],[35,4,21,4],[35,10,21,10],[36,6,21,12,"inputs"],[36,12,21,18],[37,6,21,20,"backend"],[37,13,21,27],[38,6,21,29,"attrs"],[39,4,21,35],[39,5,21,36],[39,8,21,39,"args"],[39,12,21,43],[40,4,22,4],[40,10,22,10],[41,6,22,12,"x"],[42,4,22,14],[42,5,22,15],[42,8,22,18,"inputs"],[42,14,22,24],[43,4,23,4],[43,10,23,10],[44,6,23,12,"shape"],[45,4,23,18],[45,5,23,19],[45,8,23,22,"attrs"],[45,13,23,27],[46,4,24,4],[46,10,24,10,"webglBackend"],[46,22,24,22],[46,25,24,25,"backend"],[46,32,24,32],[47,4,25,4],[47,10,25,10,"xSize"],[47,15,25,15],[47,18,25,18,"util"],[47,37,25,22],[47,38,25,22,"util"],[47,42,25,22],[47,43,25,23,"sizeFromShape"],[47,56,25,36],[47,57,25,37,"x"],[47,58,25,38],[47,59,25,39,"shape"],[47,64,25,44],[47,65,25,45],[48,4,26,4],[48,10,26,10,"$shape"],[48,16,26,16],[48,19,26,19,"util"],[48,38,26,23],[48,39,26,23,"util"],[48,43,26,23],[48,44,26,24,"inferFromImplicitShape"],[48,66,26,46],[48,67,26,47,"shape"],[48,72,26,52],[48,74,26,54,"xSize"],[48,79,26,59],[48,80,26,60],[49,4,27,4],[49,10,27,10,"$xSize"],[49,16,27,16],[49,19,27,19,"util"],[49,38,27,23],[49,39,27,23,"util"],[49,43,27,23],[49,44,27,24,"sizeFromShape"],[49,57,27,37],[49,58,27,38,"$shape"],[49,64,27,44],[49,65,27,45],[50,4,28,4,"util"],[50,23,28,8],[50,24,28,8,"util"],[50,28,28,8],[50,29,28,9,"assert"],[50,35,28,15],[50,36,28,16,"xSize"],[50,41,28,21],[50,46,28,26,"$xSize"],[50,52,28,32],[50,54,28,34],[50,60,28,40],[50,78,28,58,"$shape"],[50,84,28,64],[50,93,28,73,"$xSize"],[50,99,28,79],[50,123,28,103],[50,126,29,8],[50,136,29,18,"x"],[50,137,29,19],[50,138,29,20,"shape"],[50,143,29,25],[50,152,29,34,"xSize"],[50,157,29,39],[50,192,29,74],[50,195,30,8],[50,241,30,54],[50,242,30,55],[51,4,31,4],[51,10,31,10,"xTexData"],[51,18,31,18],[51,21,31,21,"webglBackend"],[51,33,31,33],[51,34,31,34,"texData"],[51,41,31,41],[51,42,31,42,"get"],[51,45,31,45],[51,46,31,46,"x"],[51,47,31,47],[51,48,31,48,"dataId"],[51,54,31,54],[51,55,31,55],[52,4,32,4],[52,8,32,8,"xTexData"],[52,16,32,16],[52,17,32,17,"isPacked"],[52,25,32,25],[52,29,32,29],[52,30,32,30],[52,34,32,30,"isReshapeFree"],[52,45,32,43],[52,46,32,43,"isReshapeFree"],[52,59,32,43],[52,61,32,44,"x"],[52,62,32,45],[52,63,32,46,"shape"],[52,68,32,51],[52,70,32,53,"$shape"],[52,76,32,59],[52,77,32,60],[52,81,33,8],[52,83,33,10,"xTexData"],[52,91,33,18],[52,92,33,19,"texture"],[52,99,33,26],[52,104,33,31],[52,108,33,35],[52,112,33,39],[52,116,33,39,"isReshapeFree"],[52,127,33,52],[52,128,33,52,"isReshapeFree"],[52,141,33,52],[52,143,33,53,"xTexData"],[52,151,33,61],[52,152,33,62,"shape"],[52,157,33,67],[52,159,33,69,"$shape"],[52,165,33,75],[52,166,33,76],[52,167,33,77],[52,169,33,79],[53,6,34,8],[53,13,34,15],[53,17,34,15,"packedReshape"],[53,37,34,28],[53,38,34,28,"packedReshape"],[53,51,34,28],[53,53,34,29,"x"],[53,54,34,30],[53,56,34,32,"$shape"],[53,62,34,38],[53,64,34,40,"webglBackend"],[53,76,34,52],[53,77,34,53],[54,4,35,4],[55,4,36,4,"webglBackend"],[55,16,36,16],[55,17,36,17,"incRef"],[55,23,36,23],[55,24,36,24,"x"],[55,25,36,25],[55,26,36,26,"dataId"],[55,32,36,32],[55,33,36,33],[56,4,37,4],[56,11,37,11],[57,6,37,13,"dataId"],[57,12,37,19],[57,14,37,21,"x"],[57,15,37,22],[57,16,37,23,"dataId"],[57,22,37,29],[58,6,37,31,"shape"],[58,11,37,36],[58,13,37,38,"$shape"],[58,19,37,44],[59,6,37,46,"dtype"],[59,11,37,51],[59,13,37,53,"x"],[59,14,37,54],[59,15,37,55,"dtype"],[60,4,37,61],[60,5,37,62],[61,2,38,0],[62,2,39,7],[62,8,39,13,"reshapeConfig"],[62,21,39,26],[62,24,39,29],[63,4,40,4,"kernelName"],[63,14,40,14],[63,16,40,16,"Reshape"],[63,35,40,23],[63,36,40,23,"Reshape"],[63,43,40,23],[64,4,41,4,"backendName"],[64,15,41,15],[64,17,41,17],[64,24,41,24],[65,4,42,4,"kernelFunc"],[65,14,42,14],[65,16,42,16,"reshape"],[66,2,43,0],[66,3,43,1],[67,0,43,2],[67,3]],"functionMap":{"names":["<global>","reshape","util.assert$argument_1"],"mappings":"AAA;OCmB;kCCQ;sDDE;CDQ"},"hasCjsExports":false},"type":"js/module"}]}