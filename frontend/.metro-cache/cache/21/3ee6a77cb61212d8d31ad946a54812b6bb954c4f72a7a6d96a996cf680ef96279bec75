{"dependencies":[{"name":"../../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":56,"index":759}}],"key":"xfSGNGkCJdZhfQ673y/6d+no2yU=","exportNames":["*"],"imports":1}},{"name":"../../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":760},"end":{"line":18,"column":47,"index":807}}],"key":"OiLVMoS12Mp3xgHkQeTdnQIBX6Q=","exportNames":["*"],"imports":1}},{"name":"../abs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":808},"end":{"line":19,"column":29,"index":837}}],"key":"Nl0FY0FYJAJat87d2xJ8W/Uz/QE=","exportNames":["*"],"imports":1}},{"name":"../loss_ops_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":838},"end":{"line":20,"column":46,"index":884}}],"key":"DAPyQ0ldu7pmRn3jRz+wBfmq/uQ=","exportNames":["*"],"imports":1}},{"name":"../operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":885},"end":{"line":21,"column":34,"index":919}}],"key":"fQilPqfSvhAHjyfKT0P4wel7jE4=","exportNames":["*"],"imports":1}},{"name":"../sub","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":920},"end":{"line":22,"column":29,"index":949}}],"key":"VHM5JuAkEzgPhqMJH9y/GvrNozc=","exportNames":["*"],"imports":1}},{"name":"./compute_weighted_loss","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":950},"end":{"line":23,"column":62,"index":1012}}],"key":"GQ6sNEw27lLpLYC7mByWPpwMOcY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"absoluteDifference\", {\n    enumerable: true,\n    get: function () {\n      return absoluteDifference;\n    }\n  });\n  var _tensor_util_env = require(_dependencyMap[0], \"../../tensor_util_env\");\n  var _util = require(_dependencyMap[1], \"../../util\");\n  var _abs = require(_dependencyMap[2], \"../abs\");\n  var _loss_ops_utils = require(_dependencyMap[3], \"../loss_ops_utils\");\n  var _operation = require(_dependencyMap[4], \"../operation\");\n  var _sub = require(_dependencyMap[5], \"../sub\");\n  var _compute_weighted_loss = require(_dependencyMap[6], \"./compute_weighted_loss\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Computes the absolute difference loss between two tensors.\n   *\n   * @param labels The ground truth output tensor, same dimensions as\n   *    'predictions'.\n   * @param predictions The predicted outputs.\n   * @param weights Tensor whose rank is either 0, or the same rank as\n   *    `labels`, and must be broadcastable to `labels` (i.e., all dimensions\n   *    must be either `1`, or the same as the corresponding `losses`\n   *    dimension).\n   * @param reduction Type of reduction to apply to loss. Should be of type\n   *    `Reduction`\n   *\n   * @doc {heading: 'Training', subheading: 'Losses', namespace: 'losses'}\n   */\n  function absoluteDifference_(labels, predictions, weights, reduction = _loss_ops_utils.Reduction.SUM_BY_NONZERO_WEIGHTS) {\n    const $labels = (0, _tensor_util_env.convertToTensor)(labels, 'labels', 'absoluteDifference');\n    const $predictions = (0, _tensor_util_env.convertToTensor)(predictions, 'predictions', 'absoluteDifference');\n    let $weights = null;\n    if (weights != null) {\n      $weights = (0, _tensor_util_env.convertToTensor)(weights, 'weights', 'absoluteDifference');\n    }\n    (0, _util.assertShapesMatch)($labels.shape, $predictions.shape, 'Error in absoluteDifference: ');\n    const losses = (0, _abs.abs)((0, _sub.sub)($labels, $predictions));\n    return (0, _compute_weighted_loss.computeWeightedLoss)(losses, $weights, reduction);\n  }\n  const absoluteDifference = /* @__PURE__ */(0, _operation.op)({\n    absoluteDifference_\n  });\n});","lineCount":66,"map":[[7,2,50,0,"Object"],[7,8,50,0],[7,9,50,0,"defineProperty"],[7,23,50,0],[7,24,50,0,"exports"],[7,31,50,0],[8,4,50,0,"enumerable"],[8,14,50,0],[9,4,50,0,"get"],[9,7,50,0],[9,18,50,0,"get"],[9,19,50,0],[10,6,50,0],[10,13,50,0,"absoluteDifference"],[10,31,50,0],[11,4,50,0],[12,2,50,0],[13,2,17,0],[13,6,17,0,"_tensor_util_env"],[13,22,17,0],[13,25,17,0,"require"],[13,32,17,0],[13,33,17,0,"_dependencyMap"],[13,47,17,0],[14,2,18,0],[14,6,18,0,"_util"],[14,11,18,0],[14,14,18,0,"require"],[14,21,18,0],[14,22,18,0,"_dependencyMap"],[14,36,18,0],[15,2,19,0],[15,6,19,0,"_abs"],[15,10,19,0],[15,13,19,0,"require"],[15,20,19,0],[15,21,19,0,"_dependencyMap"],[15,35,19,0],[16,2,20,0],[16,6,20,0,"_loss_ops_utils"],[16,21,20,0],[16,24,20,0,"require"],[16,31,20,0],[16,32,20,0,"_dependencyMap"],[16,46,20,0],[17,2,21,0],[17,6,21,0,"_operation"],[17,16,21,0],[17,19,21,0,"require"],[17,26,21,0],[17,27,21,0,"_dependencyMap"],[17,41,21,0],[18,2,22,0],[18,6,22,0,"_sub"],[18,10,22,0],[18,13,22,0,"require"],[18,20,22,0],[18,21,22,0,"_dependencyMap"],[18,35,22,0],[19,2,23,0],[19,6,23,0,"_compute_weighted_loss"],[19,28,23,0],[19,31,23,0,"require"],[19,38,23,0],[19,39,23,0,"_dependencyMap"],[19,53,23,0],[20,2,1,0],[21,0,2,0],[22,0,3,0],[23,0,4,0],[24,0,5,0],[25,0,6,0],[26,0,7,0],[27,0,8,0],[28,0,9,0],[29,0,10,0],[30,0,11,0],[31,0,12,0],[32,0,13,0],[33,0,14,0],[34,0,15,0],[35,0,16,0],[37,2,24,0],[38,0,25,0],[39,0,26,0],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,2,39,0],[52,11,39,9,"absoluteDifference_"],[52,30,39,28,"absoluteDifference_"],[52,31,39,29,"labels"],[52,37,39,35],[52,39,39,37,"predictions"],[52,50,39,48],[52,52,39,50,"weights"],[52,59,39,57],[52,61,39,59,"reduction"],[52,70,39,68],[52,73,39,71,"Reduction"],[52,88,39,80],[52,89,39,80,"Reduction"],[52,98,39,80],[52,99,39,81,"SUM_BY_NONZERO_WEIGHTS"],[52,121,39,103],[52,123,39,105],[53,4,40,4],[53,10,40,10,"$labels"],[53,17,40,17],[53,20,40,20],[53,24,40,20,"convertToTensor"],[53,40,40,35],[53,41,40,35,"convertToTensor"],[53,56,40,35],[53,58,40,36,"labels"],[53,64,40,42],[53,66,40,44],[53,74,40,52],[53,76,40,54],[53,96,40,74],[53,97,40,75],[54,4,41,4],[54,10,41,10,"$predictions"],[54,22,41,22],[54,25,41,25],[54,29,41,25,"convertToTensor"],[54,45,41,40],[54,46,41,40,"convertToTensor"],[54,61,41,40],[54,63,41,41,"predictions"],[54,74,41,52],[54,76,41,54],[54,89,41,67],[54,91,41,69],[54,111,41,89],[54,112,41,90],[55,4,42,4],[55,8,42,8,"$weights"],[55,16,42,16],[55,19,42,19],[55,23,42,23],[56,4,43,4],[56,8,43,8,"weights"],[56,15,43,15],[56,19,43,19],[56,23,43,23],[56,25,43,25],[57,6,44,8,"$weights"],[57,14,44,16],[57,17,44,19],[57,21,44,19,"convertToTensor"],[57,37,44,34],[57,38,44,34,"convertToTensor"],[57,53,44,34],[57,55,44,35,"weights"],[57,62,44,42],[57,64,44,44],[57,73,44,53],[57,75,44,55],[57,95,44,75],[57,96,44,76],[58,4,45,4],[59,4,46,4],[59,8,46,4,"assertShapesMatch"],[59,13,46,21],[59,14,46,21,"assertShapesMatch"],[59,31,46,21],[59,33,46,22,"$labels"],[59,40,46,29],[59,41,46,30,"shape"],[59,46,46,35],[59,48,46,37,"$predictions"],[59,60,46,49],[59,61,46,50,"shape"],[59,66,46,55],[59,68,46,57],[59,99,46,88],[59,100,46,89],[60,4,47,4],[60,10,47,10,"losses"],[60,16,47,16],[60,19,47,19],[60,23,47,19,"abs"],[60,27,47,22],[60,28,47,22,"abs"],[60,31,47,22],[60,33,47,23],[60,37,47,23,"sub"],[60,41,47,26],[60,42,47,26,"sub"],[60,45,47,26],[60,47,47,27,"$labels"],[60,54,47,34],[60,56,47,36,"$predictions"],[60,68,47,48],[60,69,47,49],[60,70,47,50],[61,4,48,4],[61,11,48,11],[61,15,48,11,"computeWeightedLoss"],[61,37,48,30],[61,38,48,30,"computeWeightedLoss"],[61,57,48,30],[61,59,48,31,"losses"],[61,65,48,37],[61,67,48,39,"$weights"],[61,75,48,47],[61,77,48,49,"reduction"],[61,86,48,58],[61,87,48,59],[62,2,49,0],[63,2,50,7],[63,8,50,13,"absoluteDifference"],[63,26,50,31],[63,29,50,34],[63,44,50,50],[63,48,50,50,"op"],[63,58,50,52],[63,59,50,52,"op"],[63,61,50,52],[63,63,50,53],[64,4,50,55,"absoluteDifference_"],[65,2,50,75],[65,3,50,76],[65,4,50,77],[66,0,50,78],[66,3]],"functionMap":{"names":["<global>","absoluteDifference_"],"mappings":"AAA;ACsC;CDU"},"hasCjsExports":false},"type":"js/module"}]}