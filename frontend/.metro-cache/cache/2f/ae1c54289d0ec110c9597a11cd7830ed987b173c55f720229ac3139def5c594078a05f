{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":59,"index":762}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.depthToSpace = depthToSpace;\n  Object.defineProperty(exports, \"depthToSpaceConfig\", {\n    enumerable: true,\n    get: function () {\n      return depthToSpaceConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function depthToSpace(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      blockSize,\n      dataFormat\n    } = attrs;\n    _tensorflowTfjsCore.util.assert(dataFormat === 'NHWC', () => `Only NHWC dataFormat supported on CPU for depthToSpace. Got ${dataFormat}`);\n    const batchSize = x.shape[0];\n    const inputHeight = x.shape[1];\n    const inputWidth = x.shape[2];\n    const inputDepth = x.shape[3];\n    const outputHeight = inputHeight * blockSize;\n    const outputWidth = inputWidth * blockSize;\n    const outputDepth = inputDepth / (blockSize * blockSize);\n    const xValues = backend.data.get(x.dataId).values;\n    const result = new Float32Array(batchSize * outputHeight * outputWidth * outputDepth);\n    let outputIdx = 0;\n    for (let b = 0; b < batchSize; ++b) {\n      for (let h = 0; h < outputHeight; ++h) {\n        const inH = Math.floor(h / blockSize);\n        const offsetH = h % blockSize;\n        for (let w = 0; w < outputWidth; ++w) {\n          const inW = Math.floor(w / blockSize);\n          const offsetW = w % blockSize;\n          const offsetD = (offsetH * blockSize + offsetW) * outputDepth;\n          for (let d = 0; d < outputDepth; ++d) {\n            const inD = d + offsetD;\n            const inputIdx = inD + inputDepth * (inW + inputWidth * (inH + inputHeight * b));\n            result[outputIdx++] = xValues[inputIdx];\n          }\n        }\n      }\n    }\n    return backend.makeTensorInfo([batchSize, outputHeight, outputWidth, outputDepth], x.dtype, result);\n  }\n  const depthToSpaceConfig = {\n    kernelName: _tensorflowTfjsCore.DepthToSpace,\n    backendName: 'cpu',\n    kernelFunc: depthToSpace\n  };\n});","lineCount":79,"map":[[7,2,18,0,"exports"],[7,9,18,0],[7,10,18,0,"depthToSpace"],[7,22,18,0],[7,25,18,0,"depthToSpace"],[7,37,18,0],[8,2,51,0,"Object"],[8,8,51,0],[8,9,51,0,"defineProperty"],[8,23,51,0],[8,24,51,0,"exports"],[8,31,51,0],[9,4,51,0,"enumerable"],[9,14,51,0],[10,4,51,0,"get"],[10,7,51,0],[10,18,51,0,"get"],[10,19,51,0],[11,6,51,0],[11,13,51,0,"depthToSpaceConfig"],[11,31,51,0],[12,4,51,0],[13,2,51,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[32,2,18,7],[32,11,18,16,"depthToSpace"],[32,23,18,28,"depthToSpace"],[32,24,18,29,"args"],[32,28,18,33],[32,30,18,35],[33,4,19,4],[33,10,19,10],[34,6,19,12,"inputs"],[34,12,19,18],[35,6,19,20,"backend"],[35,13,19,27],[36,6,19,29,"attrs"],[37,4,19,35],[37,5,19,36],[37,8,19,39,"args"],[37,12,19,43],[38,4,20,4],[38,10,20,10],[39,6,20,12,"x"],[40,4,20,14],[40,5,20,15],[40,8,20,18,"inputs"],[40,14,20,24],[41,4,21,4],[41,10,21,10],[42,6,21,12,"blockSize"],[42,15,21,21],[43,6,21,23,"dataFormat"],[44,4,21,34],[44,5,21,35],[44,8,21,38,"attrs"],[44,13,21,43],[45,4,22,4,"util"],[45,23,22,8],[45,24,22,8,"util"],[45,28,22,8],[45,29,22,9,"assert"],[45,35,22,15],[45,36,22,16,"dataFormat"],[45,46,22,26],[45,51,22,31],[45,57,22,37],[45,59,22,39],[45,65,22,45],[45,128,22,108,"dataFormat"],[45,138,22,118],[45,140,22,120],[45,141,22,121],[46,4,23,4],[46,10,23,10,"batchSize"],[46,19,23,19],[46,22,23,22,"x"],[46,23,23,23],[46,24,23,24,"shape"],[46,29,23,29],[46,30,23,30],[46,31,23,31],[46,32,23,32],[47,4,24,4],[47,10,24,10,"inputHeight"],[47,21,24,21],[47,24,24,24,"x"],[47,25,24,25],[47,26,24,26,"shape"],[47,31,24,31],[47,32,24,32],[47,33,24,33],[47,34,24,34],[48,4,25,4],[48,10,25,10,"inputWidth"],[48,20,25,20],[48,23,25,23,"x"],[48,24,25,24],[48,25,25,25,"shape"],[48,30,25,30],[48,31,25,31],[48,32,25,32],[48,33,25,33],[49,4,26,4],[49,10,26,10,"inputDepth"],[49,20,26,20],[49,23,26,23,"x"],[49,24,26,24],[49,25,26,25,"shape"],[49,30,26,30],[49,31,26,31],[49,32,26,32],[49,33,26,33],[50,4,27,4],[50,10,27,10,"outputHeight"],[50,22,27,22],[50,25,27,25,"inputHeight"],[50,36,27,36],[50,39,27,39,"blockSize"],[50,48,27,48],[51,4,28,4],[51,10,28,10,"outputWidth"],[51,21,28,21],[51,24,28,24,"inputWidth"],[51,34,28,34],[51,37,28,37,"blockSize"],[51,46,28,46],[52,4,29,4],[52,10,29,10,"outputDepth"],[52,21,29,21],[52,24,29,24,"inputDepth"],[52,34,29,34],[52,38,29,38,"blockSize"],[52,47,29,47],[52,50,29,50,"blockSize"],[52,59,29,59],[52,60,29,60],[53,4,30,4],[53,10,30,10,"xValues"],[53,17,30,17],[53,20,30,20,"backend"],[53,27,30,27],[53,28,30,28,"data"],[53,32,30,32],[53,33,30,33,"get"],[53,36,30,36],[53,37,30,37,"x"],[53,38,30,38],[53,39,30,39,"dataId"],[53,45,30,45],[53,46,30,46],[53,47,30,47,"values"],[53,53,30,53],[54,4,31,4],[54,10,31,10,"result"],[54,16,31,16],[54,19,31,19],[54,23,31,23,"Float32Array"],[54,35,31,35],[54,36,31,36,"batchSize"],[54,45,31,45],[54,48,31,48,"outputHeight"],[54,60,31,60],[54,63,31,63,"outputWidth"],[54,74,31,74],[54,77,31,77,"outputDepth"],[54,88,31,88],[54,89,31,89],[55,4,32,4],[55,8,32,8,"outputIdx"],[55,17,32,17],[55,20,32,20],[55,21,32,21],[56,4,33,4],[56,9,33,9],[56,13,33,13,"b"],[56,14,33,14],[56,17,33,17],[56,18,33,18],[56,20,33,20,"b"],[56,21,33,21],[56,24,33,24,"batchSize"],[56,33,33,33],[56,35,33,35],[56,37,33,37,"b"],[56,38,33,38],[56,40,33,40],[57,6,34,8],[57,11,34,13],[57,15,34,17,"h"],[57,16,34,18],[57,19,34,21],[57,20,34,22],[57,22,34,24,"h"],[57,23,34,25],[57,26,34,28,"outputHeight"],[57,38,34,40],[57,40,34,42],[57,42,34,44,"h"],[57,43,34,45],[57,45,34,47],[58,8,35,12],[58,14,35,18,"inH"],[58,17,35,21],[58,20,35,24,"Math"],[58,24,35,28],[58,25,35,29,"floor"],[58,30,35,34],[58,31,35,35,"h"],[58,32,35,36],[58,35,35,39,"blockSize"],[58,44,35,48],[58,45,35,49],[59,8,36,12],[59,14,36,18,"offsetH"],[59,21,36,25],[59,24,36,29,"h"],[59,25,36,30],[59,28,36,33,"blockSize"],[59,37,36,43],[60,8,37,12],[60,13,37,17],[60,17,37,21,"w"],[60,18,37,22],[60,21,37,25],[60,22,37,26],[60,24,37,28,"w"],[60,25,37,29],[60,28,37,32,"outputWidth"],[60,39,37,43],[60,41,37,45],[60,43,37,47,"w"],[60,44,37,48],[60,46,37,50],[61,10,38,16],[61,16,38,22,"inW"],[61,19,38,25],[61,22,38,28,"Math"],[61,26,38,32],[61,27,38,33,"floor"],[61,32,38,38],[61,33,38,39,"w"],[61,34,38,40],[61,37,38,43,"blockSize"],[61,46,38,52],[61,47,38,53],[62,10,39,16],[62,16,39,22,"offsetW"],[62,23,39,29],[62,26,39,33,"w"],[62,27,39,34],[62,30,39,37,"blockSize"],[62,39,39,47],[63,10,40,16],[63,16,40,22,"offsetD"],[63,23,40,29],[63,26,40,32],[63,27,40,33,"offsetH"],[63,34,40,40],[63,37,40,43,"blockSize"],[63,46,40,52],[63,49,40,55,"offsetW"],[63,56,40,62],[63,60,40,66,"outputDepth"],[63,71,40,77],[64,10,41,16],[64,15,41,21],[64,19,41,25,"d"],[64,20,41,26],[64,23,41,29],[64,24,41,30],[64,26,41,32,"d"],[64,27,41,33],[64,30,41,36,"outputDepth"],[64,41,41,47],[64,43,41,49],[64,45,41,51,"d"],[64,46,41,52],[64,48,41,54],[65,12,42,20],[65,18,42,26,"inD"],[65,21,42,29],[65,24,42,32,"d"],[65,25,42,33],[65,28,42,36,"offsetD"],[65,35,42,43],[66,12,43,20],[66,18,43,26,"inputIdx"],[66,26,43,34],[66,29,43,37,"inD"],[66,32,43,40],[66,35,43,43,"inputDepth"],[66,45,43,53],[66,49,43,57,"inW"],[66,52,43,60],[66,55,43,63,"inputWidth"],[66,65,43,73],[66,69,43,77,"inH"],[66,72,43,80],[66,75,43,83,"inputHeight"],[66,86,43,94],[66,89,43,97,"b"],[66,90,43,98],[66,91,43,99],[66,92,43,100],[67,12,44,20,"result"],[67,18,44,26],[67,19,44,27,"outputIdx"],[67,28,44,36],[67,30,44,38],[67,31,44,39],[67,34,44,42,"xValues"],[67,41,44,49],[67,42,44,50,"inputIdx"],[67,50,44,58],[67,51,44,59],[68,10,45,16],[69,8,46,12],[70,6,47,8],[71,4,48,4],[72,4,49,4],[72,11,49,11,"backend"],[72,18,49,18],[72,19,49,19,"makeTensorInfo"],[72,33,49,33],[72,34,49,34],[72,35,49,35,"batchSize"],[72,44,49,44],[72,46,49,46,"outputHeight"],[72,58,49,58],[72,60,49,60,"outputWidth"],[72,71,49,71],[72,73,49,73,"outputDepth"],[72,84,49,84],[72,85,49,85],[72,87,49,87,"x"],[72,88,49,88],[72,89,49,89,"dtype"],[72,94,49,94],[72,96,49,96,"result"],[72,102,49,102],[72,103,49,103],[73,2,50,0],[74,2,51,7],[74,8,51,13,"depthToSpaceConfig"],[74,26,51,31],[74,29,51,34],[75,4,52,4,"kernelName"],[75,14,52,14],[75,16,52,16,"DepthToSpace"],[75,35,52,28],[75,36,52,28,"DepthToSpace"],[75,48,52,28],[76,4,53,4,"backendName"],[76,15,53,15],[76,17,53,17],[76,22,53,22],[77,4,54,4,"kernelFunc"],[77,14,54,14],[77,16,54,16,"depthToSpace"],[78,2,55,0],[78,3,55,1],[79,0,55,2],[79,3]],"functionMap":{"names":["<global>","depthToSpace","util.assert$argument_1"],"mappings":"AAA;OCiB;uCCI,iFD;CD4B"},"hasCjsExports":false},"type":"js/module"}]}