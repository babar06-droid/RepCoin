{"dependencies":[{"name":"../ops/axis_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":46,"index":749}}],"key":"ex3cQAv0FEp8n8x5277qsqM7rtE=","exportNames":["*"],"imports":1}},{"name":"../ops/cast","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":750},"end":{"line":18,"column":35,"index":785}}],"key":"WivC6qgff7NU+wGToo3tfKFUEPo=","exportNames":["*"],"imports":1}},{"name":"../ops/equal","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":786},"end":{"line":19,"column":37,"index":823}}],"key":"Cd56qQrh42vUCpSMcho+0B2vDeg=","exportNames":["*"],"imports":1}},{"name":"../ops/mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":824},"end":{"line":20,"column":33,"index":857}}],"key":"8VMM/o0r3nOvGtT2jgKf2KxknFk=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":858},"end":{"line":21,"column":41,"index":899}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.gradForMinAndMax = gradForMinAndMax;\n  var _opsAxis_util = require(_dependencyMap[0], \"../ops/axis_util\");\n  var axis_util = _interopNamespace(_opsAxis_util);\n  var _opsCast = require(_dependencyMap[1], \"../ops/cast\");\n  var _opsEqual = require(_dependencyMap[2], \"../ops/equal\");\n  var _opsMul = require(_dependencyMap[3], \"../ops/mul\");\n  var _opsReshape = require(_dependencyMap[4], \"../ops/reshape\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Gradient helper function for the min and max operations.\n   */\n  function gradForMinAndMax(dy, y, xOrig, origAxes) {\n    if (y.rank < xOrig.rank) {\n      y = (0, _opsReshape.reshape)(y, axis_util.expandShapeToKeepDim(y.shape, origAxes));\n    }\n    if (dy.rank < xOrig.rank) {\n      dy = (0, _opsReshape.reshape)(dy, axis_util.expandShapeToKeepDim(dy.shape, origAxes));\n    }\n    return {\n      x: () => {\n        const dx = (0, _opsMul.mul)(dy, (0, _opsCast.cast)((0, _opsEqual.equal)(xOrig, y), dy.dtype));\n        return dx;\n      }\n    };\n  }\n});","lineCount":63,"map":[[22,2,25,0,"exports"],[22,9,25,0],[22,10,25,0,"gradForMinAndMax"],[22,26,25,0],[22,29,25,0,"gradForMinAndMax"],[22,45,25,0],[23,2,17,0],[23,6,17,0,"_opsAxis_util"],[23,19,17,0],[23,22,17,0,"require"],[23,29,17,0],[23,30,17,0,"_dependencyMap"],[23,44,17,0],[24,2,17,0],[24,6,17,0,"axis_util"],[24,15,17,0],[24,18,17,0,"_interopNamespace"],[24,35,17,0],[24,36,17,0,"_opsAxis_util"],[24,49,17,0],[25,2,18,0],[25,6,18,0,"_opsCast"],[25,14,18,0],[25,17,18,0,"require"],[25,24,18,0],[25,25,18,0,"_dependencyMap"],[25,39,18,0],[26,2,19,0],[26,6,19,0,"_opsEqual"],[26,15,19,0],[26,18,19,0,"require"],[26,25,19,0],[26,26,19,0,"_dependencyMap"],[26,40,19,0],[27,2,20,0],[27,6,20,0,"_opsMul"],[27,13,20,0],[27,16,20,0,"require"],[27,23,20,0],[27,24,20,0,"_dependencyMap"],[27,38,20,0],[28,2,21,0],[28,6,21,0,"_opsReshape"],[28,17,21,0],[28,20,21,0,"require"],[28,27,21,0],[28,28,21,0,"_dependencyMap"],[28,42,21,0],[29,2,1,0],[30,0,2,0],[31,0,3,0],[32,0,4,0],[33,0,5,0],[34,0,6,0],[35,0,7,0],[36,0,8,0],[37,0,9,0],[38,0,10,0],[39,0,11,0],[40,0,12,0],[41,0,13,0],[42,0,14,0],[43,0,15,0],[44,0,16,0],[46,2,22,0],[47,0,23,0],[48,0,24,0],[49,2,25,7],[49,11,25,16,"gradForMinAndMax"],[49,27,25,32,"gradForMinAndMax"],[49,28,25,33,"dy"],[49,30,25,35],[49,32,25,37,"y"],[49,33,25,38],[49,35,25,40,"xOrig"],[49,40,25,45],[49,42,25,47,"origAxes"],[49,50,25,55],[49,52,25,57],[50,4,26,4],[50,8,26,8,"y"],[50,9,26,9],[50,10,26,10,"rank"],[50,14,26,14],[50,17,26,17,"xOrig"],[50,22,26,22],[50,23,26,23,"rank"],[50,27,26,27],[50,29,26,29],[51,6,27,8,"y"],[51,7,27,9],[51,10,27,12],[51,14,27,12,"reshape"],[51,25,27,19],[51,26,27,19,"reshape"],[51,33,27,19],[51,35,27,20,"y"],[51,36,27,21],[51,38,27,23,"axis_util"],[51,47,27,32],[51,48,27,33,"expandShapeToKeepDim"],[51,68,27,53],[51,69,27,54,"y"],[51,70,27,55],[51,71,27,56,"shape"],[51,76,27,61],[51,78,27,63,"origAxes"],[51,86,27,71],[51,87,27,72],[51,88,27,73],[52,4,28,4],[53,4,29,4],[53,8,29,8,"dy"],[53,10,29,10],[53,11,29,11,"rank"],[53,15,29,15],[53,18,29,18,"xOrig"],[53,23,29,23],[53,24,29,24,"rank"],[53,28,29,28],[53,30,29,30],[54,6,30,8,"dy"],[54,8,30,10],[54,11,30,13],[54,15,30,13,"reshape"],[54,26,30,20],[54,27,30,20,"reshape"],[54,34,30,20],[54,36,30,21,"dy"],[54,38,30,23],[54,40,30,25,"axis_util"],[54,49,30,34],[54,50,30,35,"expandShapeToKeepDim"],[54,70,30,55],[54,71,30,56,"dy"],[54,73,30,58],[54,74,30,59,"shape"],[54,79,30,64],[54,81,30,66,"origAxes"],[54,89,30,74],[54,90,30,75],[54,91,30,76],[55,4,31,4],[56,4,32,4],[56,11,32,11],[57,6,33,8,"x"],[57,7,33,9],[57,9,33,11,"x"],[57,10,33,11],[57,15,33,17],[58,8,34,12],[58,14,34,18,"dx"],[58,16,34,20],[58,19,34,23],[58,23,34,23,"mul"],[58,30,34,26],[58,31,34,26,"mul"],[58,34,34,26],[58,36,34,27,"dy"],[58,38,34,29],[58,40,34,31],[58,44,34,31,"cast"],[58,52,34,35],[58,53,34,35,"cast"],[58,57,34,35],[58,59,34,36],[58,63,34,36,"equal"],[58,72,34,41],[58,73,34,41,"equal"],[58,78,34,41],[58,80,34,42,"xOrig"],[58,85,34,47],[58,87,34,49,"y"],[58,88,34,50],[58,89,34,51],[58,91,34,53,"dy"],[58,93,34,55],[58,94,34,56,"dtype"],[58,99,34,61],[58,100,34,62],[58,101,34,63],[59,8,35,12],[59,15,35,19,"dx"],[59,17,35,21],[60,6,36,8],[61,4,37,4],[61,5,37,5],[62,2,38,0],[63,0,38,1],[63,3]],"functionMap":{"names":["<global>","gradForMinAndMax","x"],"mappings":"AAA;OCwB;WCQ;SDG;CDE"},"hasCjsExports":false},"type":"js/module"}]}