{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":682},"end":{"line":17,"column":56,"index":738}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../binaryop_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":739},"end":{"line":18,"column":50,"index":789}}],"key":"Nq+rMKjJyjDW+OiGal8GFCBivzQ=","exportNames":["*"],"imports":1}},{"name":"../binaryop_packed_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":790},"end":{"line":19,"column":63,"index":853}}],"key":"Gh8BS3VE5EGO1NSTDUhyuvW9W4M=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/shared","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":854},"end":{"line":20,"column":76,"index":930}}],"key":"JzS9qfQGP0NvwhobUV8d6bPV3h4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"BITWISEAND\", {\n    enumerable: true,\n    get: function () {\n      return BITWISEAND;\n    }\n  });\n  Object.defineProperty(exports, \"BITWISEAND_UNPACKED\", {\n    enumerable: true,\n    get: function () {\n      return BITWISEAND_UNPACKED;\n    }\n  });\n  exports.bitwiseAnd = bitwiseAnd;\n  Object.defineProperty(exports, \"bitwiseAndConfig\", {\n    enumerable: true,\n    get: function () {\n      return bitwiseAndConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _binaryop_gpu = require(_dependencyMap[1], \"../binaryop_gpu\");\n  var _binaryop_packed_gpu = require(_dependencyMap[2], \"../binaryop_packed_gpu\");\n  var _kernel_utilsShared = require(_dependencyMap[3], \"../kernel_utils/shared\");\n  /**\n   * @license\n   * Copyright 2023 Google LLC.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const BITWISEAND = `\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n`;\n  const BITWISEAND_UNPACKED = `\n  return float(int(a.r) & int(b.r));\n`;\n  function bitwiseAnd(args) {\n    const {\n      inputs,\n      backend\n    } = args;\n    const {\n      a,\n      b\n    } = inputs;\n    const shouldUsePackedProgram = (0, _tensorflowTfjsCore.env)().getBool('WEBGL_PACK_BINARY_OPERATIONS');\n    const versionNumber = (0, _tensorflowTfjsCore.env)().getNumber('WEBGL_VERSION');\n    // The type of a and b are ensured to be `int32` in core, therefore no need to\n    // consider other type situations.\n    if (backend.shouldExecuteOnCPU([a, b]) || versionNumber === 1) {\n      const aVals = backend.texData.get(a.dataId).values;\n      const bVals = backend.texData.get(b.dataId).values;\n      const [outValues, outShape] = (0, _kernel_utilsShared.bitwiseAndImplCPU)(a.shape, b.shape, aVals, bVals, a.dtype);\n      const out = backend.makeTensorInfo(outShape, a.dtype);\n      const outData = backend.texData.get(out.dataId);\n      outData.values = outValues;\n      return out;\n    }\n    let program;\n    if (shouldUsePackedProgram) {\n      program = new _binaryop_packed_gpu.BinaryOpPackedProgram(BITWISEAND, a.shape, b.shape, false);\n    } else {\n      program = new _binaryop_gpu.BinaryOpProgram(BITWISEAND_UNPACKED, a.shape, b.shape);\n    }\n    return backend.runWebGLProgram(program, [a, b], a.dtype);\n  }\n  const bitwiseAndConfig = {\n    kernelName: _tensorflowTfjsCore.BitwiseAnd,\n    backendName: 'webgl',\n    kernelFunc: bitwiseAnd\n  };\n});","lineCount":92,"map":[[7,2,21,0,"Object"],[7,8,21,0],[7,9,21,0,"defineProperty"],[7,23,21,0],[7,24,21,0,"exports"],[7,31,21,0],[8,4,21,0,"enumerable"],[8,14,21,0],[9,4,21,0,"get"],[9,7,21,0],[9,18,21,0,"get"],[9,19,21,0],[10,6,21,0],[10,13,21,0,"BITWISEAND"],[10,23,21,0],[11,4,21,0],[12,2,21,0],[13,2,28,0,"Object"],[13,8,28,0],[13,9,28,0,"defineProperty"],[13,23,28,0],[13,24,28,0,"exports"],[13,31,28,0],[14,4,28,0,"enumerable"],[14,14,28,0],[15,4,28,0,"get"],[15,7,28,0],[15,18,28,0,"get"],[15,19,28,0],[16,6,28,0],[16,13,28,0,"BITWISEAND_UNPACKED"],[16,32,28,0],[17,4,28,0],[18,2,28,0],[19,2,31,0,"exports"],[19,9,31,0],[19,10,31,0,"bitwiseAnd"],[19,20,31,0],[19,23,31,0,"bitwiseAnd"],[19,33,31,0],[20,2,56,0,"Object"],[20,8,56,0],[20,9,56,0,"defineProperty"],[20,23,56,0],[20,24,56,0,"exports"],[20,31,56,0],[21,4,56,0,"enumerable"],[21,14,56,0],[22,4,56,0,"get"],[22,7,56,0],[22,18,56,0,"get"],[22,19,56,0],[23,6,56,0],[23,13,56,0,"bitwiseAndConfig"],[23,29,56,0],[24,4,56,0],[25,2,56,0],[26,2,17,0],[26,6,17,0,"_tensorflowTfjsCore"],[26,25,17,0],[26,28,17,0,"require"],[26,35,17,0],[26,36,17,0,"_dependencyMap"],[26,50,17,0],[27,2,18,0],[27,6,18,0,"_binaryop_gpu"],[27,19,18,0],[27,22,18,0,"require"],[27,29,18,0],[27,30,18,0,"_dependencyMap"],[27,44,18,0],[28,2,19,0],[28,6,19,0,"_binaryop_packed_gpu"],[28,26,19,0],[28,29,19,0,"require"],[28,36,19,0],[28,37,19,0,"_dependencyMap"],[28,51,19,0],[29,2,20,0],[29,6,20,0,"_kernel_utilsShared"],[29,25,20,0],[29,28,20,0,"require"],[29,35,20,0],[29,36,20,0,"_dependencyMap"],[29,50,20,0],[30,2,1,0],[31,0,2,0],[32,0,3,0],[33,0,4,0],[34,0,5,0],[35,0,6,0],[36,0,7,0],[37,0,8,0],[38,0,9,0],[39,0,10,0],[40,0,11,0],[41,0,12,0],[42,0,13,0],[43,0,14,0],[44,0,15,0],[45,0,16,0],[47,2,21,7],[47,8,21,13,"BITWISEAND"],[47,18,21,23],[47,21,21,26],[48,0,22,0],[49,0,23,0],[50,0,24,0],[51,0,25,0],[52,0,26,0],[53,0,27,0],[53,1,27,1],[54,2,28,7],[54,8,28,13,"BITWISEAND_UNPACKED"],[54,27,28,32],[54,30,28,35],[55,0,29,0],[56,0,30,0],[56,1,30,1],[57,2,31,7],[57,11,31,16,"bitwiseAnd"],[57,21,31,26,"bitwiseAnd"],[57,22,31,27,"args"],[57,26,31,31],[57,28,31,33],[58,4,32,4],[58,10,32,10],[59,6,32,12,"inputs"],[59,12,32,18],[60,6,32,20,"backend"],[61,4,32,28],[61,5,32,29],[61,8,32,32,"args"],[61,12,32,36],[62,4,33,4],[62,10,33,10],[63,6,33,12,"a"],[63,7,33,13],[64,6,33,15,"b"],[65,4,33,17],[65,5,33,18],[65,8,33,21,"inputs"],[65,14,33,27],[66,4,34,4],[66,10,34,10,"shouldUsePackedProgram"],[66,32,34,32],[66,35,34,35],[66,39,34,35,"env"],[66,58,34,38],[66,59,34,38,"env"],[66,62,34,38],[66,64,34,39],[66,65,34,40],[66,66,34,41,"getBool"],[66,73,34,48],[66,74,34,49],[66,104,34,79],[66,105,34,80],[67,4,35,4],[67,10,35,10,"versionNumber"],[67,23,35,23],[67,26,35,26],[67,30,35,26,"env"],[67,49,35,29],[67,50,35,29,"env"],[67,53,35,29],[67,55,35,30],[67,56,35,31],[67,57,35,32,"getNumber"],[67,66,35,41],[67,67,35,42],[67,82,35,57],[67,83,35,58],[68,4,36,4],[69,4,37,4],[70,4,38,4],[70,8,38,9,"backend"],[70,15,38,16],[70,16,38,17,"shouldExecuteOnCPU"],[70,34,38,35],[70,35,38,36],[70,36,38,37,"a"],[70,37,38,38],[70,39,38,40,"b"],[70,40,38,41],[70,41,38,42],[70,42,38,43],[70,46,38,48,"versionNumber"],[70,59,38,61],[70,64,38,66],[70,65,38,67],[70,67,38,69],[71,6,39,8],[71,12,39,14,"aVals"],[71,17,39,19],[71,20,39,22,"backend"],[71,27,39,29],[71,28,39,30,"texData"],[71,35,39,37],[71,36,39,38,"get"],[71,39,39,41],[71,40,39,42,"a"],[71,41,39,43],[71,42,39,44,"dataId"],[71,48,39,50],[71,49,39,51],[71,50,39,52,"values"],[71,56,39,58],[72,6,40,8],[72,12,40,14,"bVals"],[72,17,40,19],[72,20,40,22,"backend"],[72,27,40,29],[72,28,40,30,"texData"],[72,35,40,37],[72,36,40,38,"get"],[72,39,40,41],[72,40,40,42,"b"],[72,41,40,43],[72,42,40,44,"dataId"],[72,48,40,50],[72,49,40,51],[72,50,40,52,"values"],[72,56,40,58],[73,6,41,8],[73,12,41,14],[73,13,41,15,"outValues"],[73,22,41,24],[73,24,41,26,"outShape"],[73,32,41,34],[73,33,41,35],[73,36,41,38],[73,40,41,38,"cpuBitwiseAnd"],[73,59,41,51],[73,60,41,51,"bitwiseAndImplCPU"],[73,77,41,51],[73,79,41,52,"a"],[73,80,41,53],[73,81,41,54,"shape"],[73,86,41,59],[73,88,41,61,"b"],[73,89,41,62],[73,90,41,63,"shape"],[73,95,41,68],[73,97,41,70,"aVals"],[73,102,41,75],[73,104,41,77,"bVals"],[73,109,41,82],[73,111,41,84,"a"],[73,112,41,85],[73,113,41,86,"dtype"],[73,118,41,91],[73,119,41,92],[74,6,42,8],[74,12,42,14,"out"],[74,15,42,17],[74,18,42,20,"backend"],[74,25,42,27],[74,26,42,28,"makeTensorInfo"],[74,40,42,42],[74,41,42,43,"outShape"],[74,49,42,51],[74,51,42,53,"a"],[74,52,42,54],[74,53,42,55,"dtype"],[74,58,42,60],[74,59,42,61],[75,6,43,8],[75,12,43,14,"outData"],[75,19,43,21],[75,22,43,24,"backend"],[75,29,43,31],[75,30,43,32,"texData"],[75,37,43,39],[75,38,43,40,"get"],[75,41,43,43],[75,42,43,44,"out"],[75,45,43,47],[75,46,43,48,"dataId"],[75,52,43,54],[75,53,43,55],[76,6,44,8,"outData"],[76,13,44,15],[76,14,44,16,"values"],[76,20,44,22],[76,23,44,25,"outValues"],[76,32,44,34],[77,6,45,8],[77,13,45,15,"out"],[77,16,45,18],[78,4,46,4],[79,4,47,4],[79,8,47,8,"program"],[79,15,47,15],[80,4,48,4],[80,8,48,8,"shouldUsePackedProgram"],[80,30,48,30],[80,32,48,32],[81,6,49,8,"program"],[81,13,49,15],[81,16,49,18],[81,20,49,22,"BinaryOpPackedProgram"],[81,40,49,43],[81,41,49,43,"BinaryOpPackedProgram"],[81,62,49,43],[81,63,49,44,"BITWISEAND"],[81,73,49,54],[81,75,49,56,"a"],[81,76,49,57],[81,77,49,58,"shape"],[81,82,49,63],[81,84,49,65,"b"],[81,85,49,66],[81,86,49,67,"shape"],[81,91,49,72],[81,93,49,74],[81,98,49,79],[81,99,49,80],[82,4,50,4],[82,5,50,5],[82,11,51,9],[83,6,52,8,"program"],[83,13,52,15],[83,16,52,18],[83,20,52,22,"BinaryOpProgram"],[83,33,52,37],[83,34,52,37,"BinaryOpProgram"],[83,49,52,37],[83,50,52,38,"BITWISEAND_UNPACKED"],[83,69,52,57],[83,71,52,59,"a"],[83,72,52,60],[83,73,52,61,"shape"],[83,78,52,66],[83,80,52,68,"b"],[83,81,52,69],[83,82,52,70,"shape"],[83,87,52,75],[83,88,52,76],[84,4,53,4],[85,4,54,4],[85,11,54,11,"backend"],[85,18,54,18],[85,19,54,19,"runWebGLProgram"],[85,34,54,34],[85,35,54,35,"program"],[85,42,54,42],[85,44,54,44],[85,45,54,45,"a"],[85,46,54,46],[85,48,54,48,"b"],[85,49,54,49],[85,50,54,50],[85,52,54,52,"a"],[85,53,54,53],[85,54,54,54,"dtype"],[85,59,54,59],[85,60,54,60],[86,2,55,0],[87,2,56,7],[87,8,56,13,"bitwiseAndConfig"],[87,24,56,29],[87,27,56,32],[88,4,57,4,"kernelName"],[88,14,57,14],[88,16,57,16,"BitwiseAnd"],[88,35,57,26],[88,36,57,26,"BitwiseAnd"],[88,46,57,26],[89,4,58,4,"backendName"],[89,15,58,15],[89,17,58,17],[89,24,58,24],[90,4,59,4,"kernelFunc"],[90,14,59,14],[90,16,59,16,"bitwiseAnd"],[91,2,60,0],[91,3,60,1],[92,0,60,2],[92,3]],"functionMap":{"names":["<global>","bitwiseAnd"],"mappings":"AAA;OC8B;CDwB"},"hasCjsExports":false},"type":"js/module"}]}