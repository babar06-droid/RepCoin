{"dependencies":[{"name":"../ops/buffer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":777},"end":{"line":18,"column":39,"index":816}}],"key":"9khCoCMOw+f+743kVe3wHHvpoUc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.whereImpl = whereImpl;\n  var _opsBuffer = require(_dependencyMap[0], \"../ops/buffer\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n  /** An implementation of the Where kernel shared between cpu and webgl */\n\n  function whereImpl(condShape, condVals) {\n    const indices = [];\n    for (let i = 0; i < condVals.length; i++) {\n      if (condVals[i]) {\n        indices.push(i);\n      }\n    }\n    const inBuffer = (0, _opsBuffer.buffer)(condShape, 'int32');\n    const out = (0, _opsBuffer.buffer)([indices.length, condShape.length], 'int32');\n    for (let i = 0; i < indices.length; i++) {\n      const loc = inBuffer.indexToLoc(indices[i]);\n      const offset = i * condShape.length;\n      out.values.set(loc, offset);\n    }\n    return out.toTensor();\n  }\n});","lineCount":43,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"whereImpl"],[7,19,19,0],[7,22,19,0,"whereImpl"],[7,31,19,0],[8,2,18,0],[8,6,18,0,"_opsBuffer"],[8,16,18,0],[8,19,18,0,"require"],[8,26,18,0],[8,27,18,0,"_dependencyMap"],[8,41,18,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[13,0,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,0,9,0],[18,0,10,0],[19,0,11,0],[20,0,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[25,2,17,0],[27,2,19,7],[27,11,19,16,"whereImpl"],[27,20,19,25,"whereImpl"],[27,21,19,26,"condShape"],[27,30,19,35],[27,32,19,37,"condVals"],[27,40,19,45],[27,42,19,47],[28,4,20,4],[28,10,20,10,"indices"],[28,17,20,17],[28,20,20,20],[28,22,20,22],[29,4,21,4],[29,9,21,9],[29,13,21,13,"i"],[29,14,21,14],[29,17,21,17],[29,18,21,18],[29,20,21,20,"i"],[29,21,21,21],[29,24,21,24,"condVals"],[29,32,21,32],[29,33,21,33,"length"],[29,39,21,39],[29,41,21,41,"i"],[29,42,21,42],[29,44,21,44],[29,46,21,46],[30,6,22,8],[30,10,22,12,"condVals"],[30,18,22,20],[30,19,22,21,"i"],[30,20,22,22],[30,21,22,23],[30,23,22,25],[31,8,23,12,"indices"],[31,15,23,19],[31,16,23,20,"push"],[31,20,23,24],[31,21,23,25,"i"],[31,22,23,26],[31,23,23,27],[32,6,24,8],[33,4,25,4],[34,4,26,4],[34,10,26,10,"inBuffer"],[34,18,26,18],[34,21,26,21],[34,25,26,21,"buffer"],[34,35,26,27],[34,36,26,27,"buffer"],[34,42,26,27],[34,44,26,28,"condShape"],[34,53,26,37],[34,55,26,39],[34,62,26,46],[34,63,26,47],[35,4,27,4],[35,10,27,10,"out"],[35,13,27,13],[35,16,27,16],[35,20,27,16,"buffer"],[35,30,27,22],[35,31,27,22,"buffer"],[35,37,27,22],[35,39,27,23],[35,40,27,24,"indices"],[35,47,27,31],[35,48,27,32,"length"],[35,54,27,38],[35,56,27,40,"condShape"],[35,65,27,49],[35,66,27,50,"length"],[35,72,27,56],[35,73,27,57],[35,75,27,59],[35,82,27,66],[35,83,27,67],[36,4,28,4],[36,9,28,9],[36,13,28,13,"i"],[36,14,28,14],[36,17,28,17],[36,18,28,18],[36,20,28,20,"i"],[36,21,28,21],[36,24,28,24,"indices"],[36,31,28,31],[36,32,28,32,"length"],[36,38,28,38],[36,40,28,40,"i"],[36,41,28,41],[36,43,28,43],[36,45,28,45],[37,6,29,8],[37,12,29,14,"loc"],[37,15,29,17],[37,18,29,20,"inBuffer"],[37,26,29,28],[37,27,29,29,"indexToLoc"],[37,37,29,39],[37,38,29,40,"indices"],[37,45,29,47],[37,46,29,48,"i"],[37,47,29,49],[37,48,29,50],[37,49,29,51],[38,6,30,8],[38,12,30,14,"offset"],[38,18,30,20],[38,21,30,23,"i"],[38,22,30,24],[38,25,30,27,"condShape"],[38,34,30,36],[38,35,30,37,"length"],[38,41,30,43],[39,6,31,8,"out"],[39,9,31,11],[39,10,31,12,"values"],[39,16,31,18],[39,17,31,19,"set"],[39,20,31,22],[39,21,31,23,"loc"],[39,24,31,26],[39,26,31,28,"offset"],[39,32,31,34],[39,33,31,35],[40,4,32,4],[41,4,33,4],[41,11,33,11,"out"],[41,14,33,14],[41,15,33,15,"toTensor"],[41,23,33,23],[41,24,33,24],[41,25,33,25],[42,2,34,0],[43,0,34,1],[43,3]],"functionMap":{"names":["<global>","whereImpl"],"mappings":"AAA;OCkB;CDe"},"hasCjsExports":false},"type":"js/module"}]}