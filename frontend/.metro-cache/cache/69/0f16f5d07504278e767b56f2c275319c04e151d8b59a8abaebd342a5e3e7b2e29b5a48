{"dependencies":[{"name":"./glsl_version","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":52,"index":755}}],"key":"PzwIhi74LcKYbosuBjZm+h3PwII=","exportNames":["*"],"imports":1}},{"name":"./gpgpu_math","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":756},"end":{"line":18,"column":48,"index":804}}],"key":"r7nFADTf/sGcqNrAYkmj7Z35J80=","exportNames":["*"],"imports":1}},{"name":"./shader_compiler_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":805},"end":{"line":19,"column":54,"index":859}}],"key":"MRaYEFt5V5oNumhqJDPCX030gRk=","exportNames":["*"],"imports":1}},{"name":"./tex_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":860},"end":{"line":20,"column":43,"index":903}}],"key":"GopUOwXwDIukgoEHWjAuySayrNM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"DecodeMatrixProgram\", {\n    enumerable: true,\n    get: function () {\n      return DecodeMatrixProgram;\n    }\n  });\n  var _glsl_version = require(_dependencyMap[0], \"./glsl_version\");\n  var _gpgpu_math = require(_dependencyMap[1], \"./gpgpu_math\");\n  var _shader_compiler_util = require(_dependencyMap[2], \"./shader_compiler_util\");\n  var shader_util = _interopNamespace(_shader_compiler_util);\n  var _tex_util = require(_dependencyMap[3], \"./tex_util\");\n  /**\n   * @license\n   * Copyright 2019 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  class DecodeMatrixProgram {\n    constructor(outputShape) {\n      this.variableNames = ['A'];\n      this.packedInputs = false;\n      this.packedOutput = true;\n      this.outPackingScheme = _tex_util.PackingScheme.DENSE;\n      this.customUniforms = [{\n        name: 'texShape',\n        type: 'ivec2'\n      }];\n      const glsl = (0, _glsl_version.getGlslDifferences)();\n      this.outputShape = outputShape;\n      this.enableShapeUniforms = (0, _gpgpu_math.useShapeUniforms)(this.outputShape.length);\n      this.userCode = `\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms ? shader_util.getOutputLogicalCoordinatesFromFlatIndexByUniform(['r', 'c', 'd'], outputShape) : shader_util.getLogicalCoordinatesFromFlatIndex(['r', 'c', 'd'], outputShape)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${glsl.output} = result;\n      }\n    `;\n    }\n  }\n});","lineCount":86,"map":[[22,2,21,0,"Object"],[22,8,21,0],[22,9,21,0,"defineProperty"],[22,23,21,0],[22,24,21,0,"exports"],[22,31,21,0],[23,4,21,0,"enumerable"],[23,14,21,0],[24,4,21,0,"get"],[24,7,21,0],[24,18,21,0,"get"],[24,19,21,0],[25,6,21,0],[25,13,21,0,"DecodeMatrixProgram"],[25,32,21,0],[26,4,21,0],[27,2,21,0],[28,2,17,0],[28,6,17,0,"_glsl_version"],[28,19,17,0],[28,22,17,0,"require"],[28,29,17,0],[28,30,17,0,"_dependencyMap"],[28,44,17,0],[29,2,18,0],[29,6,18,0,"_gpgpu_math"],[29,17,18,0],[29,20,18,0,"require"],[29,27,18,0],[29,28,18,0,"_dependencyMap"],[29,42,18,0],[30,2,19,0],[30,6,19,0,"_shader_compiler_util"],[30,27,19,0],[30,30,19,0,"require"],[30,37,19,0],[30,38,19,0,"_dependencyMap"],[30,52,19,0],[31,2,19,0],[31,6,19,0,"shader_util"],[31,17,19,0],[31,20,19,0,"_interopNamespace"],[31,37,19,0],[31,38,19,0,"_shader_compiler_util"],[31,59,19,0],[32,2,20,0],[32,6,20,0,"_tex_util"],[32,15,20,0],[32,18,20,0,"require"],[32,25,20,0],[32,26,20,0,"_dependencyMap"],[32,40,20,0],[33,2,1,0],[34,0,2,0],[35,0,3,0],[36,0,4,0],[37,0,5,0],[38,0,6,0],[39,0,7,0],[40,0,8,0],[41,0,9,0],[42,0,10,0],[43,0,11,0],[44,0,12,0],[45,0,13,0],[46,0,14,0],[47,0,15,0],[48,0,16,0],[50,2,21,7],[50,8,21,13,"DecodeMatrixProgram"],[50,27,21,32],[50,28,21,33],[51,4,22,4,"constructor"],[51,15,22,15,"constructor"],[51,16,22,16,"outputShape"],[51,27,22,27],[51,29,22,29],[52,6,23,8],[52,10,23,12],[52,11,23,13,"variableNames"],[52,24,23,26],[52,27,23,29],[52,28,23,30],[52,31,23,33],[52,32,23,34],[53,6,24,8],[53,10,24,12],[53,11,24,13,"packedInputs"],[53,23,24,25],[53,26,24,28],[53,31,24,33],[54,6,25,8],[54,10,25,12],[54,11,25,13,"packedOutput"],[54,23,25,25],[54,26,25,28],[54,30,25,32],[55,6,26,8],[55,10,26,12],[55,11,26,13,"outPackingScheme"],[55,27,26,29],[55,30,26,32,"PackingScheme"],[55,39,26,45],[55,40,26,45,"PackingScheme"],[55,53,26,45],[55,54,26,46,"DENSE"],[55,59,26,51],[56,6,27,8],[56,10,27,12],[56,11,27,13,"customUniforms"],[56,25,27,27],[56,28,27,30],[56,29,27,31],[57,8,27,33,"name"],[57,12,27,37],[57,14,27,39],[57,24,27,49],[58,8,27,51,"type"],[58,12,27,55],[58,14,27,57],[59,6,27,65],[59,7,27,66],[59,8,27,67],[60,6,28,8],[60,12,28,14,"glsl"],[60,16,28,18],[60,19,28,21],[60,23,28,21,"getGlslDifferences"],[60,36,28,39],[60,37,28,39,"getGlslDifferences"],[60,55,28,39],[60,57,28,40],[60,58,28,41],[61,6,29,8],[61,10,29,12],[61,11,29,13,"outputShape"],[61,22,29,24],[61,25,29,27,"outputShape"],[61,36,29,38],[62,6,30,8],[62,10,30,12],[62,11,30,13,"enableShapeUniforms"],[62,30,30,32],[62,33,30,35],[62,37,30,35,"useShapeUniforms"],[62,48,30,51],[62,49,30,51,"useShapeUniforms"],[62,65,30,51],[62,67,30,52],[62,71,30,56],[62,72,30,57,"outputShape"],[62,83,30,68],[62,84,30,69,"length"],[62,90,30,75],[62,91,30,76],[63,6,31,8],[63,10,31,12],[63,11,31,13,"userCode"],[63,19,31,21],[63,22,31,24],[64,0,32,0],[65,0,33,0],[65,10,33,10],[65,14,33,14],[65,15,33,15,"enableShapeUniforms"],[65,34,33,34],[65,37,34,12,"shader_util"],[65,48,34,23],[65,49,34,24,"getOutputLogicalCoordinatesFromFlatIndexByUniform"],[65,98,34,73],[65,99,34,74],[65,100,34,75],[65,103,34,78],[65,105,34,80],[65,108,34,83],[65,110,34,85],[65,113,34,88],[65,114,34,89],[65,116,34,91,"outputShape"],[65,127,34,102],[65,128,34,103],[65,131,35,12,"shader_util"],[65,142,35,23],[65,143,35,24,"getLogicalCoordinatesFromFlatIndex"],[65,177,35,58],[65,178,35,59],[65,179,35,60],[65,182,35,63],[65,184,35,65],[65,187,35,68],[65,189,35,70],[65,192,35,73],[65,193,35,74],[65,195,35,76,"outputShape"],[65,206,35,87],[65,207,35,88],[66,0,36,0],[67,0,37,0],[68,0,38,0],[69,0,39,0],[70,0,40,0],[71,0,41,0],[72,0,42,0],[73,0,43,0],[74,0,44,0],[75,0,45,0],[76,0,46,0],[77,0,47,0],[78,0,48,0],[79,0,49,0],[80,0,50,0],[81,0,51,0],[81,10,51,10,"glsl"],[81,14,51,14],[81,15,51,15,"output"],[81,21,51,21],[82,0,52,0],[83,0,53,0],[83,5,53,5],[84,4,54,4],[85,2,55,0],[86,0,55,1],[86,3]],"functionMap":{"names":["<global>","DecodeMatrixProgram","DecodeMatrixProgram#constructor"],"mappings":"AAA;OCoB;ICC;KDgC;CDC"},"hasCjsExports":false},"type":"js/module"}]}