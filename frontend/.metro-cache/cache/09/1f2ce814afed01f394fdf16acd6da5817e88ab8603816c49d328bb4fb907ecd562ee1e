{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":699},"end":{"line":17,"column":49,"index":748}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../utils/unary_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":749},"end":{"line":18,"column":55,"index":804}}],"key":"QGyI88yvzU1JiR+wtubtq1GSHiY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"softplus\", {\n    enumerable: true,\n    get: function () {\n      return softplus;\n    }\n  });\n  Object.defineProperty(exports, \"softplusConfig\", {\n    enumerable: true,\n    get: function () {\n      return softplusConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _utilsUnary_utils = require(_dependencyMap[1], \"../utils/unary_utils\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the License);\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an AS IS BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  // mirrors the implementation of tf.nn.softplus: https://goo.gl/vkcvwX\n  // epsilon is the difference between 1.0 and the next representable float.\n  // For a single precision 32 bit float this should be 2^-23, see:\n  // https://math.byu.edu/~schow/work/IEEEFloatingPoint.htm\n  const epsilon = 1.1920928955078125e-7;\n  const threshold = Math.log(epsilon) + 2.0;\n  const softplus = (0, _utilsUnary_utils.unaryKernelFunc)(_tensorflowTfjsCore.Softplus, xi => {\n    // Value above which exp(x) may overflow, but softplus(x) == x\n    // is within machine epsilon.\n    const tooLarge = xi > -threshold;\n    // Value below which exp(x) may underflow, but softplus(x) == exp(x)\n    // is within machine epsilon.\n    const tooSmall = xi < threshold;\n    const expX = Math.exp(xi);\n    let result;\n    if (tooSmall) {\n      result = expX;\n    } else if (tooLarge) {\n      result = xi;\n    } else {\n      result = Math.log(1.0 + expX);\n    }\n    return result;\n  });\n  const softplusConfig = {\n    kernelName: _tensorflowTfjsCore.Softplus,\n    backendName: 'cpu',\n    kernelFunc: softplus\n  };\n});","lineCount":67,"map":[[7,2,25,0,"Object"],[7,8,25,0],[7,9,25,0,"defineProperty"],[7,23,25,0],[7,24,25,0,"exports"],[7,31,25,0],[8,4,25,0,"enumerable"],[8,14,25,0],[9,4,25,0,"get"],[9,7,25,0],[9,18,25,0,"get"],[9,19,25,0],[10,6,25,0],[10,13,25,0,"softplus"],[10,21,25,0],[11,4,25,0],[12,2,25,0],[13,2,45,0,"Object"],[13,8,45,0],[13,9,45,0,"defineProperty"],[13,23,45,0],[13,24,45,0,"exports"],[13,31,45,0],[14,4,45,0,"enumerable"],[14,14,45,0],[15,4,45,0,"get"],[15,7,45,0],[15,18,45,0,"get"],[15,19,45,0],[16,6,45,0],[16,13,45,0,"softplusConfig"],[16,27,45,0],[17,4,45,0],[18,2,45,0],[19,2,17,0],[19,6,17,0,"_tensorflowTfjsCore"],[19,25,17,0],[19,28,17,0,"require"],[19,35,17,0],[19,36,17,0,"_dependencyMap"],[19,50,17,0],[20,2,18,0],[20,6,18,0,"_utilsUnary_utils"],[20,23,18,0],[20,26,18,0,"require"],[20,33,18,0],[20,34,18,0,"_dependencyMap"],[20,48,18,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,0,9,0],[30,0,10,0],[31,0,11,0],[32,0,12,0],[33,0,13,0],[34,0,14,0],[35,0,15,0],[36,0,16,0],[38,2,19,0],[39,2,20,0],[40,2,21,0],[41,2,22,0],[42,2,23,0],[42,8,23,6,"epsilon"],[42,15,23,13],[42,18,23,16],[42,39,23,37],[43,2,24,0],[43,8,24,6,"threshold"],[43,17,24,15],[43,20,24,18,"Math"],[43,24,24,22],[43,25,24,23,"log"],[43,28,24,26],[43,29,24,27,"epsilon"],[43,36,24,34],[43,37,24,35],[43,40,24,38],[43,43,24,41],[44,2,25,7],[44,8,25,13,"softplus"],[44,16,25,21],[44,19,25,24],[44,23,25,24,"unaryKernelFunc"],[44,40,25,39],[44,41,25,39,"unaryKernelFunc"],[44,56,25,39],[44,58,25,40,"Softplus"],[44,77,25,48],[44,78,25,48,"Softplus"],[44,86,25,48],[44,88,25,51,"xi"],[44,90,25,53],[44,94,25,58],[45,4,26,4],[46,4,27,4],[47,4,28,4],[47,10,28,10,"tooLarge"],[47,18,28,18],[47,21,28,21,"xi"],[47,23,28,23],[47,26,28,26],[47,27,28,27,"threshold"],[47,36,28,36],[48,4,29,4],[49,4,30,4],[50,4,31,4],[50,10,31,10,"tooSmall"],[50,18,31,18],[50,21,31,21,"xi"],[50,23,31,23],[50,26,31,26,"threshold"],[50,35,31,35],[51,4,32,4],[51,10,32,10,"expX"],[51,14,32,14],[51,17,32,17,"Math"],[51,21,32,21],[51,22,32,22,"exp"],[51,25,32,25],[51,26,32,26,"xi"],[51,28,32,28],[51,29,32,29],[52,4,33,4],[52,8,33,8,"result"],[52,14,33,14],[53,4,34,4],[53,8,34,8,"tooSmall"],[53,16,34,16],[53,18,34,18],[54,6,35,8,"result"],[54,12,35,14],[54,15,35,17,"expX"],[54,19,35,21],[55,4,36,4],[55,5,36,5],[55,11,37,9],[55,15,37,13,"tooLarge"],[55,23,37,21],[55,25,37,23],[56,6,38,8,"result"],[56,12,38,14],[56,15,38,17,"xi"],[56,17,38,19],[57,4,39,4],[57,5,39,5],[57,11,40,9],[58,6,41,8,"result"],[58,12,41,14],[58,15,41,17,"Math"],[58,19,41,21],[58,20,41,22,"log"],[58,23,41,25],[58,24,41,26],[58,27,41,29],[58,30,41,32,"expX"],[58,34,41,36],[58,35,41,37],[59,4,42,4],[60,4,43,4],[60,11,43,11,"result"],[60,17,43,17],[61,2,44,0],[61,3,44,1],[61,4,44,2],[62,2,45,7],[62,8,45,13,"softplusConfig"],[62,22,45,27],[62,25,45,30],[63,4,46,4,"kernelName"],[63,14,46,14],[63,16,46,16,"Softplus"],[63,35,46,24],[63,36,46,24,"Softplus"],[63,44,46,24],[64,4,47,4,"backendName"],[64,15,47,15],[64,17,47,17],[64,22,47,22],[65,4,48,4,"kernelFunc"],[65,14,48,14],[65,16,48,16,"softplus"],[66,2,49,0],[66,3,49,1],[67,0,49,2],[67,3]],"functionMap":{"names":["<global>","unaryKernelFunc$argument_1"],"mappings":"AAA;kDCwB;CDmB"},"hasCjsExports":false},"type":"js/module"}]}