{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":42,"index":745}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/broadcast_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":746},"end":{"line":18,"column":56,"index":802}}],"key":"Qvkkzd+OEKB4AewZTACLHdeSCuY=","exportNames":["*"],"imports":1}},{"name":"../ops/cast","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":803},"end":{"line":19,"column":35,"index":838}}],"key":"WivC6qgff7NU+wGToo3tfKFUEPo=","exportNames":["*"],"imports":1}},{"name":"../ops/div","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":839},"end":{"line":20,"column":33,"index":872}}],"key":"k/BZM+SZS6CPUrneNct7M5x21sM=","exportNames":["*"],"imports":1}},{"name":"../ops/mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":873},"end":{"line":21,"column":33,"index":906}}],"key":"8VMM/o0r3nOvGtT2jgKf2KxknFk=","exportNames":["*"],"imports":1}},{"name":"../ops/neg","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":907},"end":{"line":22,"column":33,"index":940}}],"key":"4k4Q/waBIv7dEtTMylLnPi+jOrs=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":941},"end":{"line":23,"column":41,"index":982}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}},{"name":"../ops/square","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":983},"end":{"line":24,"column":39,"index":1022}}],"key":"dzrBPVh0nJ0Zsg34oq5kewvGmfA=","exportNames":["*"],"imports":1}},{"name":"../ops/sum","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":1023},"end":{"line":25,"column":33,"index":1056}}],"key":"QFu1HORitJ22mTBAu0XhrnhYCVg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"divGradConfig\", {\n    enumerable: true,\n    get: function () {\n      return divGradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsBroadcast_util = require(_dependencyMap[1], \"../ops/broadcast_util\");\n  var broadcast_util = _interopNamespace(_opsBroadcast_util);\n  var _opsCast = require(_dependencyMap[2], \"../ops/cast\");\n  var _opsDiv = require(_dependencyMap[3], \"../ops/div\");\n  var _opsMul = require(_dependencyMap[4], \"../ops/mul\");\n  var _opsNeg = require(_dependencyMap[5], \"../ops/neg\");\n  var _opsReshape = require(_dependencyMap[6], \"../ops/reshape\");\n  var _opsSquare = require(_dependencyMap[7], \"../ops/square\");\n  var _opsSum = require(_dependencyMap[8], \"../ops/sum\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const divGradConfig = {\n    kernelName: _kernel_names.RealDiv,\n    inputsToSave: ['a', 'b'],\n    gradFunc: (dy, saved) => {\n      const [a, b] = saved;\n      const outShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n      const derA = () => {\n        const res = (0, _opsDiv.div)(dy, (0, _opsCast.cast)(b, 'float32'));\n        const reduceAxes = broadcast_util.getReductionAxes(a.shape, outShape);\n        if (reduceAxes.length > 0) {\n          return (0, _opsReshape.reshape)((0, _opsSum.sum)(res, reduceAxes), a.shape);\n        }\n        return res;\n      };\n      const derB = () => {\n        let res = (0, _opsMul.mul)(dy, (0, _opsCast.cast)(a, 'float32'));\n        const reduceAxes = broadcast_util.getReductionAxes(b.shape, outShape);\n        if (reduceAxes.length > 0) {\n          res = (0, _opsReshape.reshape)((0, _opsSum.sum)(res, reduceAxes), b.shape);\n        }\n        const tmp = (0, _opsSquare.square)(b);\n        return (0, _opsNeg.neg)((0, _opsDiv.div)(res, (0, _opsCast.cast)(tmp, 'float32')));\n      };\n      return {\n        a: derA,\n        b: derB\n      };\n    }\n  };\n});","lineCount":84,"map":[[22,2,26,0,"Object"],[22,8,26,0],[22,9,26,0,"defineProperty"],[22,23,26,0],[22,24,26,0,"exports"],[22,31,26,0],[23,4,26,0,"enumerable"],[23,14,26,0],[24,4,26,0,"get"],[24,7,26,0],[24,18,26,0,"get"],[24,19,26,0],[25,6,26,0],[25,13,26,0,"divGradConfig"],[25,26,26,0],[26,4,26,0],[27,2,26,0],[28,2,17,0],[28,6,17,0,"_kernel_names"],[28,19,17,0],[28,22,17,0,"require"],[28,29,17,0],[28,30,17,0,"_dependencyMap"],[28,44,17,0],[29,2,18,0],[29,6,18,0,"_opsBroadcast_util"],[29,24,18,0],[29,27,18,0,"require"],[29,34,18,0],[29,35,18,0,"_dependencyMap"],[29,49,18,0],[30,2,18,0],[30,6,18,0,"broadcast_util"],[30,20,18,0],[30,23,18,0,"_interopNamespace"],[30,40,18,0],[30,41,18,0,"_opsBroadcast_util"],[30,59,18,0],[31,2,19,0],[31,6,19,0,"_opsCast"],[31,14,19,0],[31,17,19,0,"require"],[31,24,19,0],[31,25,19,0,"_dependencyMap"],[31,39,19,0],[32,2,20,0],[32,6,20,0,"_opsDiv"],[32,13,20,0],[32,16,20,0,"require"],[32,23,20,0],[32,24,20,0,"_dependencyMap"],[32,38,20,0],[33,2,21,0],[33,6,21,0,"_opsMul"],[33,13,21,0],[33,16,21,0,"require"],[33,23,21,0],[33,24,21,0,"_dependencyMap"],[33,38,21,0],[34,2,22,0],[34,6,22,0,"_opsNeg"],[34,13,22,0],[34,16,22,0,"require"],[34,23,22,0],[34,24,22,0,"_dependencyMap"],[34,38,22,0],[35,2,23,0],[35,6,23,0,"_opsReshape"],[35,17,23,0],[35,20,23,0,"require"],[35,27,23,0],[35,28,23,0,"_dependencyMap"],[35,42,23,0],[36,2,24,0],[36,6,24,0,"_opsSquare"],[36,16,24,0],[36,19,24,0,"require"],[36,26,24,0],[36,27,24,0,"_dependencyMap"],[36,41,24,0],[37,2,25,0],[37,6,25,0,"_opsSum"],[37,13,25,0],[37,16,25,0,"require"],[37,23,25,0],[37,24,25,0,"_dependencyMap"],[37,38,25,0],[38,2,1,0],[39,0,2,0],[40,0,3,0],[41,0,4,0],[42,0,5,0],[43,0,6,0],[44,0,7,0],[45,0,8,0],[46,0,9,0],[47,0,10,0],[48,0,11,0],[49,0,12,0],[50,0,13,0],[51,0,14,0],[52,0,15,0],[53,0,16,0],[55,2,26,7],[55,8,26,13,"divGradConfig"],[55,21,26,26],[55,24,26,29],[56,4,27,4,"kernelName"],[56,14,27,14],[56,16,27,16,"RealDiv"],[56,29,27,23],[56,30,27,23,"RealDiv"],[56,37,27,23],[57,4,28,4,"inputsToSave"],[57,16,28,16],[57,18,28,18],[57,19,28,19],[57,22,28,22],[57,24,28,24],[57,27,28,27],[57,28,28,28],[58,4,29,4,"gradFunc"],[58,12,29,12],[58,14,29,14,"gradFunc"],[58,15,29,15,"dy"],[58,17,29,17],[58,19,29,19,"saved"],[58,24,29,24],[58,29,29,29],[59,6,30,8],[59,12,30,14],[59,13,30,15,"a"],[59,14,30,16],[59,16,30,18,"b"],[59,17,30,19],[59,18,30,20],[59,21,30,23,"saved"],[59,26,30,28],[60,6,31,8],[60,12,31,14,"outShape"],[60,20,31,22],[60,23,31,25,"broadcast_util"],[60,37,31,39],[60,38,31,40,"assertAndGetBroadcastShape"],[60,64,31,66],[60,65,31,67,"a"],[60,66,31,68],[60,67,31,69,"shape"],[60,72,31,74],[60,74,31,76,"b"],[60,75,31,77],[60,76,31,78,"shape"],[60,81,31,83],[60,82,31,84],[61,6,32,8],[61,12,32,14,"derA"],[61,16,32,18],[61,19,32,21,"derA"],[61,20,32,21],[61,25,32,27],[62,8,33,12],[62,14,33,18,"res"],[62,17,33,21],[62,20,33,24],[62,24,33,24,"div"],[62,31,33,27],[62,32,33,27,"div"],[62,35,33,27],[62,37,33,28,"dy"],[62,39,33,30],[62,41,33,32],[62,45,33,32,"cast"],[62,53,33,36],[62,54,33,36,"cast"],[62,58,33,36],[62,60,33,37,"b"],[62,61,33,38],[62,63,33,40],[62,72,33,49],[62,73,33,50],[62,74,33,51],[63,8,34,12],[63,14,34,18,"reduceAxes"],[63,24,34,28],[63,27,34,31,"broadcast_util"],[63,41,34,45],[63,42,34,46,"getReductionAxes"],[63,58,34,62],[63,59,34,63,"a"],[63,60,34,64],[63,61,34,65,"shape"],[63,66,34,70],[63,68,34,72,"outShape"],[63,76,34,80],[63,77,34,81],[64,8,35,12],[64,12,35,16,"reduceAxes"],[64,22,35,26],[64,23,35,27,"length"],[64,29,35,33],[64,32,35,36],[64,33,35,37],[64,35,35,39],[65,10,36,16],[65,17,36,23],[65,21,36,23,"reshape"],[65,32,36,30],[65,33,36,30,"reshape"],[65,40,36,30],[65,42,36,31],[65,46,36,31,"sum"],[65,53,36,34],[65,54,36,34,"sum"],[65,57,36,34],[65,59,36,35,"res"],[65,62,36,38],[65,64,36,40,"reduceAxes"],[65,74,36,50],[65,75,36,51],[65,77,36,53,"a"],[65,78,36,54],[65,79,36,55,"shape"],[65,84,36,60],[65,85,36,61],[66,8,37,12],[67,8,38,12],[67,15,38,19,"res"],[67,18,38,22],[68,6,39,8],[68,7,39,9],[69,6,40,8],[69,12,40,14,"derB"],[69,16,40,18],[69,19,40,21,"derB"],[69,20,40,21],[69,25,40,27],[70,8,41,12],[70,12,41,16,"res"],[70,15,41,19],[70,18,41,22],[70,22,41,22,"mul"],[70,29,41,25],[70,30,41,25,"mul"],[70,33,41,25],[70,35,41,26,"dy"],[70,37,41,28],[70,39,41,30],[70,43,41,30,"cast"],[70,51,41,34],[70,52,41,34,"cast"],[70,56,41,34],[70,58,41,35,"a"],[70,59,41,36],[70,61,41,38],[70,70,41,47],[70,71,41,48],[70,72,41,49],[71,8,42,12],[71,14,42,18,"reduceAxes"],[71,24,42,28],[71,27,42,31,"broadcast_util"],[71,41,42,45],[71,42,42,46,"getReductionAxes"],[71,58,42,62],[71,59,42,63,"b"],[71,60,42,64],[71,61,42,65,"shape"],[71,66,42,70],[71,68,42,72,"outShape"],[71,76,42,80],[71,77,42,81],[72,8,43,12],[72,12,43,16,"reduceAxes"],[72,22,43,26],[72,23,43,27,"length"],[72,29,43,33],[72,32,43,36],[72,33,43,37],[72,35,43,39],[73,10,44,16,"res"],[73,13,44,19],[73,16,44,22],[73,20,44,22,"reshape"],[73,31,44,29],[73,32,44,29,"reshape"],[73,39,44,29],[73,41,44,30],[73,45,44,30,"sum"],[73,52,44,33],[73,53,44,33,"sum"],[73,56,44,33],[73,58,44,34,"res"],[73,61,44,37],[73,63,44,39,"reduceAxes"],[73,73,44,49],[73,74,44,50],[73,76,44,52,"b"],[73,77,44,53],[73,78,44,54,"shape"],[73,83,44,59],[73,84,44,60],[74,8,45,12],[75,8,46,12],[75,14,46,18,"tmp"],[75,17,46,21],[75,20,46,24],[75,24,46,24,"square"],[75,34,46,30],[75,35,46,30,"square"],[75,41,46,30],[75,43,46,31,"b"],[75,44,46,32],[75,45,46,33],[76,8,47,12],[76,15,47,19],[76,19,47,19,"neg"],[76,26,47,22],[76,27,47,22,"neg"],[76,30,47,22],[76,32,47,23],[76,36,47,23,"div"],[76,43,47,26],[76,44,47,26,"div"],[76,47,47,26],[76,49,47,27,"res"],[76,52,47,30],[76,54,47,32],[76,58,47,32,"cast"],[76,66,47,36],[76,67,47,36,"cast"],[76,71,47,36],[76,73,47,37,"tmp"],[76,76,47,40],[76,78,47,42],[76,87,47,51],[76,88,47,52],[76,89,47,53],[76,90,47,54],[77,6,48,8],[77,7,48,9],[78,6,49,8],[78,13,49,15],[79,8,49,17,"a"],[79,9,49,18],[79,11,49,20,"derA"],[79,15,49,24],[80,8,49,26,"b"],[80,9,49,27],[80,11,49,29,"derB"],[81,6,49,34],[81,7,49,35],[82,4,50,4],[83,2,51,0],[83,3,51,1],[84,0,51,2],[84,3]],"functionMap":{"names":["<global>","divGradConfig.gradFunc","derA","derB"],"mappings":"AAA;cC4B;qBCG;SDO;qBEC;SFQ;KDE"},"hasCjsExports":false},"type":"js/module"}]}