{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/broadcast_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":742},"end":{"line":18,"column":56,"index":798}}],"key":"Qvkkzd+OEKB4AewZTACLHdeSCuY=","exportNames":["*"],"imports":1}},{"name":"../ops/neg","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":799},"end":{"line":19,"column":33,"index":832}}],"key":"4k4Q/waBIv7dEtTMylLnPi+jOrs=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":833},"end":{"line":20,"column":41,"index":874}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}},{"name":"../ops/sum","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":875},"end":{"line":21,"column":33,"index":908}}],"key":"QFu1HORitJ22mTBAu0XhrnhYCVg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"subGradConfig\", {\n    enumerable: true,\n    get: function () {\n      return subGradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsBroadcast_util = require(_dependencyMap[1], \"../ops/broadcast_util\");\n  var broadcast_util = _interopNamespace(_opsBroadcast_util);\n  var _opsNeg = require(_dependencyMap[2], \"../ops/neg\");\n  var _opsReshape = require(_dependencyMap[3], \"../ops/reshape\");\n  var _opsSum = require(_dependencyMap[4], \"../ops/sum\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const subGradConfig = {\n    kernelName: _kernel_names.Sub,\n    inputsToSave: ['a', 'b'],\n    gradFunc: (dy, saved) => {\n      const [a, b] = saved;\n      const outShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n      const derA = () => {\n        let res = dy;\n        const reduceAxes = broadcast_util.getReductionAxes(a.shape, outShape);\n        if (reduceAxes.length > 0) {\n          res = (0, _opsSum.sum)(res, reduceAxes);\n        }\n        return (0, _opsReshape.reshape)(res, a.shape);\n      };\n      const derB = () => {\n        let res = dy;\n        const reduceAxes = broadcast_util.getReductionAxes(b.shape, outShape);\n        if (reduceAxes.length > 0) {\n          res = (0, _opsSum.sum)(res, reduceAxes);\n        }\n        return (0, _opsReshape.reshape)((0, _opsNeg.neg)(res), b.shape);\n      };\n      return {\n        a: derA,\n        b: derB\n      };\n    }\n  };\n});","lineCount":79,"map":[[22,2,22,0,"Object"],[22,8,22,0],[22,9,22,0,"defineProperty"],[22,23,22,0],[22,24,22,0,"exports"],[22,31,22,0],[23,4,22,0,"enumerable"],[23,14,22,0],[24,4,22,0,"get"],[24,7,22,0],[24,18,22,0,"get"],[24,19,22,0],[25,6,22,0],[25,13,22,0,"subGradConfig"],[25,26,22,0],[26,4,22,0],[27,2,22,0],[28,2,17,0],[28,6,17,0,"_kernel_names"],[28,19,17,0],[28,22,17,0,"require"],[28,29,17,0],[28,30,17,0,"_dependencyMap"],[28,44,17,0],[29,2,18,0],[29,6,18,0,"_opsBroadcast_util"],[29,24,18,0],[29,27,18,0,"require"],[29,34,18,0],[29,35,18,0,"_dependencyMap"],[29,49,18,0],[30,2,18,0],[30,6,18,0,"broadcast_util"],[30,20,18,0],[30,23,18,0,"_interopNamespace"],[30,40,18,0],[30,41,18,0,"_opsBroadcast_util"],[30,59,18,0],[31,2,19,0],[31,6,19,0,"_opsNeg"],[31,13,19,0],[31,16,19,0,"require"],[31,23,19,0],[31,24,19,0,"_dependencyMap"],[31,38,19,0],[32,2,20,0],[32,6,20,0,"_opsReshape"],[32,17,20,0],[32,20,20,0,"require"],[32,27,20,0],[32,28,20,0,"_dependencyMap"],[32,42,20,0],[33,2,21,0],[33,6,21,0,"_opsSum"],[33,13,21,0],[33,16,21,0,"require"],[33,23,21,0],[33,24,21,0,"_dependencyMap"],[33,38,21,0],[34,2,1,0],[35,0,2,0],[36,0,3,0],[37,0,4,0],[38,0,5,0],[39,0,6,0],[40,0,7,0],[41,0,8,0],[42,0,9,0],[43,0,10,0],[44,0,11,0],[45,0,12,0],[46,0,13,0],[47,0,14,0],[48,0,15,0],[49,0,16,0],[51,2,22,7],[51,8,22,13,"subGradConfig"],[51,21,22,26],[51,24,22,29],[52,4,23,4,"kernelName"],[52,14,23,14],[52,16,23,16,"Sub"],[52,29,23,19],[52,30,23,19,"Sub"],[52,33,23,19],[53,4,24,4,"inputsToSave"],[53,16,24,16],[53,18,24,18],[53,19,24,19],[53,22,24,22],[53,24,24,24],[53,27,24,27],[53,28,24,28],[54,4,25,4,"gradFunc"],[54,12,25,12],[54,14,25,14,"gradFunc"],[54,15,25,15,"dy"],[54,17,25,17],[54,19,25,19,"saved"],[54,24,25,24],[54,29,25,29],[55,6,26,8],[55,12,26,14],[55,13,26,15,"a"],[55,14,26,16],[55,16,26,18,"b"],[55,17,26,19],[55,18,26,20],[55,21,26,23,"saved"],[55,26,26,28],[56,6,27,8],[56,12,27,14,"outShape"],[56,20,27,22],[56,23,27,25,"broadcast_util"],[56,37,27,39],[56,38,27,40,"assertAndGetBroadcastShape"],[56,64,27,66],[56,65,27,67,"a"],[56,66,27,68],[56,67,27,69,"shape"],[56,72,27,74],[56,74,27,76,"b"],[56,75,27,77],[56,76,27,78,"shape"],[56,81,27,83],[56,82,27,84],[57,6,28,8],[57,12,28,14,"derA"],[57,16,28,18],[57,19,28,21,"derA"],[57,20,28,21],[57,25,28,27],[58,8,29,12],[58,12,29,16,"res"],[58,15,29,19],[58,18,29,22,"dy"],[58,20,29,24],[59,8,30,12],[59,14,30,18,"reduceAxes"],[59,24,30,28],[59,27,30,31,"broadcast_util"],[59,41,30,45],[59,42,30,46,"getReductionAxes"],[59,58,30,62],[59,59,30,63,"a"],[59,60,30,64],[59,61,30,65,"shape"],[59,66,30,70],[59,68,30,72,"outShape"],[59,76,30,80],[59,77,30,81],[60,8,31,12],[60,12,31,16,"reduceAxes"],[60,22,31,26],[60,23,31,27,"length"],[60,29,31,33],[60,32,31,36],[60,33,31,37],[60,35,31,39],[61,10,32,16,"res"],[61,13,32,19],[61,16,32,22],[61,20,32,22,"sum"],[61,27,32,25],[61,28,32,25,"sum"],[61,31,32,25],[61,33,32,26,"res"],[61,36,32,29],[61,38,32,31,"reduceAxes"],[61,48,32,41],[61,49,32,42],[62,8,33,12],[63,8,34,12],[63,15,34,19],[63,19,34,19,"reshape"],[63,30,34,26],[63,31,34,26,"reshape"],[63,38,34,26],[63,40,34,27,"res"],[63,43,34,30],[63,45,34,32,"a"],[63,46,34,33],[63,47,34,34,"shape"],[63,52,34,39],[63,53,34,40],[64,6,35,8],[64,7,35,9],[65,6,36,8],[65,12,36,14,"derB"],[65,16,36,18],[65,19,36,21,"derB"],[65,20,36,21],[65,25,36,27],[66,8,37,12],[66,12,37,16,"res"],[66,15,37,19],[66,18,37,22,"dy"],[66,20,37,24],[67,8,38,12],[67,14,38,18,"reduceAxes"],[67,24,38,28],[67,27,38,31,"broadcast_util"],[67,41,38,45],[67,42,38,46,"getReductionAxes"],[67,58,38,62],[67,59,38,63,"b"],[67,60,38,64],[67,61,38,65,"shape"],[67,66,38,70],[67,68,38,72,"outShape"],[67,76,38,80],[67,77,38,81],[68,8,39,12],[68,12,39,16,"reduceAxes"],[68,22,39,26],[68,23,39,27,"length"],[68,29,39,33],[68,32,39,36],[68,33,39,37],[68,35,39,39],[69,10,40,16,"res"],[69,13,40,19],[69,16,40,22],[69,20,40,22,"sum"],[69,27,40,25],[69,28,40,25,"sum"],[69,31,40,25],[69,33,40,26,"res"],[69,36,40,29],[69,38,40,31,"reduceAxes"],[69,48,40,41],[69,49,40,42],[70,8,41,12],[71,8,42,12],[71,15,42,19],[71,19,42,19,"reshape"],[71,30,42,26],[71,31,42,26,"reshape"],[71,38,42,26],[71,40,42,27],[71,44,42,27,"neg"],[71,51,42,30],[71,52,42,30,"neg"],[71,55,42,30],[71,57,42,31,"res"],[71,60,42,34],[71,61,42,35],[71,63,42,37,"b"],[71,64,42,38],[71,65,42,39,"shape"],[71,70,42,44],[71,71,42,45],[72,6,43,8],[72,7,43,9],[73,6,44,8],[73,13,44,15],[74,8,44,17,"a"],[74,9,44,18],[74,11,44,20,"derA"],[74,15,44,24],[75,8,44,26,"b"],[75,9,44,27],[75,11,44,29,"derB"],[76,6,44,34],[76,7,44,35],[77,4,45,4],[78,2,46,0],[78,3,46,1],[79,0,46,2],[79,3]],"functionMap":{"names":["<global>","subGradConfig.gradFunc","derA","derB"],"mappings":"AAA;cCwB;qBCG;SDO;qBEC;SFO;KDE"},"hasCjsExports":false},"type":"js/module"}]}