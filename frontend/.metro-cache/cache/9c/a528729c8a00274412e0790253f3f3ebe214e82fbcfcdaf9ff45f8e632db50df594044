{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":68,"index":771}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"./Exp","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":772},"end":{"line":18,"column":28,"index":800}}],"key":"ByNbiPEBIBdLND0+JQ9e6/8hYm0=","exportNames":["*"],"imports":1}},{"name":"./Max","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":801},"end":{"line":19,"column":28,"index":829}}],"key":"Nrbf05LgYlBg1R+DOCyyiNniJc4=","exportNames":["*"],"imports":1}},{"name":"./RealDiv","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":830},"end":{"line":20,"column":36,"index":866}}],"key":"VqZAX+E57NzLJ3Hrt21pUkw1VCU=","exportNames":["*"],"imports":1}},{"name":"./Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":867},"end":{"line":21,"column":36,"index":903}}],"key":"EUWK+oKi/AwokPOQ1jng5DYfQSc=","exportNames":["*"],"imports":1}},{"name":"./Sub","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":904},"end":{"line":22,"column":28,"index":932}}],"key":"9W07n6ozadDWuE/ZeS7WMqezAOo=","exportNames":["*"],"imports":1}},{"name":"./Sum","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":933},"end":{"line":23,"column":28,"index":961}}],"key":"d7Y5U7PWKSyphQklNUED/rT1MrQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.softmax = softmax;\n  Object.defineProperty(exports, \"softmaxConfig\", {\n    enumerable: true,\n    get: function () {\n      return softmaxConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _Exp = require(_dependencyMap[1], \"./Exp\");\n  var _Max = require(_dependencyMap[2], \"./Max\");\n  var _RealDiv = require(_dependencyMap[3], \"./RealDiv\");\n  var _Reshape = require(_dependencyMap[4], \"./Reshape\");\n  var _Sub = require(_dependencyMap[5], \"./Sub\");\n  var _Sum = require(_dependencyMap[6], \"./Sum\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function softmax(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      logits\n    } = inputs;\n    const {\n      dim\n    } = attrs;\n    const axes = _tensorflowTfjsCore.util.parseAxisParam([dim], logits.shape);\n    const maxLogit = (0, _Max.max)({\n      inputs: {\n        x: logits\n      },\n      backend,\n      attrs: {\n        reductionIndices: axes,\n        keepDims: false\n      }\n    });\n    const expandedShape = _tensorflowTfjsCore.backend_util.expandShapeToKeepDim(maxLogit.shape, axes);\n    const maxLogitsReshaped = (0, _Reshape.reshape)({\n      inputs: {\n        x: maxLogit\n      },\n      backend,\n      attrs: {\n        shape: expandedShape\n      }\n    });\n    const a = (0, _Sub.sub)({\n      inputs: {\n        a: logits,\n        b: maxLogitsReshaped\n      },\n      backend\n    });\n    const b = (0, _Exp.exp)({\n      inputs: {\n        x: a\n      },\n      backend\n    });\n    const sumExp = (0, _Sum.sum)({\n      inputs: {\n        x: b\n      },\n      backend,\n      attrs: {\n        axis: axes,\n        keepDims: false\n      }\n    });\n    const sumExpReshaped = (0, _Reshape.reshape)({\n      inputs: {\n        x: sumExp\n      },\n      backend,\n      attrs: {\n        shape: expandedShape\n      }\n    });\n    const res = (0, _RealDiv.realDiv)({\n      inputs: {\n        a: b,\n        b: sumExpReshaped\n      },\n      backend\n    });\n    backend.disposeIntermediateTensorInfo(maxLogit);\n    backend.disposeIntermediateTensorInfo(maxLogitsReshaped);\n    backend.disposeIntermediateTensorInfo(a);\n    backend.disposeIntermediateTensorInfo(b);\n    backend.disposeIntermediateTensorInfo(sumExp);\n    backend.disposeIntermediateTensorInfo(sumExpReshaped);\n    return res;\n  }\n  const softmaxConfig = {\n    kernelName: _tensorflowTfjsCore.Softmax,\n    backendName: 'webgl',\n    kernelFunc: softmax\n  };\n});","lineCount":123,"map":[[7,2,24,0,"exports"],[7,9,24,0],[7,10,24,0,"softmax"],[7,17,24,0],[7,20,24,0,"softmax"],[7,27,24,0],[8,2,49,0,"Object"],[8,8,49,0],[8,9,49,0,"defineProperty"],[8,23,49,0],[8,24,49,0,"exports"],[8,31,49,0],[9,4,49,0,"enumerable"],[9,14,49,0],[10,4,49,0,"get"],[10,7,49,0],[10,18,49,0,"get"],[10,19,49,0],[11,6,49,0],[11,13,49,0,"softmaxConfig"],[11,26,49,0],[12,4,49,0],[13,2,49,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_Exp"],[15,10,18,0],[15,13,18,0,"require"],[15,20,18,0],[15,21,18,0,"_dependencyMap"],[15,35,18,0],[16,2,19,0],[16,6,19,0,"_Max"],[16,10,19,0],[16,13,19,0,"require"],[16,20,19,0],[16,21,19,0,"_dependencyMap"],[16,35,19,0],[17,2,20,0],[17,6,20,0,"_RealDiv"],[17,14,20,0],[17,17,20,0,"require"],[17,24,20,0],[17,25,20,0,"_dependencyMap"],[17,39,20,0],[18,2,21,0],[18,6,21,0,"_Reshape"],[18,14,21,0],[18,17,21,0,"require"],[18,24,21,0],[18,25,21,0,"_dependencyMap"],[18,39,21,0],[19,2,22,0],[19,6,22,0,"_Sub"],[19,10,22,0],[19,13,22,0,"require"],[19,20,22,0],[19,21,22,0,"_dependencyMap"],[19,35,22,0],[20,2,23,0],[20,6,23,0,"_Sum"],[20,10,23,0],[20,13,23,0,"require"],[20,20,23,0],[20,21,23,0,"_dependencyMap"],[20,35,23,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,0,9,0],[30,0,10,0],[31,0,11,0],[32,0,12,0],[33,0,13,0],[34,0,14,0],[35,0,15,0],[36,0,16,0],[38,2,24,7],[38,11,24,16,"softmax"],[38,18,24,23,"softmax"],[38,19,24,24,"args"],[38,23,24,28],[38,25,24,30],[39,4,25,4],[39,10,25,10],[40,6,25,12,"inputs"],[40,12,25,18],[41,6,25,20,"backend"],[41,13,25,27],[42,6,25,29,"attrs"],[43,4,25,35],[43,5,25,36],[43,8,25,39,"args"],[43,12,25,43],[44,4,26,4],[44,10,26,10],[45,6,26,12,"logits"],[46,4,26,19],[46,5,26,20],[46,8,26,23,"inputs"],[46,14,26,29],[47,4,27,4],[47,10,27,10],[48,6,27,12,"dim"],[49,4,27,16],[49,5,27,17],[49,8,27,20,"attrs"],[49,13,27,25],[50,4,28,4],[50,10,28,10,"axes"],[50,14,28,14],[50,17,28,17,"util"],[50,36,28,21],[50,37,28,21,"util"],[50,41,28,21],[50,42,28,22,"parseAxisParam"],[50,56,28,36],[50,57,28,37],[50,58,28,38,"dim"],[50,61,28,41],[50,62,28,42],[50,64,28,44,"logits"],[50,70,28,50],[50,71,28,51,"shape"],[50,76,28,56],[50,77,28,57],[51,4,29,4],[51,10,29,10,"maxLogit"],[51,18,29,18],[51,21,29,21],[51,25,29,21,"max"],[51,29,29,24],[51,30,29,24,"max"],[51,33,29,24],[51,35,29,25],[52,6,30,8,"inputs"],[52,12,30,14],[52,14,30,16],[53,8,30,18,"x"],[53,9,30,19],[53,11,30,21,"logits"],[54,6,30,28],[54,7,30,29],[55,6,31,8,"backend"],[55,13,31,15],[56,6,32,8,"attrs"],[56,11,32,13],[56,13,32,15],[57,8,32,17,"reductionIndices"],[57,24,32,33],[57,26,32,35,"axes"],[57,30,32,39],[58,8,32,41,"keepDims"],[58,16,32,49],[58,18,32,51],[59,6,32,57],[60,4,33,4],[60,5,33,5],[60,6,33,6],[61,4,34,4],[61,10,34,10,"expandedShape"],[61,23,34,23],[61,26,34,26,"backend_util"],[61,45,34,38],[61,46,34,38,"backend_util"],[61,58,34,38],[61,59,34,39,"expandShapeToKeepDim"],[61,79,34,59],[61,80,34,60,"maxLogit"],[61,88,34,68],[61,89,34,69,"shape"],[61,94,34,74],[61,96,34,76,"axes"],[61,100,34,80],[61,101,34,81],[62,4,35,4],[62,10,35,10,"maxLogitsReshaped"],[62,27,35,27],[62,30,35,30],[62,34,35,30,"reshape"],[62,42,35,37],[62,43,35,37,"reshape"],[62,50,35,37],[62,52,35,38],[63,6,35,40,"inputs"],[63,12,35,46],[63,14,35,48],[64,8,35,50,"x"],[64,9,35,51],[64,11,35,53,"maxLogit"],[65,6,35,62],[65,7,35,63],[66,6,35,65,"backend"],[66,13,35,72],[67,6,35,74,"attrs"],[67,11,35,79],[67,13,35,81],[68,8,35,83,"shape"],[68,13,35,88],[68,15,35,90,"expandedShape"],[69,6,35,104],[70,4,35,106],[70,5,35,107],[70,6,35,108],[71,4,36,4],[71,10,36,10,"a"],[71,11,36,11],[71,14,36,14],[71,18,36,14,"sub"],[71,22,36,17],[71,23,36,17,"sub"],[71,26,36,17],[71,28,36,18],[72,6,36,20,"inputs"],[72,12,36,26],[72,14,36,28],[73,8,36,30,"a"],[73,9,36,31],[73,11,36,33,"logits"],[73,17,36,39],[74,8,36,41,"b"],[74,9,36,42],[74,11,36,44,"maxLogitsReshaped"],[75,6,36,62],[75,7,36,63],[76,6,36,65,"backend"],[77,4,36,73],[77,5,36,74],[77,6,36,75],[78,4,37,4],[78,10,37,10,"b"],[78,11,37,11],[78,14,37,14],[78,18,37,14,"exp"],[78,22,37,17],[78,23,37,17,"exp"],[78,26,37,17],[78,28,37,18],[79,6,37,20,"inputs"],[79,12,37,26],[79,14,37,28],[80,8,37,30,"x"],[80,9,37,31],[80,11,37,33,"a"],[81,6,37,35],[81,7,37,36],[82,6,37,38,"backend"],[83,4,37,46],[83,5,37,47],[83,6,37,48],[84,4,38,4],[84,10,38,10,"sumExp"],[84,16,38,16],[84,19,38,19],[84,23,38,19,"sum"],[84,27,38,22],[84,28,38,22,"sum"],[84,31,38,22],[84,33,38,23],[85,6,38,25,"inputs"],[85,12,38,31],[85,14,38,33],[86,8,38,35,"x"],[86,9,38,36],[86,11,38,38,"b"],[87,6,38,40],[87,7,38,41],[88,6,38,43,"backend"],[88,13,38,50],[89,6,38,52,"attrs"],[89,11,38,57],[89,13,38,59],[90,8,38,61,"axis"],[90,12,38,65],[90,14,38,67,"axes"],[90,18,38,71],[91,8,38,73,"keepDims"],[91,16,38,81],[91,18,38,83],[92,6,38,89],[93,4,38,91],[93,5,38,92],[93,6,38,93],[94,4,39,4],[94,10,39,10,"sumExpReshaped"],[94,24,39,24],[94,27,39,27],[94,31,39,27,"reshape"],[94,39,39,34],[94,40,39,34,"reshape"],[94,47,39,34],[94,49,39,35],[95,6,39,37,"inputs"],[95,12,39,43],[95,14,39,45],[96,8,39,47,"x"],[96,9,39,48],[96,11,39,50,"sumExp"],[97,6,39,57],[97,7,39,58],[98,6,39,60,"backend"],[98,13,39,67],[99,6,39,69,"attrs"],[99,11,39,74],[99,13,39,76],[100,8,39,78,"shape"],[100,13,39,83],[100,15,39,85,"expandedShape"],[101,6,39,99],[102,4,39,101],[102,5,39,102],[102,6,39,103],[103,4,40,4],[103,10,40,10,"res"],[103,13,40,13],[103,16,40,16],[103,20,40,16,"realDiv"],[103,28,40,23],[103,29,40,23,"realDiv"],[103,36,40,23],[103,38,40,24],[104,6,40,26,"inputs"],[104,12,40,32],[104,14,40,34],[105,8,40,36,"a"],[105,9,40,37],[105,11,40,39,"b"],[105,12,40,40],[106,8,40,42,"b"],[106,9,40,43],[106,11,40,45,"sumExpReshaped"],[107,6,40,60],[107,7,40,61],[108,6,40,63,"backend"],[109,4,40,71],[109,5,40,72],[109,6,40,73],[110,4,41,4,"backend"],[110,11,41,11],[110,12,41,12,"disposeIntermediateTensorInfo"],[110,41,41,41],[110,42,41,42,"maxLogit"],[110,50,41,50],[110,51,41,51],[111,4,42,4,"backend"],[111,11,42,11],[111,12,42,12,"disposeIntermediateTensorInfo"],[111,41,42,41],[111,42,42,42,"maxLogitsReshaped"],[111,59,42,59],[111,60,42,60],[112,4,43,4,"backend"],[112,11,43,11],[112,12,43,12,"disposeIntermediateTensorInfo"],[112,41,43,41],[112,42,43,42,"a"],[112,43,43,43],[112,44,43,44],[113,4,44,4,"backend"],[113,11,44,11],[113,12,44,12,"disposeIntermediateTensorInfo"],[113,41,44,41],[113,42,44,42,"b"],[113,43,44,43],[113,44,44,44],[114,4,45,4,"backend"],[114,11,45,11],[114,12,45,12,"disposeIntermediateTensorInfo"],[114,41,45,41],[114,42,45,42,"sumExp"],[114,48,45,48],[114,49,45,49],[115,4,46,4,"backend"],[115,11,46,11],[115,12,46,12,"disposeIntermediateTensorInfo"],[115,41,46,41],[115,42,46,42,"sumExpReshaped"],[115,56,46,56],[115,57,46,57],[116,4,47,4],[116,11,47,11,"res"],[116,14,47,14],[117,2,48,0],[118,2,49,7],[118,8,49,13,"softmaxConfig"],[118,21,49,26],[118,24,49,29],[119,4,50,4,"kernelName"],[119,14,50,14],[119,16,50,16,"Softmax"],[119,35,50,23],[119,36,50,23,"Softmax"],[119,43,50,23],[120,4,51,4,"backendName"],[120,15,51,15],[120,17,51,17],[120,24,51,24],[121,4,52,4,"kernelFunc"],[121,14,52,14],[121,16,52,16,"softmax"],[122,2,53,0],[122,3,53,1],[123,0,53,2],[123,3]],"functionMap":{"names":["<global>","softmax"],"mappings":"AAA;OCuB;CDwB"},"hasCjsExports":false},"type":"js/module"}]}