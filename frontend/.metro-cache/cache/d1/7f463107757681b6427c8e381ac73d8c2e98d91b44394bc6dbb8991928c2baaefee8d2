{"dependencies":[{"name":"./tensor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":34,"index":737}}],"key":"kYvdUyp8oamvOrioCW7d9J99xk0=","exportNames":["*"],"imports":1}},{"name":"./types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":738},"end":{"line":18,"column":37,"index":775}}],"key":"iV91Bk2eI9buML90FP6cK2SM5h0=","exportNames":["*"],"imports":1}},{"name":"./util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":776},"end":{"line":19,"column":32,"index":808}}],"key":"1+hZBLc/k6i18AZJ4yHV73uDZHQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.makeTypesMatch = makeTypesMatch;\n  exports.assertTypesMatch = assertTypesMatch;\n  exports.isTensorInList = isTensorInList;\n  exports.getTensorsInContainer = getTensorsInContainer;\n  var _tensor = require(_dependencyMap[0], \"./tensor\");\n  var _types = require(_dependencyMap[1], \"./types\");\n  var _util = require(_dependencyMap[2], \"./util\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function makeTypesMatch(a, b) {\n    if (a.dtype === b.dtype) {\n      return [a, b];\n    }\n    const dtype = (0, _types.upcastType)(a.dtype, b.dtype);\n    return [a.cast(dtype), b.cast(dtype)];\n  }\n  function assertTypesMatch(a, b) {\n    (0, _util.assert)(a.dtype === b.dtype, () => `The dtypes of the first(${a.dtype}) and` + ` second(${b.dtype}) input must match`);\n  }\n  function isTensorInList(tensor, tensorList) {\n    return tensorList.some(x => x.id === tensor.id);\n  }\n  /**\n   * Extracts any `Tensor`s found within the provided object.\n   *\n   * @param container an object that may be a `Tensor` or may directly contain\n   *   `Tensor`s, such as a `Tensor[]` or `{key: Tensor, ...}`. In general it\n   *   is safe to pass any object here, except that `Promise`s are not\n   *   supported.\n   * @returns An array of `Tensors` found within the passed object. If the\n   *   argument is simply a `Tensor', a list containing that `Tensor` is\n   *   returned. If the object is not a `Tensor` or does not\n   *   contain `Tensors`, an empty list is returned.\n   */\n  function getTensorsInContainer(result) {\n    const list = [];\n    const seen = new Set();\n    walkTensorContainer(result, list, seen);\n    return list;\n  }\n  function walkTensorContainer(container, list, seen) {\n    if (container == null) {\n      return;\n    }\n    if (container instanceof _tensor.Tensor) {\n      list.push(container);\n      return;\n    }\n    if (!isIterable(container)) {\n      return;\n    }\n    // Iteration over keys works also for arrays.\n    const iterable = container;\n    for (const k in iterable) {\n      const val = iterable[k];\n      if (!seen.has(val)) {\n        seen.add(val);\n        walkTensorContainer(val, list, seen);\n      }\n    }\n  }\n  // tslint:disable-next-line:no-any\n  function isIterable(obj) {\n    return Array.isArray(obj) || typeof obj === 'object';\n  }\n});","lineCount":87,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"makeTypesMatch"],[7,24,20,0],[7,27,20,0,"makeTypesMatch"],[7,41,20,0],[8,2,27,0,"exports"],[8,9,27,0],[8,10,27,0,"assertTypesMatch"],[8,26,27,0],[8,29,27,0,"assertTypesMatch"],[8,45,27,0],[9,2,31,0,"exports"],[9,9,31,0],[9,10,31,0,"isTensorInList"],[9,24,31,0],[9,27,31,0,"isTensorInList"],[9,41,31,0],[10,2,46,0,"exports"],[10,9,46,0],[10,10,46,0,"getTensorsInContainer"],[10,31,46,0],[10,34,46,0,"getTensorsInContainer"],[10,55,46,0],[11,2,17,0],[11,6,17,0,"_tensor"],[11,13,17,0],[11,16,17,0,"require"],[11,23,17,0],[11,24,17,0,"_dependencyMap"],[11,38,17,0],[12,2,18,0],[12,6,18,0,"_types"],[12,12,18,0],[12,15,18,0,"require"],[12,22,18,0],[12,23,18,0,"_dependencyMap"],[12,37,18,0],[13,2,19,0],[13,6,19,0,"_util"],[13,11,19,0],[13,14,19,0,"require"],[13,21,19,0],[13,22,19,0,"_dependencyMap"],[13,36,19,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,0,5,0],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,0,12,0],[26,0,13,0],[27,0,14,0],[28,0,15,0],[29,0,16,0],[31,2,20,7],[31,11,20,16,"makeTypesMatch"],[31,25,20,30,"makeTypesMatch"],[31,26,20,31,"a"],[31,27,20,32],[31,29,20,34,"b"],[31,30,20,35],[31,32,20,37],[32,4,21,4],[32,8,21,8,"a"],[32,9,21,9],[32,10,21,10,"dtype"],[32,15,21,15],[32,20,21,20,"b"],[32,21,21,21],[32,22,21,22,"dtype"],[32,27,21,27],[32,29,21,29],[33,6,22,8],[33,13,22,15],[33,14,22,16,"a"],[33,15,22,17],[33,17,22,19,"b"],[33,18,22,20],[33,19,22,21],[34,4,23,4],[35,4,24,4],[35,10,24,10,"dtype"],[35,15,24,15],[35,18,24,18],[35,22,24,18,"upcastType"],[35,28,24,28],[35,29,24,28,"upcastType"],[35,39,24,28],[35,41,24,29,"a"],[35,42,24,30],[35,43,24,31,"dtype"],[35,48,24,36],[35,50,24,38,"b"],[35,51,24,39],[35,52,24,40,"dtype"],[35,57,24,45],[35,58,24,46],[36,4,25,4],[36,11,25,11],[36,12,25,12,"a"],[36,13,25,13],[36,14,25,14,"cast"],[36,18,25,18],[36,19,25,19,"dtype"],[36,24,25,24],[36,25,25,25],[36,27,25,27,"b"],[36,28,25,28],[36,29,25,29,"cast"],[36,33,25,33],[36,34,25,34,"dtype"],[36,39,25,39],[36,40,25,40],[36,41,25,41],[37,2,26,0],[38,2,27,7],[38,11,27,16,"assertTypesMatch"],[38,27,27,32,"assertTypesMatch"],[38,28,27,33,"a"],[38,29,27,34],[38,31,27,36,"b"],[38,32,27,37],[38,34,27,39],[39,4,28,4],[39,8,28,4,"assert"],[39,13,28,10],[39,14,28,10,"assert"],[39,20,28,10],[39,22,28,11,"a"],[39,23,28,12],[39,24,28,13,"dtype"],[39,29,28,18],[39,34,28,23,"b"],[39,35,28,24],[39,36,28,25,"dtype"],[39,41,28,30],[39,43,28,32],[39,49,28,38],[39,76,28,65,"a"],[39,77,28,66],[39,78,28,67,"dtype"],[39,83,28,72],[39,90,28,79],[39,93,29,8],[39,104,29,19,"b"],[39,105,29,20],[39,106,29,21,"dtype"],[39,111,29,26],[39,131,29,46],[39,132,29,47],[40,2,30,0],[41,2,31,7],[41,11,31,16,"isTensorInList"],[41,25,31,30,"isTensorInList"],[41,26,31,31,"tensor"],[41,32,31,37],[41,34,31,39,"tensorList"],[41,44,31,49],[41,46,31,51],[42,4,32,4],[42,11,32,11,"tensorList"],[42,21,32,21],[42,22,32,22,"some"],[42,26,32,26],[42,27,32,27,"x"],[42,28,32,28],[42,32,32,32,"x"],[42,33,32,33],[42,34,32,34,"id"],[42,36,32,36],[42,41,32,41,"tensor"],[42,47,32,47],[42,48,32,48,"id"],[42,50,32,50],[42,51,32,51],[43,2,33,0],[44,2,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[48,0,38,0],[49,0,39,0],[50,0,40,0],[51,0,41,0],[52,0,42,0],[53,0,43,0],[54,0,44,0],[55,0,45,0],[56,2,46,7],[56,11,46,16,"getTensorsInContainer"],[56,32,46,37,"getTensorsInContainer"],[56,33,46,38,"result"],[56,39,46,44],[56,41,46,46],[57,4,47,4],[57,10,47,10,"list"],[57,14,47,14],[57,17,47,17],[57,19,47,19],[58,4,48,4],[58,10,48,10,"seen"],[58,14,48,14],[58,17,48,17],[58,21,48,21,"Set"],[58,24,48,24],[58,25,48,25],[58,26,48,26],[59,4,49,4,"walkTensorContainer"],[59,23,49,23],[59,24,49,24,"result"],[59,30,49,30],[59,32,49,32,"list"],[59,36,49,36],[59,38,49,38,"seen"],[59,42,49,42],[59,43,49,43],[60,4,50,4],[60,11,50,11,"list"],[60,15,50,15],[61,2,51,0],[62,2,52,0],[62,11,52,9,"walkTensorContainer"],[62,30,52,28,"walkTensorContainer"],[62,31,52,29,"container"],[62,40,52,38],[62,42,52,40,"list"],[62,46,52,44],[62,48,52,46,"seen"],[62,52,52,50],[62,54,52,52],[63,4,53,4],[63,8,53,8,"container"],[63,17,53,17],[63,21,53,21],[63,25,53,25],[63,27,53,27],[64,6,54,8],[65,4,55,4],[66,4,56,4],[66,8,56,8,"container"],[66,17,56,17],[66,29,56,29,"Tensor"],[66,36,56,35],[66,37,56,35,"Tensor"],[66,43,56,35],[66,45,56,37],[67,6,57,8,"list"],[67,10,57,12],[67,11,57,13,"push"],[67,15,57,17],[67,16,57,18,"container"],[67,25,57,27],[67,26,57,28],[68,6,58,8],[69,4,59,4],[70,4,60,4],[70,8,60,8],[70,9,60,9,"isIterable"],[70,19,60,19],[70,20,60,20,"container"],[70,29,60,29],[70,30,60,30],[70,32,60,32],[71,6,61,8],[72,4,62,4],[73,4,63,4],[74,4,64,4],[74,10,64,10,"iterable"],[74,18,64,18],[74,21,64,21,"container"],[74,30,64,30],[75,4,65,4],[75,9,65,9],[75,15,65,15,"k"],[75,16,65,16],[75,20,65,20,"iterable"],[75,28,65,28],[75,30,65,30],[76,6,66,8],[76,12,66,14,"val"],[76,15,66,17],[76,18,66,20,"iterable"],[76,26,66,28],[76,27,66,29,"k"],[76,28,66,30],[76,29,66,31],[77,6,67,8],[77,10,67,12],[77,11,67,13,"seen"],[77,15,67,17],[77,16,67,18,"has"],[77,19,67,21],[77,20,67,22,"val"],[77,23,67,25],[77,24,67,26],[77,26,67,28],[78,8,68,12,"seen"],[78,12,68,16],[78,13,68,17,"add"],[78,16,68,20],[78,17,68,21,"val"],[78,20,68,24],[78,21,68,25],[79,8,69,12,"walkTensorContainer"],[79,27,69,31],[79,28,69,32,"val"],[79,31,69,35],[79,33,69,37,"list"],[79,37,69,41],[79,39,69,43,"seen"],[79,43,69,47],[79,44,69,48],[80,6,70,8],[81,4,71,4],[82,2,72,0],[83,2,73,0],[84,2,74,0],[84,11,74,9,"isIterable"],[84,21,74,19,"isIterable"],[84,22,74,20,"obj"],[84,25,74,23],[84,27,74,25],[85,4,75,4],[85,11,75,11,"Array"],[85,16,75,16],[85,17,75,17,"isArray"],[85,24,75,24],[85,25,75,25,"obj"],[85,28,75,28],[85,29,75,29],[85,33,75,33],[85,40,75,40,"obj"],[85,43,75,43],[85,48,75,48],[85,56,75,56],[86,2,76,0],[87,0,76,1],[87,3]],"functionMap":{"names":["<global>","makeTypesMatch","assertTypesMatch","assert$argument_1","isTensorInList","tensorList.some$argument_0","getTensorsInContainer","walkTensorContainer","isIterable"],"mappings":"AAA;OCmB;CDM;OEC;gCCC;8CDC;CFC;OIC;2BCC,uBD;CJC;OMa;CNK;AOC;CPoB;AQE;CRE"},"hasCjsExports":false},"type":"js/module"}]}