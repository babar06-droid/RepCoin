{"dependencies":[{"name":"../../engine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"v39fFCcPTN6kCKPiVEOA5hKbvfQ=","exportNames":["*"],"imports":1}},{"name":"../../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":742},"end":{"line":18,"column":57,"index":799}}],"key":"rL3QmnnDJzxi3tNgrJ9K3IiMDQ8=","exportNames":["*"],"imports":1}},{"name":"../../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":800},"end":{"line":19,"column":56,"index":856}}],"key":"xfSGNGkCJdZhfQ673y/6d+no2yU=","exportNames":["*"],"imports":1}},{"name":"../nonmax_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":857},"end":{"line":20,"column":55,"index":912}}],"key":"0KlOSQQJQ4cKLKTcUmdRliPcibs=","exportNames":["*"],"imports":1}},{"name":"../operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":913},"end":{"line":21,"column":34,"index":947}}],"key":"fQilPqfSvhAHjyfKT0P4wel7jE4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"nonMaxSuppression\", {\n    enumerable: true,\n    get: function () {\n      return nonMaxSuppression;\n    }\n  });\n  var _engine = require(_dependencyMap[0], \"../../engine\");\n  var _kernel_names = require(_dependencyMap[1], \"../../kernel_names\");\n  var _tensor_util_env = require(_dependencyMap[2], \"../../tensor_util_env\");\n  var _nonmax_util = require(_dependencyMap[3], \"../nonmax_util\");\n  var _operation = require(_dependencyMap[4], \"../operation\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Performs non maximum suppression of bounding boxes based on\n   * iou (intersection over union).\n   *\n   * @param boxes a 2d tensor of shape `[numBoxes, 4]`. Each entry is\n   *     `[y1, x1, y2, x2]`, where `(y1, x1)` and `(y2, x2)` are the corners of\n   *     the bounding box.\n   * @param scores a 1d tensor providing the box scores of shape `[numBoxes]`.\n   * @param maxOutputSize The maximum number of boxes to be selected.\n   * @param iouThreshold A float representing the threshold for deciding whether\n   *     boxes overlap too much with respect to IOU. Must be between [0, 1].\n   *     Defaults to 0.5 (50% box overlap).\n   * @param scoreThreshold A threshold for deciding when to remove boxes based\n   *     on score. Defaults to -inf, which means any score is accepted.\n   * @return A 1D tensor with the selected box indices.\n   *\n   * @doc {heading: 'Operations', subheading: 'Images', namespace: 'image'}\n   */\n  function nonMaxSuppression_(boxes, scores, maxOutputSize, iouThreshold = 0.5, scoreThreshold = Number.NEGATIVE_INFINITY) {\n    const $boxes = (0, _tensor_util_env.convertToTensor)(boxes, 'boxes', 'nonMaxSuppression', 'float32');\n    const $scores = (0, _tensor_util_env.convertToTensor)(scores, 'scores', 'nonMaxSuppression', 'float32');\n    const inputs = (0, _nonmax_util.nonMaxSuppSanityCheck)($boxes, $scores, maxOutputSize, iouThreshold, scoreThreshold);\n    maxOutputSize = inputs.maxOutputSize;\n    iouThreshold = inputs.iouThreshold;\n    scoreThreshold = inputs.scoreThreshold;\n    const attrs = {\n      maxOutputSize,\n      iouThreshold,\n      scoreThreshold\n    };\n    return _engine.ENGINE.runKernel(_kernel_names.NonMaxSuppressionV3, {\n      boxes: $boxes,\n      scores: $scores\n    }, attrs);\n  }\n  const nonMaxSuppression = /* @__PURE__ */(0, _operation.op)({\n    nonMaxSuppression_\n  });\n});","lineCount":73,"map":[[7,2,50,0,"Object"],[7,8,50,0],[7,9,50,0,"defineProperty"],[7,23,50,0],[7,24,50,0,"exports"],[7,31,50,0],[8,4,50,0,"enumerable"],[8,14,50,0],[9,4,50,0,"get"],[9,7,50,0],[9,18,50,0,"get"],[9,19,50,0],[10,6,50,0],[10,13,50,0,"nonMaxSuppression"],[10,30,50,0],[11,4,50,0],[12,2,50,0],[13,2,17,0],[13,6,17,0,"_engine"],[13,13,17,0],[13,16,17,0,"require"],[13,23,17,0],[13,24,17,0,"_dependencyMap"],[13,38,17,0],[14,2,18,0],[14,6,18,0,"_kernel_names"],[14,19,18,0],[14,22,18,0,"require"],[14,29,18,0],[14,30,18,0,"_dependencyMap"],[14,44,18,0],[15,2,19,0],[15,6,19,0,"_tensor_util_env"],[15,22,19,0],[15,25,19,0,"require"],[15,32,19,0],[15,33,19,0,"_dependencyMap"],[15,47,19,0],[16,2,20,0],[16,6,20,0,"_nonmax_util"],[16,18,20,0],[16,21,20,0,"require"],[16,28,20,0],[16,29,20,0,"_dependencyMap"],[16,43,20,0],[17,2,21,0],[17,6,21,0,"_operation"],[17,16,21,0],[17,19,21,0,"require"],[17,26,21,0],[17,27,21,0,"_dependencyMap"],[17,41,21,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[35,2,22,0],[36,0,23,0],[37,0,24,0],[38,0,25,0],[39,0,26,0],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,0,39,0],[53,2,40,0],[53,11,40,9,"nonMaxSuppression_"],[53,29,40,27,"nonMaxSuppression_"],[53,30,40,28,"boxes"],[53,35,40,33],[53,37,40,35,"scores"],[53,43,40,41],[53,45,40,43,"maxOutputSize"],[53,58,40,56],[53,60,40,58,"iouThreshold"],[53,72,40,70],[53,75,40,73],[53,78,40,76],[53,80,40,78,"scoreThreshold"],[53,94,40,92],[53,97,40,95,"Number"],[53,103,40,101],[53,104,40,102,"NEGATIVE_INFINITY"],[53,121,40,119],[53,123,40,121],[54,4,41,4],[54,10,41,10,"$boxes"],[54,16,41,16],[54,19,41,19],[54,23,41,19,"convertToTensor"],[54,39,41,34],[54,40,41,34,"convertToTensor"],[54,55,41,34],[54,57,41,35,"boxes"],[54,62,41,40],[54,64,41,42],[54,71,41,49],[54,73,41,51],[54,92,41,70],[54,94,41,72],[54,103,41,81],[54,104,41,82],[55,4,42,4],[55,10,42,10,"$scores"],[55,17,42,17],[55,20,42,20],[55,24,42,20,"convertToTensor"],[55,40,42,35],[55,41,42,35,"convertToTensor"],[55,56,42,35],[55,58,42,36,"scores"],[55,64,42,42],[55,66,42,44],[55,74,42,52],[55,76,42,54],[55,95,42,73],[55,97,42,75],[55,106,42,84],[55,107,42,85],[56,4,43,4],[56,10,43,10,"inputs"],[56,16,43,16],[56,19,43,19],[56,23,43,19,"nonMaxSuppSanityCheck"],[56,35,43,40],[56,36,43,40,"nonMaxSuppSanityCheck"],[56,57,43,40],[56,59,43,41,"$boxes"],[56,65,43,47],[56,67,43,49,"$scores"],[56,74,43,56],[56,76,43,58,"maxOutputSize"],[56,89,43,71],[56,91,43,73,"iouThreshold"],[56,103,43,85],[56,105,43,87,"scoreThreshold"],[56,119,43,101],[56,120,43,102],[57,4,44,4,"maxOutputSize"],[57,17,44,17],[57,20,44,20,"inputs"],[57,26,44,26],[57,27,44,27,"maxOutputSize"],[57,40,44,40],[58,4,45,4,"iouThreshold"],[58,16,45,16],[58,19,45,19,"inputs"],[58,25,45,25],[58,26,45,26,"iouThreshold"],[58,38,45,38],[59,4,46,4,"scoreThreshold"],[59,18,46,18],[59,21,46,21,"inputs"],[59,27,46,27],[59,28,46,28,"scoreThreshold"],[59,42,46,42],[60,4,47,4],[60,10,47,10,"attrs"],[60,15,47,15],[60,18,47,18],[61,6,47,20,"maxOutputSize"],[61,19,47,33],[62,6,47,35,"iouThreshold"],[62,18,47,47],[63,6,47,49,"scoreThreshold"],[64,4,47,64],[64,5,47,65],[65,4,48,4],[65,11,48,11,"ENGINE"],[65,18,48,17],[65,19,48,17,"ENGINE"],[65,25,48,17],[65,26,48,18,"runKernel"],[65,35,48,27],[65,36,48,28,"NonMaxSuppressionV3"],[65,49,48,47],[65,50,48,47,"NonMaxSuppressionV3"],[65,69,48,47],[65,71,48,49],[66,6,48,51,"boxes"],[66,11,48,56],[66,13,48,58,"$boxes"],[66,19,48,64],[67,6,48,66,"scores"],[67,12,48,72],[67,14,48,74,"$scores"],[68,4,48,82],[68,5,48,83],[68,7,48,85,"attrs"],[68,12,48,90],[68,13,48,91],[69,2,49,0],[70,2,50,7],[70,8,50,13,"nonMaxSuppression"],[70,25,50,30],[70,28,50,33],[70,43,50,49],[70,47,50,49,"op"],[70,57,50,51],[70,58,50,51,"op"],[70,60,50,51],[70,62,50,52],[71,4,50,54,"nonMaxSuppression_"],[72,2,50,73],[72,3,50,74],[72,4,50,75],[73,0,50,76],[73,3]],"functionMap":{"names":["<global>","nonMaxSuppression_"],"mappings":"AAA;ACuC;CDS"},"hasCjsExports":false},"type":"js/module"}]}