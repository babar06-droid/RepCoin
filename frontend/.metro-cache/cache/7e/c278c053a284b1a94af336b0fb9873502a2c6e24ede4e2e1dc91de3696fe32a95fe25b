{"dependencies":[{"name":"../executors/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":47,"index":750}}],"key":"NSGMTFl2N17fRBCyB4ad+N/ueOs=","exportNames":["*"],"imports":1}},{"name":"../operation_mapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":751},"end":{"line":18,"column":227,"index":978}}],"key":"yGrYwfUoRgFT+PW+UwLUa4hfkio=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"NodeValueImpl\", {\n    enumerable: true,\n    get: function () {\n      return NodeValueImpl;\n    }\n  });\n  var _executorsUtils = require(_dependencyMap[0], \"../executors/utils\");\n  var _operation_mapper = require(_dependencyMap[1], \"../operation_mapper\");\n  /**\n   * @license\n   * Copyright 2019 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Helper class for lookup inputs and params for nodes in the model graph.\n   */\n  class NodeValueImpl {\n    constructor(node, tensorMap, context) {\n      this.node = node;\n      this.tensorMap = tensorMap;\n      this.context = context;\n      this.inputs = [];\n      this.attrs = {};\n      this.inputs = node.inputNames.map(name => this.getInput(name));\n      if (node.rawAttrs != null) {\n        this.attrs = Object.keys(node.rawAttrs).reduce((attrs, key) => {\n          attrs[key] = this.getAttr(key);\n          return attrs;\n        }, {});\n      }\n    }\n    /**\n     * Return the value of the attribute or input param.\n     * @param name String: name of attribute or input param.\n     */\n    getInput(name) {\n      return (0, _executorsUtils.getTensor)(name, this.tensorMap, this.context);\n    }\n    /**\n     * Return the value of the attribute or input param.\n     * @param name String: name of attribute or input param.\n     */\n    getAttr(name, defaultValue) {\n      const value = this.node.rawAttrs[name];\n      if (value.tensor != null) {\n        return (0, _executorsUtils.getTensor)(name, this.tensorMap, this.context);\n      }\n      if (value.i != null || value.f != null) {\n        return (0, _operation_mapper.getNumberParam)(this.node.rawAttrs, name, defaultValue);\n      }\n      if (value.s != null) {\n        return (0, _operation_mapper.getStringParam)(this.node.rawAttrs, name, defaultValue);\n      }\n      if (value.b != null) {\n        return (0, _operation_mapper.getBoolParam)(this.node.rawAttrs, name, defaultValue);\n      }\n      if (value.shape != null) {\n        return (0, _operation_mapper.getTensorShapeParam)(this.node.rawAttrs, name, defaultValue);\n      }\n      if (value.type != null) {\n        return (0, _operation_mapper.getDtypeParam)(this.node.rawAttrs, name, defaultValue);\n      }\n      if (value.list != null) {\n        if (value.list.i != null || value.list.f != null) {\n          return (0, _operation_mapper.getNumericArrayParam)(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.list.s != null) {\n          return (0, _operation_mapper.getStringArrayParam)(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.list.shape != null) {\n          return (0, _operation_mapper.getTensorShapeArrayParam)(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.list.b != null) {\n          return (0, _operation_mapper.getBoolArrayParam)(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.list.type != null) {\n          return (0, _operation_mapper.getDtypeArrayParam)(this.node.rawAttrs, name, defaultValue);\n        }\n      }\n      return defaultValue;\n    }\n  }\n});","lineCount":101,"map":[[7,2,22,0,"Object"],[7,8,22,0],[7,9,22,0,"defineProperty"],[7,23,22,0],[7,24,22,0,"exports"],[7,31,22,0],[8,4,22,0,"enumerable"],[8,14,22,0],[9,4,22,0,"get"],[9,7,22,0],[9,18,22,0,"get"],[9,19,22,0],[10,6,22,0],[10,13,22,0,"NodeValueImpl"],[10,26,22,0],[11,4,22,0],[12,2,22,0],[13,2,17,0],[13,6,17,0,"_executorsUtils"],[13,21,17,0],[13,24,17,0,"require"],[13,31,17,0],[13,32,17,0,"_dependencyMap"],[13,46,17,0],[14,2,18,0],[14,6,18,0,"_operation_mapper"],[14,23,18,0],[14,26,18,0,"require"],[14,33,18,0],[14,34,18,0,"_dependencyMap"],[14,48,18,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[32,2,19,0],[33,0,20,0],[34,0,21,0],[35,2,22,7],[35,8,22,13,"NodeValueImpl"],[35,21,22,26],[35,22,22,27],[36,4,23,4,"constructor"],[36,15,23,15,"constructor"],[36,16,23,16,"node"],[36,20,23,20],[36,22,23,22,"tensorMap"],[36,31,23,31],[36,33,23,33,"context"],[36,40,23,40],[36,42,23,42],[37,6,24,8],[37,10,24,12],[37,11,24,13,"node"],[37,15,24,17],[37,18,24,20,"node"],[37,22,24,24],[38,6,25,8],[38,10,25,12],[38,11,25,13,"tensorMap"],[38,20,25,22],[38,23,25,25,"tensorMap"],[38,32,25,34],[39,6,26,8],[39,10,26,12],[39,11,26,13,"context"],[39,18,26,20],[39,21,26,23,"context"],[39,28,26,30],[40,6,27,8],[40,10,27,12],[40,11,27,13,"inputs"],[40,17,27,19],[40,20,27,22],[40,22,27,24],[41,6,28,8],[41,10,28,12],[41,11,28,13,"attrs"],[41,16,28,18],[41,19,28,21],[41,20,28,22],[41,21,28,23],[42,6,29,8],[42,10,29,12],[42,11,29,13,"inputs"],[42,17,29,19],[42,20,29,22,"node"],[42,24,29,26],[42,25,29,27,"inputNames"],[42,35,29,37],[42,36,29,38,"map"],[42,39,29,41],[42,40,29,42,"name"],[42,44,29,46],[42,48,29,50],[42,52,29,54],[42,53,29,55,"getInput"],[42,61,29,63],[42,62,29,64,"name"],[42,66,29,68],[42,67,29,69],[42,68,29,70],[43,6,30,8],[43,10,30,12,"node"],[43,14,30,16],[43,15,30,17,"rawAttrs"],[43,23,30,25],[43,27,30,29],[43,31,30,33],[43,33,30,35],[44,8,31,12],[44,12,31,16],[44,13,31,17,"attrs"],[44,18,31,22],[44,21,31,25,"Object"],[44,27,31,31],[44,28,31,32,"keys"],[44,32,31,36],[44,33,31,37,"node"],[44,37,31,41],[44,38,31,42,"rawAttrs"],[44,46,31,50],[44,47,31,51],[44,48,32,17,"reduce"],[44,54,32,23],[44,55,32,24],[44,56,32,25,"attrs"],[44,61,32,30],[44,63,32,32,"key"],[44,66,32,35],[44,71,32,40],[45,10,33,16,"attrs"],[45,15,33,21],[45,16,33,22,"key"],[45,19,33,25],[45,20,33,26],[45,23,33,29],[45,27,33,33],[45,28,33,34,"getAttr"],[45,35,33,41],[45,36,33,42,"key"],[45,39,33,45],[45,40,33,46],[46,10,34,16],[46,17,34,23,"attrs"],[46,22,34,28],[47,8,35,12],[47,9,35,13],[47,11,35,15],[47,12,35,16],[47,13,35,17],[47,14,35,18],[48,6,36,8],[49,4,37,4],[50,4,38,4],[51,0,39,0],[52,0,40,0],[53,0,41,0],[54,4,42,4,"getInput"],[54,12,42,12,"getInput"],[54,13,42,13,"name"],[54,17,42,17],[54,19,42,19],[55,6,43,8],[55,13,43,15],[55,17,43,15,"getTensor"],[55,32,43,24],[55,33,43,24,"getTensor"],[55,42,43,24],[55,44,43,25,"name"],[55,48,43,29],[55,50,43,31],[55,54,43,35],[55,55,43,36,"tensorMap"],[55,64,43,45],[55,66,43,47],[55,70,43,51],[55,71,43,52,"context"],[55,78,43,59],[55,79,43,60],[56,4,44,4],[57,4,45,4],[58,0,46,0],[59,0,47,0],[60,0,48,0],[61,4,49,4,"getAttr"],[61,11,49,11,"getAttr"],[61,12,49,12,"name"],[61,16,49,16],[61,18,49,18,"defaultValue"],[61,30,49,30],[61,32,49,32],[62,6,50,8],[62,12,50,14,"value"],[62,17,50,19],[62,20,50,22],[62,24,50,26],[62,25,50,27,"node"],[62,29,50,31],[62,30,50,32,"rawAttrs"],[62,38,50,40],[62,39,50,41,"name"],[62,43,50,45],[62,44,50,46],[63,6,51,8],[63,10,51,12,"value"],[63,15,51,17],[63,16,51,18,"tensor"],[63,22,51,24],[63,26,51,28],[63,30,51,32],[63,32,51,34],[64,8,52,12],[64,15,52,19],[64,19,52,19,"getTensor"],[64,34,52,28],[64,35,52,28,"getTensor"],[64,44,52,28],[64,46,52,29,"name"],[64,50,52,33],[64,52,52,35],[64,56,52,39],[64,57,52,40,"tensorMap"],[64,66,52,49],[64,68,52,51],[64,72,52,55],[64,73,52,56,"context"],[64,80,52,63],[64,81,52,64],[65,6,53,8],[66,6,54,8],[66,10,54,12,"value"],[66,15,54,17],[66,16,54,18,"i"],[66,17,54,19],[66,21,54,23],[66,25,54,27],[66,29,54,31,"value"],[66,34,54,36],[66,35,54,37,"f"],[66,36,54,38],[66,40,54,42],[66,44,54,46],[66,46,54,48],[67,8,55,12],[67,15,55,19],[67,19,55,19,"getNumberParam"],[67,36,55,33],[67,37,55,33,"getNumberParam"],[67,51,55,33],[67,53,55,34],[67,57,55,38],[67,58,55,39,"node"],[67,62,55,43],[67,63,55,44,"rawAttrs"],[67,71,55,52],[67,73,55,54,"name"],[67,77,55,58],[67,79,55,60,"defaultValue"],[67,91,55,72],[67,92,55,73],[68,6,56,8],[69,6,57,8],[69,10,57,12,"value"],[69,15,57,17],[69,16,57,18,"s"],[69,17,57,19],[69,21,57,23],[69,25,57,27],[69,27,57,29],[70,8,58,12],[70,15,58,19],[70,19,58,19,"getStringParam"],[70,36,58,33],[70,37,58,33,"getStringParam"],[70,51,58,33],[70,53,58,34],[70,57,58,38],[70,58,58,39,"node"],[70,62,58,43],[70,63,58,44,"rawAttrs"],[70,71,58,52],[70,73,58,54,"name"],[70,77,58,58],[70,79,58,60,"defaultValue"],[70,91,58,72],[70,92,58,73],[71,6,59,8],[72,6,60,8],[72,10,60,12,"value"],[72,15,60,17],[72,16,60,18,"b"],[72,17,60,19],[72,21,60,23],[72,25,60,27],[72,27,60,29],[73,8,61,12],[73,15,61,19],[73,19,61,19,"getBoolParam"],[73,36,61,31],[73,37,61,31,"getBoolParam"],[73,49,61,31],[73,51,61,32],[73,55,61,36],[73,56,61,37,"node"],[73,60,61,41],[73,61,61,42,"rawAttrs"],[73,69,61,50],[73,71,61,52,"name"],[73,75,61,56],[73,77,61,58,"defaultValue"],[73,89,61,70],[73,90,61,71],[74,6,62,8],[75,6,63,8],[75,10,63,12,"value"],[75,15,63,17],[75,16,63,18,"shape"],[75,21,63,23],[75,25,63,27],[75,29,63,31],[75,31,63,33],[76,8,64,12],[76,15,64,19],[76,19,64,19,"getTensorShapeParam"],[76,36,64,38],[76,37,64,38,"getTensorShapeParam"],[76,56,64,38],[76,58,64,39],[76,62,64,43],[76,63,64,44,"node"],[76,67,64,48],[76,68,64,49,"rawAttrs"],[76,76,64,57],[76,78,64,59,"name"],[76,82,64,63],[76,84,64,65,"defaultValue"],[76,96,64,77],[76,97,64,78],[77,6,65,8],[78,6,66,8],[78,10,66,12,"value"],[78,15,66,17],[78,16,66,18,"type"],[78,20,66,22],[78,24,66,26],[78,28,66,30],[78,30,66,32],[79,8,67,12],[79,15,67,19],[79,19,67,19,"getDtypeParam"],[79,36,67,32],[79,37,67,32,"getDtypeParam"],[79,50,67,32],[79,52,67,33],[79,56,67,37],[79,57,67,38,"node"],[79,61,67,42],[79,62,67,43,"rawAttrs"],[79,70,67,51],[79,72,67,53,"name"],[79,76,67,57],[79,78,67,59,"defaultValue"],[79,90,67,71],[79,91,67,72],[80,6,68,8],[81,6,69,8],[81,10,69,12,"value"],[81,15,69,17],[81,16,69,18,"list"],[81,20,69,22],[81,24,69,26],[81,28,69,30],[81,30,69,32],[82,8,70,12],[82,12,70,16,"value"],[82,17,70,21],[82,18,70,22,"list"],[82,22,70,26],[82,23,70,27,"i"],[82,24,70,28],[82,28,70,32],[82,32,70,36],[82,36,70,40,"value"],[82,41,70,45],[82,42,70,46,"list"],[82,46,70,50],[82,47,70,51,"f"],[82,48,70,52],[82,52,70,56],[82,56,70,60],[82,58,70,62],[83,10,71,16],[83,17,71,23],[83,21,71,23,"getNumericArrayParam"],[83,38,71,43],[83,39,71,43,"getNumericArrayParam"],[83,59,71,43],[83,61,71,44],[83,65,71,48],[83,66,71,49,"node"],[83,70,71,53],[83,71,71,54,"rawAttrs"],[83,79,71,62],[83,81,71,64,"name"],[83,85,71,68],[83,87,71,70,"defaultValue"],[83,99,71,82],[83,100,71,83],[84,8,72,12],[85,8,73,12],[85,12,73,16,"value"],[85,17,73,21],[85,18,73,22,"list"],[85,22,73,26],[85,23,73,27,"s"],[85,24,73,28],[85,28,73,32],[85,32,73,36],[85,34,73,38],[86,10,74,16],[86,17,74,23],[86,21,74,23,"getStringArrayParam"],[86,38,74,42],[86,39,74,42,"getStringArrayParam"],[86,58,74,42],[86,60,74,43],[86,64,74,47],[86,65,74,48,"node"],[86,69,74,52],[86,70,74,53,"rawAttrs"],[86,78,74,61],[86,80,74,63,"name"],[86,84,74,67],[86,86,74,69,"defaultValue"],[86,98,74,81],[86,99,74,82],[87,8,75,12],[88,8,76,12],[88,12,76,16,"value"],[88,17,76,21],[88,18,76,22,"list"],[88,22,76,26],[88,23,76,27,"shape"],[88,28,76,32],[88,32,76,36],[88,36,76,40],[88,38,76,42],[89,10,77,16],[89,17,77,23],[89,21,77,23,"getTensorShapeArrayParam"],[89,38,77,47],[89,39,77,47,"getTensorShapeArrayParam"],[89,63,77,47],[89,65,77,48],[89,69,77,52],[89,70,77,53,"node"],[89,74,77,57],[89,75,77,58,"rawAttrs"],[89,83,77,66],[89,85,77,68,"name"],[89,89,77,72],[89,91,77,74,"defaultValue"],[89,103,77,86],[89,104,77,87],[90,8,78,12],[91,8,79,12],[91,12,79,16,"value"],[91,17,79,21],[91,18,79,22,"list"],[91,22,79,26],[91,23,79,27,"b"],[91,24,79,28],[91,28,79,32],[91,32,79,36],[91,34,79,38],[92,10,80,16],[92,17,80,23],[92,21,80,23,"getBoolArrayParam"],[92,38,80,40],[92,39,80,40,"getBoolArrayParam"],[92,56,80,40],[92,58,80,41],[92,62,80,45],[92,63,80,46,"node"],[92,67,80,50],[92,68,80,51,"rawAttrs"],[92,76,80,59],[92,78,80,61,"name"],[92,82,80,65],[92,84,80,67,"defaultValue"],[92,96,80,79],[92,97,80,80],[93,8,81,12],[94,8,82,12],[94,12,82,16,"value"],[94,17,82,21],[94,18,82,22,"list"],[94,22,82,26],[94,23,82,27,"type"],[94,27,82,31],[94,31,82,35],[94,35,82,39],[94,37,82,41],[95,10,83,16],[95,17,83,23],[95,21,83,23,"getDtypeArrayParam"],[95,38,83,41],[95,39,83,41,"getDtypeArrayParam"],[95,57,83,41],[95,59,83,42],[95,63,83,46],[95,64,83,47,"node"],[95,68,83,51],[95,69,83,52,"rawAttrs"],[95,77,83,60],[95,79,83,62,"name"],[95,83,83,66],[95,85,83,68,"defaultValue"],[95,97,83,80],[95,98,83,81],[96,8,84,12],[97,6,85,8],[98,6,86,8],[98,13,86,15,"defaultValue"],[98,25,86,27],[99,4,87,4],[100,2,88,0],[101,0,88,1],[101,3]],"functionMap":{"names":["<global>","NodeValueImpl","NodeValueImpl#constructor","node.inputNames.map$argument_0","Object.keys.reduce$argument_0","NodeValueImpl#getInput","NodeValueImpl#getAttr"],"mappings":"AAA;OCqB;ICC;0CCM,2BD;wBEG;aFG;KDE;IIK;KJE;IKK;KLsC;CDC"},"hasCjsExports":false},"type":"js/module"}]}