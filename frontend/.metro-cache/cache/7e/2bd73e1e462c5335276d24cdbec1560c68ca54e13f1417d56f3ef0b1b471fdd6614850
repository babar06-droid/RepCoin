{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":699},"end":{"line":17,"column":53,"index":752}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../utils/fused_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":753},"end":{"line":18,"column":55,"index":808}}],"key":"NIKyPrk9t4Z8kKTQ+oEMTYUcPoo=","exportNames":["*"],"imports":1}},{"name":"./Add","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":809},"end":{"line":19,"column":28,"index":837}}],"key":"exhW/7/uQnUxbVTq5qTlsNQPZN4=","exportNames":["*"],"imports":1}},{"name":"./BatchMatMul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":838},"end":{"line":20,"column":44,"index":882}}],"key":"myXRQlDS2kx+u+U+waVMaXZANbY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports._fusedMatMul = _fusedMatMul;\n  Object.defineProperty(exports, \"_fusedMatMulConfig\", {\n    enumerable: true,\n    get: function () {\n      return _fusedMatMulConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _utilsFused_utils = require(_dependencyMap[1], \"../utils/fused_utils\");\n  var _Add = require(_dependencyMap[2], \"./Add\");\n  var _BatchMatMul = require(_dependencyMap[3], \"./BatchMatMul\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the License);\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an AS IS BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function _fusedMatMul(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      a,\n      b,\n      bias,\n      preluActivationWeights\n    } = inputs;\n    const {\n      transposeA,\n      transposeB,\n      activation,\n      leakyreluAlpha\n    } = attrs;\n    let current;\n    let addRes;\n    let activationRes;\n    const intermediates = [];\n    const matMulRes = (0, _BatchMatMul.batchMatMul)({\n      inputs: {\n        a,\n        b\n      },\n      attrs: {\n        transposeA,\n        transposeB\n      },\n      backend\n    });\n    current = matMulRes;\n    if (bias) {\n      addRes = (0, _Add.add)({\n        inputs: {\n          a: current,\n          b: bias\n        },\n        backend\n      });\n      intermediates.push(current);\n      current = addRes;\n    }\n    if (activation) {\n      activationRes = (0, _utilsFused_utils.applyActivation)(backend, current, activation, preluActivationWeights, leakyreluAlpha);\n      intermediates.push(current);\n      current = activationRes;\n    }\n    for (const i of intermediates) {\n      backend.disposeIntermediateTensorInfo(i);\n    }\n    return current;\n  }\n  const _fusedMatMulConfig = {\n    kernelName: _tensorflowTfjsCore._FusedMatMul,\n    backendName: 'cpu',\n    kernelFunc: _fusedMatMul\n  };\n});","lineCount":95,"map":[[7,2,21,0,"exports"],[7,9,21,0],[7,10,21,0,"_fusedMatMul"],[7,22,21,0],[7,25,21,0,"_fusedMatMul"],[7,37,21,0],[8,2,46,0,"Object"],[8,8,46,0],[8,9,46,0,"defineProperty"],[8,23,46,0],[8,24,46,0,"exports"],[8,31,46,0],[9,4,46,0,"enumerable"],[9,14,46,0],[10,4,46,0,"get"],[10,7,46,0],[10,18,46,0,"get"],[10,19,46,0],[11,6,46,0],[11,13,46,0,"_fusedMatMulConfig"],[11,31,46,0],[12,4,46,0],[13,2,46,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_utilsFused_utils"],[15,23,18,0],[15,26,18,0,"require"],[15,33,18,0],[15,34,18,0,"_dependencyMap"],[15,48,18,0],[16,2,19,0],[16,6,19,0,"_Add"],[16,10,19,0],[16,13,19,0,"require"],[16,20,19,0],[16,21,19,0,"_dependencyMap"],[16,35,19,0],[17,2,20,0],[17,6,20,0,"_BatchMatMul"],[17,18,20,0],[17,21,20,0,"require"],[17,28,20,0],[17,29,20,0,"_dependencyMap"],[17,43,20,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[35,2,21,7],[35,11,21,16,"_fusedMatMul"],[35,23,21,28,"_fusedMatMul"],[35,24,21,29,"args"],[35,28,21,33],[35,30,21,35],[36,4,22,4],[36,10,22,10],[37,6,22,12,"inputs"],[37,12,22,18],[38,6,22,20,"backend"],[38,13,22,27],[39,6,22,29,"attrs"],[40,4,22,35],[40,5,22,36],[40,8,22,39,"args"],[40,12,22,43],[41,4,23,4],[41,10,23,10],[42,6,23,12,"a"],[42,7,23,13],[43,6,23,15,"b"],[43,7,23,16],[44,6,23,18,"bias"],[44,10,23,22],[45,6,23,24,"preluActivationWeights"],[46,4,23,47],[46,5,23,48],[46,8,23,51,"inputs"],[46,14,23,57],[47,4,24,4],[47,10,24,10],[48,6,24,12,"transposeA"],[48,16,24,22],[49,6,24,24,"transposeB"],[49,16,24,34],[50,6,24,36,"activation"],[50,16,24,46],[51,6,24,48,"leakyreluAlpha"],[52,4,24,63],[52,5,24,64],[52,8,24,67,"attrs"],[52,13,24,72],[53,4,25,4],[53,8,25,8,"current"],[53,15,25,15],[54,4,26,4],[54,8,26,8,"addRes"],[54,14,26,14],[55,4,27,4],[55,8,27,8,"activationRes"],[55,21,27,21],[56,4,28,4],[56,10,28,10,"intermediates"],[56,23,28,23],[56,26,28,26],[56,28,28,28],[57,4,29,4],[57,10,29,10,"matMulRes"],[57,19,29,19],[57,22,29,22],[57,26,29,22,"batchMatMul"],[57,38,29,33],[57,39,29,33,"batchMatMul"],[57,50,29,33],[57,52,29,34],[58,6,29,36,"inputs"],[58,12,29,42],[58,14,29,44],[59,8,29,46,"a"],[59,9,29,47],[60,8,29,49,"b"],[61,6,29,51],[61,7,29,52],[62,6,29,54,"attrs"],[62,11,29,59],[62,13,29,61],[63,8,29,63,"transposeA"],[63,18,29,73],[64,8,29,75,"transposeB"],[65,6,29,86],[65,7,29,87],[66,6,29,89,"backend"],[67,4,29,97],[67,5,29,98],[67,6,29,99],[68,4,30,4,"current"],[68,11,30,11],[68,14,30,14,"matMulRes"],[68,23,30,23],[69,4,31,4],[69,8,31,8,"bias"],[69,12,31,12],[69,14,31,14],[70,6,32,8,"addRes"],[70,12,32,14],[70,15,32,17],[70,19,32,17,"add"],[70,23,32,20],[70,24,32,20,"add"],[70,27,32,20],[70,29,32,21],[71,8,32,23,"inputs"],[71,14,32,29],[71,16,32,31],[72,10,32,33,"a"],[72,11,32,34],[72,13,32,36,"current"],[72,20,32,43],[73,10,32,45,"b"],[73,11,32,46],[73,13,32,48,"bias"],[74,8,32,53],[74,9,32,54],[75,8,32,56,"backend"],[76,6,32,64],[76,7,32,65],[76,8,32,66],[77,6,33,8,"intermediates"],[77,19,33,21],[77,20,33,22,"push"],[77,24,33,26],[77,25,33,27,"current"],[77,32,33,34],[77,33,33,35],[78,6,34,8,"current"],[78,13,34,15],[78,16,34,18,"addRes"],[78,22,34,24],[79,4,35,4],[80,4,36,4],[80,8,36,8,"activation"],[80,18,36,18],[80,20,36,20],[81,6,37,8,"activationRes"],[81,19,37,21],[81,22,37,24],[81,26,37,24,"applyActivation"],[81,43,37,39],[81,44,37,39,"applyActivation"],[81,59,37,39],[81,61,37,40,"backend"],[81,68,37,47],[81,70,37,49,"current"],[81,77,37,56],[81,79,37,58,"activation"],[81,89,37,68],[81,91,37,70,"preluActivationWeights"],[81,113,37,92],[81,115,37,94,"leakyreluAlpha"],[81,129,37,108],[81,130,37,109],[82,6,38,8,"intermediates"],[82,19,38,21],[82,20,38,22,"push"],[82,24,38,26],[82,25,38,27,"current"],[82,32,38,34],[82,33,38,35],[83,6,39,8,"current"],[83,13,39,15],[83,16,39,18,"activationRes"],[83,29,39,31],[84,4,40,4],[85,4,41,4],[85,9,41,9],[85,15,41,15,"i"],[85,16,41,16],[85,20,41,20,"intermediates"],[85,33,41,33],[85,35,41,35],[86,6,42,8,"backend"],[86,13,42,15],[86,14,42,16,"disposeIntermediateTensorInfo"],[86,43,42,45],[86,44,42,46,"i"],[86,45,42,47],[86,46,42,48],[87,4,43,4],[88,4,44,4],[88,11,44,11,"current"],[88,18,44,18],[89,2,45,0],[90,2,46,7],[90,8,46,13,"_fusedMatMulConfig"],[90,26,46,31],[90,29,46,34],[91,4,47,4,"kernelName"],[91,14,47,14],[91,16,47,16,"_FusedMatMul"],[91,35,47,28],[91,36,47,28,"_FusedMatMul"],[91,48,47,28],[92,4,48,4,"backendName"],[92,15,48,15],[92,17,48,17],[92,22,48,22],[93,4,49,4,"kernelFunc"],[93,14,49,14],[93,16,49,16,"_fusedMatMul"],[94,2,50,0],[94,3,50,1],[95,0,50,2],[95,3]],"functionMap":{"names":["<global>","_fusedMatMul"],"mappings":"AAA;OCoB;CDwB"},"hasCjsExports":false},"type":"js/module"}]}