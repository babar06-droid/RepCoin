{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":47,"index":750}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"./Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":751},"end":{"line":18,"column":36,"index":787}}],"key":"EUWK+oKi/AwokPOQ1jng5DYfQSc=","exportNames":["*"],"imports":1}},{"name":"./Slice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":788},"end":{"line":19,"column":32,"index":820}}],"key":"vT5DoMUDLMOWA6T5MsUbbgr2jdc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.unpack = unpack;\n  Object.defineProperty(exports, \"unpackConfig\", {\n    enumerable: true,\n    get: function () {\n      return unpackConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _Reshape = require(_dependencyMap[1], \"./Reshape\");\n  var _Slice = require(_dependencyMap[2], \"./Slice\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function unpack(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      value\n    } = inputs;\n    let {\n      axis\n    } = attrs;\n    if (axis < 0) {\n      axis += value.shape.length;\n    }\n    const x = value;\n    const xRank = x.shape.length;\n    const num = value.shape[axis];\n    const outShape = new Array(xRank - 1);\n    let outIndex = 0;\n    for (let i = 0; i < xRank; i++) {\n      if (i !== axis) {\n        outShape[outIndex++] = x.shape[i];\n      }\n    }\n    const toDispose = [];\n    const begin = new Array(xRank).fill(0);\n    const size = x.shape.slice();\n    size[axis] = 1;\n    const res = new Array(num);\n    for (let i = 0; i < res.length; i++) {\n      begin[axis] = i;\n      const sliced = (0, _Slice.slice)({\n        inputs: {\n          x\n        },\n        backend,\n        attrs: {\n          begin,\n          size\n        }\n      });\n      const reshaped = (0, _Reshape.reshape)({\n        inputs: {\n          x: sliced\n        },\n        backend,\n        attrs: {\n          shape: outShape\n        }\n      });\n      res[i] = reshaped;\n      toDispose.push(sliced);\n    }\n    toDispose.forEach(t => backend.disposeIntermediateTensorInfo(t));\n    return res;\n  }\n  const unpackConfig = {\n    kernelName: _tensorflowTfjsCore.Unpack,\n    backendName: 'webgl',\n    kernelFunc: unpack\n  };\n});","lineCount":96,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"unpack"],[7,16,20,0],[7,19,20,0,"unpack"],[7,25,20,0],[8,2,52,0,"Object"],[8,8,52,0],[8,9,52,0,"defineProperty"],[8,23,52,0],[8,24,52,0,"exports"],[8,31,52,0],[9,4,52,0,"enumerable"],[9,14,52,0],[10,4,52,0,"get"],[10,7,52,0],[10,18,52,0,"get"],[10,19,52,0],[11,6,52,0],[11,13,52,0,"unpackConfig"],[11,25,52,0],[12,4,52,0],[13,2,52,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_Reshape"],[15,14,18,0],[15,17,18,0,"require"],[15,24,18,0],[15,25,18,0,"_dependencyMap"],[15,39,18,0],[16,2,19,0],[16,6,19,0,"_Slice"],[16,12,19,0],[16,15,19,0,"require"],[16,22,19,0],[16,23,19,0,"_dependencyMap"],[16,37,19,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[34,2,20,7],[34,11,20,16,"unpack"],[34,17,20,22,"unpack"],[34,18,20,23,"args"],[34,22,20,27],[34,24,20,29],[35,4,21,4],[35,10,21,10],[36,6,21,12,"inputs"],[36,12,21,18],[37,6,21,20,"backend"],[37,13,21,27],[38,6,21,29,"attrs"],[39,4,21,35],[39,5,21,36],[39,8,21,39,"args"],[39,12,21,43],[40,4,22,4],[40,10,22,10],[41,6,22,12,"value"],[42,4,22,18],[42,5,22,19],[42,8,22,22,"inputs"],[42,14,22,28],[43,4,23,4],[43,8,23,8],[44,6,23,10,"axis"],[45,4,23,15],[45,5,23,16],[45,8,23,19,"attrs"],[45,13,23,24],[46,4,24,4],[46,8,24,8,"axis"],[46,12,24,12],[46,15,24,15],[46,16,24,16],[46,18,24,18],[47,6,25,8,"axis"],[47,10,25,12],[47,14,25,16,"value"],[47,19,25,21],[47,20,25,22,"shape"],[47,25,25,27],[47,26,25,28,"length"],[47,32,25,34],[48,4,26,4],[49,4,27,4],[49,10,27,10,"x"],[49,11,27,11],[49,14,27,14,"value"],[49,19,27,19],[50,4,28,4],[50,10,28,10,"xRank"],[50,15,28,15],[50,18,28,18,"x"],[50,19,28,19],[50,20,28,20,"shape"],[50,25,28,25],[50,26,28,26,"length"],[50,32,28,32],[51,4,29,4],[51,10,29,10,"num"],[51,13,29,13],[51,16,29,16,"value"],[51,21,29,21],[51,22,29,22,"shape"],[51,27,29,27],[51,28,29,28,"axis"],[51,32,29,32],[51,33,29,33],[52,4,30,4],[52,10,30,10,"outShape"],[52,18,30,18],[52,21,30,21],[52,25,30,25,"Array"],[52,30,30,30],[52,31,30,31,"xRank"],[52,36,30,36],[52,39,30,39],[52,40,30,40],[52,41,30,41],[53,4,31,4],[53,8,31,8,"outIndex"],[53,16,31,16],[53,19,31,19],[53,20,31,20],[54,4,32,4],[54,9,32,9],[54,13,32,13,"i"],[54,14,32,14],[54,17,32,17],[54,18,32,18],[54,20,32,20,"i"],[54,21,32,21],[54,24,32,24,"xRank"],[54,29,32,29],[54,31,32,31,"i"],[54,32,32,32],[54,34,32,34],[54,36,32,36],[55,6,33,8],[55,10,33,12,"i"],[55,11,33,13],[55,16,33,18,"axis"],[55,20,33,22],[55,22,33,24],[56,8,34,12,"outShape"],[56,16,34,20],[56,17,34,21,"outIndex"],[56,25,34,29],[56,27,34,31],[56,28,34,32],[56,31,34,35,"x"],[56,32,34,36],[56,33,34,37,"shape"],[56,38,34,42],[56,39,34,43,"i"],[56,40,34,44],[56,41,34,45],[57,6,35,8],[58,4,36,4],[59,4,37,4],[59,10,37,10,"toDispose"],[59,19,37,19],[59,22,37,22],[59,24,37,24],[60,4,38,4],[60,10,38,10,"begin"],[60,15,38,15],[60,18,38,18],[60,22,38,22,"Array"],[60,27,38,27],[60,28,38,28,"xRank"],[60,33,38,33],[60,34,38,34],[60,35,38,35,"fill"],[60,39,38,39],[60,40,38,40],[60,41,38,41],[60,42,38,42],[61,4,39,4],[61,10,39,10,"size"],[61,14,39,14],[61,17,39,17,"x"],[61,18,39,18],[61,19,39,19,"shape"],[61,24,39,24],[61,25,39,25,"slice"],[61,30,39,30],[61,31,39,31],[61,32,39,32],[62,4,40,4,"size"],[62,8,40,8],[62,9,40,9,"axis"],[62,13,40,13],[62,14,40,14],[62,17,40,17],[62,18,40,18],[63,4,41,4],[63,10,41,10,"res"],[63,13,41,13],[63,16,41,16],[63,20,41,20,"Array"],[63,25,41,25],[63,26,41,26,"num"],[63,29,41,29],[63,30,41,30],[64,4,42,4],[64,9,42,9],[64,13,42,13,"i"],[64,14,42,14],[64,17,42,17],[64,18,42,18],[64,20,42,20,"i"],[64,21,42,21],[64,24,42,24,"res"],[64,27,42,27],[64,28,42,28,"length"],[64,34,42,34],[64,36,42,36,"i"],[64,37,42,37],[64,39,42,39],[64,41,42,41],[65,6,43,8,"begin"],[65,11,43,13],[65,12,43,14,"axis"],[65,16,43,18],[65,17,43,19],[65,20,43,22,"i"],[65,21,43,23],[66,6,44,8],[66,12,44,14,"sliced"],[66,18,44,20],[66,21,44,23],[66,25,44,23,"slice"],[66,31,44,28],[66,32,44,28,"slice"],[66,37,44,28],[66,39,44,29],[67,8,44,31,"inputs"],[67,14,44,37],[67,16,44,39],[68,10,44,41,"x"],[69,8,44,43],[69,9,44,44],[70,8,44,46,"backend"],[70,15,44,53],[71,8,44,55,"attrs"],[71,13,44,60],[71,15,44,62],[72,10,44,64,"begin"],[72,15,44,69],[73,10,44,71,"size"],[74,8,44,76],[75,6,44,78],[75,7,44,79],[75,8,44,80],[76,6,45,8],[76,12,45,14,"reshaped"],[76,20,45,22],[76,23,45,25],[76,27,45,25,"reshape"],[76,35,45,32],[76,36,45,32,"reshape"],[76,43,45,32],[76,45,45,33],[77,8,45,35,"inputs"],[77,14,45,41],[77,16,45,43],[78,10,45,45,"x"],[78,11,45,46],[78,13,45,48,"sliced"],[79,8,45,55],[79,9,45,56],[80,8,45,58,"backend"],[80,15,45,65],[81,8,45,67,"attrs"],[81,13,45,72],[81,15,45,74],[82,10,45,76,"shape"],[82,15,45,81],[82,17,45,83,"outShape"],[83,8,45,92],[84,6,45,94],[84,7,45,95],[84,8,45,96],[85,6,46,8,"res"],[85,9,46,11],[85,10,46,12,"i"],[85,11,46,13],[85,12,46,14],[85,15,46,17,"reshaped"],[85,23,46,25],[86,6,47,8,"toDispose"],[86,15,47,17],[86,16,47,18,"push"],[86,20,47,22],[86,21,47,23,"sliced"],[86,27,47,29],[86,28,47,30],[87,4,48,4],[88,4,49,4,"toDispose"],[88,13,49,13],[88,14,49,14,"forEach"],[88,21,49,21],[88,22,49,22,"t"],[88,23,49,23],[88,27,49,27,"backend"],[88,34,49,34],[88,35,49,35,"disposeIntermediateTensorInfo"],[88,64,49,64],[88,65,49,65,"t"],[88,66,49,66],[88,67,49,67],[88,68,49,68],[89,4,50,4],[89,11,50,11,"res"],[89,14,50,14],[90,2,51,0],[91,2,52,7],[91,8,52,13,"unpackConfig"],[91,20,52,25],[91,23,52,28],[92,4,53,4,"kernelName"],[92,14,53,14],[92,16,53,16,"Unpack"],[92,35,53,22],[92,36,53,22,"Unpack"],[92,42,53,22],[93,4,54,4,"backendName"],[93,15,54,15],[93,17,54,17],[93,24,54,24],[94,4,55,4,"kernelFunc"],[94,14,55,14],[94,16,55,16,"unpack"],[95,2,56,0],[95,3,56,1],[96,0,56,2],[96,3]],"functionMap":{"names":["<global>","unpack","toDispose.forEach$argument_0"],"mappings":"AAA;OCmB;sBC6B,6CD;CDE"},"hasCjsExports":false},"type":"js/module"}]}