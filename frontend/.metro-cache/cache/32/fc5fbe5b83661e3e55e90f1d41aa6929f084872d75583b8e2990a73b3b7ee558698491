{"dependencies":[{"name":"../reshape_packed_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":61,"index":764}}],"key":"zhuvNSQ8PZlV6RYLYuv6tjEt42U=","exportNames":["*"],"imports":1}},{"name":"../webgl_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":765},"end":{"line":18,"column":57,"index":822}}],"key":"ncDHHGbl4bcWXn1xvuTmTBPdfzY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.packedReshape = packedReshape;\n  var _reshape_packed_gpu = require(_dependencyMap[0], \"../reshape_packed_gpu\");\n  var _webgl_util = require(_dependencyMap[1], \"../webgl_util\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function packedReshape(input, afterShape, backend) {\n    const input3DShape = [(0, _webgl_util.getBatchDim)(input.shape), ...(0, _webgl_util.getRowsCols)(input.shape)];\n    const input3D = {\n      dtype: input.dtype,\n      shape: input3DShape,\n      dataId: input.dataId\n    };\n    const afterShapeAs3D = [(0, _webgl_util.getBatchDim)(afterShape), ...(0, _webgl_util.getRowsCols)(afterShape)];\n    const program = new _reshape_packed_gpu.ReshapePackedProgram(afterShapeAs3D, input3DShape);\n    const preventEagerUnpackingOfOutput = true;\n    const customValues = [input3DShape];\n    const output = backend.runWebGLProgram(program, [input3D], input.dtype, customValues, preventEagerUnpackingOfOutput);\n    return {\n      dataId: output.dataId,\n      shape: afterShape,\n      dtype: output.dtype\n    };\n  }\n});","lineCount":45,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"packedReshape"],[7,23,19,0],[7,26,19,0,"packedReshape"],[7,39,19,0],[8,2,17,0],[8,6,17,0,"_reshape_packed_gpu"],[8,25,17,0],[8,28,17,0,"require"],[8,35,17,0],[8,36,17,0,"_dependencyMap"],[8,50,17,0],[9,2,18,0],[9,6,18,0,"_webgl_util"],[9,17,18,0],[9,20,18,0,"require"],[9,27,18,0],[9,28,18,0,"_dependencyMap"],[9,42,18,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[19,0,10,0],[20,0,11,0],[21,0,12,0],[22,0,13,0],[23,0,14,0],[24,0,15,0],[25,0,16,0],[27,2,19,7],[27,11,19,16,"packedReshape"],[27,24,19,29,"packedReshape"],[27,25,19,30,"input"],[27,30,19,35],[27,32,19,37,"afterShape"],[27,42,19,47],[27,44,19,49,"backend"],[27,51,19,56],[27,53,19,58],[28,4,20,4],[28,10,20,10,"input3DShape"],[28,22,20,22],[28,25,20,25],[28,26,20,26],[28,30,20,26,"getBatchDim"],[28,41,20,37],[28,42,20,37,"getBatchDim"],[28,53,20,37],[28,55,20,38,"input"],[28,60,20,43],[28,61,20,44,"shape"],[28,66,20,49],[28,67,20,50],[28,69,21,8],[28,72,21,11],[28,76,21,11,"getRowsCols"],[28,87,21,22],[28,88,21,22,"getRowsCols"],[28,99,21,22],[28,101,21,23,"input"],[28,106,21,28],[28,107,21,29,"shape"],[28,112,21,34],[28,113,21,35],[28,114,21,36],[29,4,22,4],[29,10,22,10,"input3D"],[29,17,22,17],[29,20,22,20],[30,6,23,8,"dtype"],[30,11,23,13],[30,13,23,15,"input"],[30,18,23,20],[30,19,23,21,"dtype"],[30,24,23,26],[31,6,24,8,"shape"],[31,11,24,13],[31,13,24,15,"input3DShape"],[31,25,24,27],[32,6,25,8,"dataId"],[32,12,25,14],[32,14,25,16,"input"],[32,19,25,21],[32,20,25,22,"dataId"],[33,4,26,4],[33,5,26,5],[34,4,27,4],[34,10,27,10,"afterShapeAs3D"],[34,24,27,24],[34,27,27,27],[34,28,27,28],[34,32,27,28,"getBatchDim"],[34,43,27,39],[34,44,27,39,"getBatchDim"],[34,55,27,39],[34,57,27,40,"afterShape"],[34,67,27,50],[34,68,27,51],[34,70,28,8],[34,73,28,11],[34,77,28,11,"getRowsCols"],[34,88,28,22],[34,89,28,22,"getRowsCols"],[34,100,28,22],[34,102,28,23,"afterShape"],[34,112,28,33],[34,113,28,34],[34,114,28,35],[35,4,29,4],[35,10,29,10,"program"],[35,17,29,17],[35,20,29,20],[35,24,29,24,"ReshapePackedProgram"],[35,43,29,44],[35,44,29,44,"ReshapePackedProgram"],[35,64,29,44],[35,65,29,45,"afterShapeAs3D"],[35,79,29,59],[35,81,29,61,"input3DShape"],[35,93,29,73],[35,94,29,74],[36,4,30,4],[36,10,30,10,"preventEagerUnpackingOfOutput"],[36,39,30,39],[36,42,30,42],[36,46,30,46],[37,4,31,4],[37,10,31,10,"customValues"],[37,22,31,22],[37,25,31,25],[37,26,31,26,"input3DShape"],[37,38,31,38],[37,39,31,39],[38,4,32,4],[38,10,32,10,"output"],[38,16,32,16],[38,19,32,19,"backend"],[38,26,32,26],[38,27,32,27,"runWebGLProgram"],[38,42,32,42],[38,43,32,43,"program"],[38,50,32,50],[38,52,32,52],[38,53,32,53,"input3D"],[38,60,32,60],[38,61,32,61],[38,63,32,63,"input"],[38,68,32,68],[38,69,32,69,"dtype"],[38,74,32,74],[38,76,32,76,"customValues"],[38,88,32,88],[38,90,32,90,"preventEagerUnpackingOfOutput"],[38,119,32,119],[38,120,32,120],[39,4,33,4],[39,11,33,11],[40,6,33,13,"dataId"],[40,12,33,19],[40,14,33,21,"output"],[40,20,33,27],[40,21,33,28,"dataId"],[40,27,33,34],[41,6,33,36,"shape"],[41,11,33,41],[41,13,33,43,"afterShape"],[41,23,33,53],[42,6,33,55,"dtype"],[42,11,33,60],[42,13,33,62,"output"],[42,19,33,68],[42,20,33,69,"dtype"],[43,4,33,75],[43,5,33,76],[44,2,34,0],[45,0,34,1],[45,3]],"functionMap":{"names":["<global>","packedReshape"],"mappings":"AAA;OCkB;CDe"},"hasCjsExports":false},"type":"js/module"}]}