{"dependencies":[{"name":"../engine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":35,"index":738}}],"key":"zbTTi8rtwr8rjl75PzEo829Yvss=","exportNames":["*"],"imports":1}},{"name":"../types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":739},"end":{"line":18,"column":53,"index":792}}],"key":"SiqkZ9nARqNkdXfcIWbBgsKp5Yo=","exportNames":["*"],"imports":1}},{"name":"../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":793},"end":{"line":19,"column":133,"index":926}}],"key":"DTmef1GE5grNQfsvpIzpBlINy9c=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.makeTensor = makeTensor;\n  var _engine = require(_dependencyMap[0], \"../engine\");\n  var _types = require(_dependencyMap[1], \"../types\");\n  var _util = require(_dependencyMap[2], \"../util\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /** This is shared code across all tensor creation methods. */\n  function makeTensor(values, shape, inferredShape, dtype) {\n    if (dtype == null) {\n      dtype = (0, _util.inferDtype)(values);\n    } else if (dtype === 'complex64') {\n      throw new Error(`Cannot construct a complex64 tensor directly. ` + `Please use tf.complex(real, imag).`);\n    }\n    if ((0, _types.isWebGPUData)(values) || (0, _types.isWebGLData)(values)) {\n      if (dtype !== 'float32' && dtype !== 'int32') {\n        throw new Error(`Creating tensor from GPU data only supports ` + `'float32'|'int32' dtype, while the dtype is ${dtype}.`);\n      }\n      return _engine.ENGINE.backend.createTensorFromGPUData(values, shape || inferredShape, dtype);\n    }\n    if (!(0, _util.isTypedArray)(values) && !Array.isArray(values) && typeof values !== 'number' && typeof values !== 'boolean' && typeof values !== 'string') {\n      throw new Error('values passed to tensor(values) must be a number/boolean/string or ' + 'an array of numbers/booleans/strings, or a TypedArray');\n    }\n    // Verify that the shape matches the inferred shape.\n    if (shape != null) {\n      (0, _util.assertNonNegativeIntegerDimensions)(shape);\n      const providedSize = (0, _util.sizeFromShape)(shape);\n      const inferredSize = (0, _util.sizeFromShape)(inferredShape);\n      (0, _util.assert)(providedSize === inferredSize, () => `Based on the provided shape, [${shape}], the tensor should have ` + `${providedSize} values but has ${inferredSize}`);\n      for (let i = 0; i < inferredShape.length; ++i) {\n        const inferred = inferredShape[i];\n        const flatDimsDontMatch = i === inferredShape.length - 1 ? inferred !== (0, _util.sizeFromShape)(shape.slice(i)) : true;\n        (0, _util.assert)(inferredShape[i] === shape[i] || !flatDimsDontMatch, () => `Error creating a new Tensor. Inferred shape ` + `(${inferredShape}) does not match the provided ` + `shape (${shape}). `);\n      }\n    }\n    if (!(0, _util.isTypedArray)(values) && !Array.isArray(values)) {\n      values = [values];\n    }\n    shape = shape || inferredShape;\n    values = dtype !== 'string' ? (0, _util.toTypedArray)(values, dtype) : (0, _util.flatten)(values, [], true);\n    return _engine.ENGINE.makeTensor(values, shape, dtype);\n  }\n});","lineCount":63,"map":[[7,2,21,0,"exports"],[7,9,21,0],[7,10,21,0,"makeTensor"],[7,20,21,0],[7,23,21,0,"makeTensor"],[7,33,21,0],[8,2,17,0],[8,6,17,0,"_engine"],[8,13,17,0],[8,16,17,0,"require"],[8,23,17,0],[8,24,17,0,"_dependencyMap"],[8,38,17,0],[9,2,18,0],[9,6,18,0,"_types"],[9,12,18,0],[9,15,18,0,"require"],[9,22,18,0],[9,23,18,0,"_dependencyMap"],[9,37,18,0],[10,2,19,0],[10,6,19,0,"_util"],[10,11,19,0],[10,14,19,0,"require"],[10,21,19,0],[10,22,19,0,"_dependencyMap"],[10,36,19,0],[11,2,1,0],[12,0,2,0],[13,0,3,0],[14,0,4,0],[15,0,5,0],[16,0,6,0],[17,0,7,0],[18,0,8,0],[19,0,9,0],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[28,2,20,0],[29,2,21,7],[29,11,21,16,"makeTensor"],[29,21,21,26,"makeTensor"],[29,22,21,27,"values"],[29,28,21,33],[29,30,21,35,"shape"],[29,35,21,40],[29,37,21,42,"inferredShape"],[29,50,21,55],[29,52,21,57,"dtype"],[29,57,21,62],[29,59,21,64],[30,4,22,4],[30,8,22,8,"dtype"],[30,13,22,13],[30,17,22,17],[30,21,22,21],[30,23,22,23],[31,6,23,8,"dtype"],[31,11,23,13],[31,14,23,16],[31,18,23,16,"inferDtype"],[31,23,23,26],[31,24,23,26,"inferDtype"],[31,34,23,26],[31,36,23,27,"values"],[31,42,23,33],[31,43,23,34],[32,4,24,4],[32,5,24,5],[32,11,25,9],[32,15,25,13,"dtype"],[32,20,25,18],[32,25,25,23],[32,36,25,34],[32,38,25,36],[33,6,26,8],[33,12,26,14],[33,16,26,18,"Error"],[33,21,26,23],[33,22,26,24],[33,70,26,72],[33,73,27,12],[33,109,27,48],[33,110,27,49],[34,4,28,4],[35,4,29,4],[35,8,29,8],[35,12,29,8,"isWebGPUData"],[35,18,29,20],[35,19,29,20,"isWebGPUData"],[35,31,29,20],[35,33,29,21,"values"],[35,39,29,27],[35,40,29,28],[35,44,29,32],[35,48,29,32,"isWebGLData"],[35,54,29,43],[35,55,29,43,"isWebGLData"],[35,66,29,43],[35,68,29,44,"values"],[35,74,29,50],[35,75,29,51],[35,77,29,53],[36,6,30,8],[36,10,30,12,"dtype"],[36,15,30,17],[36,20,30,22],[36,29,30,31],[36,33,30,35,"dtype"],[36,38,30,40],[36,43,30,45],[36,50,30,52],[36,52,30,54],[37,8,31,12],[37,14,31,18],[37,18,31,22,"Error"],[37,23,31,27],[37,24,31,28],[37,70,31,74],[37,73,32,16],[37,120,32,63,"dtype"],[37,125,32,68],[37,128,32,71],[37,129,32,72],[38,6,33,8],[39,6,34,8],[39,13,34,15,"ENGINE"],[39,20,34,21],[39,21,34,21,"ENGINE"],[39,27,34,21],[39,28,34,22,"backend"],[39,35,34,29],[39,36,34,30,"createTensorFromGPUData"],[39,59,34,53],[39,60,34,54,"values"],[39,66,34,60],[39,68,34,62,"shape"],[39,73,34,67],[39,77,34,71,"inferredShape"],[39,90,34,84],[39,92,34,86,"dtype"],[39,97,34,91],[39,98,34,92],[40,4,35,4],[41,4,36,4],[41,8,36,8],[41,9,36,9],[41,13,36,9,"isTypedArray"],[41,18,36,21],[41,19,36,21,"isTypedArray"],[41,31,36,21],[41,33,36,22,"values"],[41,39,36,28],[41,40,36,29],[41,44,36,33],[41,45,36,34,"Array"],[41,50,36,39],[41,51,36,40,"isArray"],[41,58,36,47],[41,59,36,48,"values"],[41,65,36,54],[41,66,36,55],[41,70,37,8],[41,77,37,15,"values"],[41,83,37,21],[41,88,37,26],[41,96,37,34],[41,100,37,38],[41,107,37,45,"values"],[41,113,37,51],[41,118,37,56],[41,127,37,65],[41,131,38,8],[41,138,38,15,"values"],[41,144,38,21],[41,149,38,26],[41,157,38,34],[41,159,38,36],[42,6,39,8],[42,12,39,14],[42,16,39,18,"Error"],[42,21,39,23],[42,22,39,24],[42,91,39,93],[42,94,40,12],[42,149,40,67],[42,150,40,68],[43,4,41,4],[44,4,42,4],[45,4,43,4],[45,8,43,8,"shape"],[45,13,43,13],[45,17,43,17],[45,21,43,21],[45,23,43,23],[46,6,44,8],[46,10,44,8,"assertNonNegativeIntegerDimensions"],[46,15,44,42],[46,16,44,42,"assertNonNegativeIntegerDimensions"],[46,50,44,42],[46,52,44,43,"shape"],[46,57,44,48],[46,58,44,49],[47,6,45,8],[47,12,45,14,"providedSize"],[47,24,45,26],[47,27,45,29],[47,31,45,29,"sizeFromShape"],[47,36,45,42],[47,37,45,42,"sizeFromShape"],[47,50,45,42],[47,52,45,43,"shape"],[47,57,45,48],[47,58,45,49],[48,6,46,8],[48,12,46,14,"inferredSize"],[48,24,46,26],[48,27,46,29],[48,31,46,29,"sizeFromShape"],[48,36,46,42],[48,37,46,42,"sizeFromShape"],[48,50,46,42],[48,52,46,43,"inferredShape"],[48,65,46,56],[48,66,46,57],[49,6,47,8],[49,10,47,8,"assert"],[49,15,47,14],[49,16,47,14,"assert"],[49,22,47,14],[49,24,47,15,"providedSize"],[49,36,47,27],[49,41,47,32,"inferredSize"],[49,53,47,44],[49,55,47,46],[49,61,47,52],[49,94,47,85,"shape"],[49,99,47,90],[49,127,47,118],[49,130,48,12],[49,133,48,15,"providedSize"],[49,145,48,27],[49,164,48,46,"inferredSize"],[49,176,48,58],[49,178,48,60],[49,179,48,61],[50,6,49,8],[50,11,49,13],[50,15,49,17,"i"],[50,16,49,18],[50,19,49,21],[50,20,49,22],[50,22,49,24,"i"],[50,23,49,25],[50,26,49,28,"inferredShape"],[50,39,49,41],[50,40,49,42,"length"],[50,46,49,48],[50,48,49,50],[50,50,49,52,"i"],[50,51,49,53],[50,53,49,55],[51,8,50,12],[51,14,50,18,"inferred"],[51,22,50,26],[51,25,50,29,"inferredShape"],[51,38,50,42],[51,39,50,43,"i"],[51,40,50,44],[51,41,50,45],[52,8,51,12],[52,14,51,18,"flatDimsDontMatch"],[52,31,51,35],[52,34,51,38,"i"],[52,35,51,39],[52,40,51,44,"inferredShape"],[52,53,51,57],[52,54,51,58,"length"],[52,60,51,64],[52,63,51,67],[52,64,51,68],[52,67,52,16,"inferred"],[52,75,52,24],[52,80,52,29],[52,84,52,29,"sizeFromShape"],[52,89,52,42],[52,90,52,42,"sizeFromShape"],[52,103,52,42],[52,105,52,43,"shape"],[52,110,52,48],[52,111,52,49,"slice"],[52,116,52,54],[52,117,52,55,"i"],[52,118,52,56],[52,119,52,57],[52,120,52,58],[52,123,53,16],[52,127,53,20],[53,8,54,12],[53,12,54,12,"assert"],[53,17,54,18],[53,18,54,18,"assert"],[53,24,54,18],[53,26,54,19,"inferredShape"],[53,39,54,32],[53,40,54,33,"i"],[53,41,54,34],[53,42,54,35],[53,47,54,40,"shape"],[53,52,54,45],[53,53,54,46,"i"],[53,54,54,47],[53,55,54,48],[53,59,54,52],[53,60,54,53,"flatDimsDontMatch"],[53,77,54,70],[53,79,54,72],[53,85,54,78],[53,131,54,124],[53,134,55,16],[53,138,55,20,"inferredShape"],[53,151,55,33],[53,183,55,65],[53,186,56,16],[53,196,56,26,"shape"],[53,201,56,31],[53,206,56,36],[53,207,56,37],[54,6,57,8],[55,4,58,4],[56,4,59,4],[56,8,59,8],[56,9,59,9],[56,13,59,9,"isTypedArray"],[56,18,59,21],[56,19,59,21,"isTypedArray"],[56,31,59,21],[56,33,59,22,"values"],[56,39,59,28],[56,40,59,29],[56,44,59,33],[56,45,59,34,"Array"],[56,50,59,39],[56,51,59,40,"isArray"],[56,58,59,47],[56,59,59,48,"values"],[56,65,59,54],[56,66,59,55],[56,68,59,57],[57,6,60,8,"values"],[57,12,60,14],[57,15,60,17],[57,16,60,18,"values"],[57,22,60,24],[57,23,60,25],[58,4,61,4],[59,4,62,4,"shape"],[59,9,62,9],[59,12,62,12,"shape"],[59,17,62,17],[59,21,62,21,"inferredShape"],[59,34,62,34],[60,4,63,4,"values"],[60,10,63,10],[60,13,63,13,"dtype"],[60,18,63,18],[60,23,63,23],[60,31,63,31],[60,34,64,8],[60,38,64,8,"toTypedArray"],[60,43,64,20],[60,44,64,20,"toTypedArray"],[60,56,64,20],[60,58,64,21,"values"],[60,64,64,27],[60,66,64,29,"dtype"],[60,71,64,34],[60,72,64,35],[60,75,65,8],[60,79,65,8,"flatten"],[60,84,65,15],[60,85,65,15,"flatten"],[60,92,65,15],[60,94,65,16,"values"],[60,100,65,22],[60,102,65,24],[60,104,65,26],[60,106,65,28],[60,110,65,32],[60,111,65,33],[61,4,66,4],[61,11,66,11,"ENGINE"],[61,18,66,17],[61,19,66,17,"ENGINE"],[61,25,66,17],[61,26,66,18,"makeTensor"],[61,36,66,28],[61,37,66,29,"values"],[61,43,66,35],[61,45,66,37,"shape"],[61,50,66,42],[61,52,66,44,"dtype"],[61,57,66,49],[61,58,66,50],[62,2,67,0],[63,0,67,1],[63,3]],"functionMap":{"names":["<global>","makeTensor","assert$argument_1"],"mappings":"AAA;OCoB;8CC0B;4DDC;wECM;oCDE;CDW"},"hasCjsExports":false},"type":"js/module"}]}