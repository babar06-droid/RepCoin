{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":69,"index":772}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../cpu_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":773},"end":{"line":18,"column":47,"index":820}}],"key":"5L5S4GXlh/uJh1MrXQbkPSVOWm4=","exportNames":["*"],"imports":1}},{"name":"./Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":821},"end":{"line":19,"column":36,"index":857}}],"key":"EUWK+oKi/AwokPOQ1jng5DYfQSc=","exportNames":["*"],"imports":1}},{"name":"./Slice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":858},"end":{"line":20,"column":32,"index":890}}],"key":"vT5DoMUDLMOWA6T5MsUbbgr2jdc=","exportNames":["*"],"imports":1}},{"name":"./Transpose","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":891},"end":{"line":21,"column":40,"index":931}}],"key":"F6S1ekgW6WEHcH6rql/beO2khwY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.batchToSpaceND = batchToSpaceND;\n  Object.defineProperty(exports, \"batchToSpaceNDConfig\", {\n    enumerable: true,\n    get: function () {\n      return batchToSpaceNDConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _cpu_util = require(_dependencyMap[1], \"../cpu_util\");\n  var _Reshape = require(_dependencyMap[2], \"./Reshape\");\n  var _Slice = require(_dependencyMap[3], \"./Slice\");\n  var _Transpose = require(_dependencyMap[4], \"./Transpose\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function batchToSpaceND(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      blockShape,\n      crops\n    } = attrs;\n    (0, _cpu_util.assertNotComplex)([x], 'batchToSpaceND');\n    const prod = blockShape.reduce((a, b) => a * b);\n    const reshaped = _tensorflowTfjsCore.backend_util.getReshaped(x.shape, blockShape, prod);\n    const permuted = _tensorflowTfjsCore.backend_util.getPermuted(reshaped.length, blockShape.length);\n    const reshapedPermuted = _tensorflowTfjsCore.backend_util.getReshapedPermuted(x.shape, blockShape, prod);\n    const sliceBeginCoords = _tensorflowTfjsCore.backend_util.getSliceBeginCoords(crops, blockShape.length);\n    const sliceSize = _tensorflowTfjsCore.backend_util.getSliceSize(reshapedPermuted, crops, blockShape.length);\n    const xReshaped = (0, _Reshape.reshape)({\n      inputs: {\n        x\n      },\n      backend,\n      attrs: {\n        shape: reshaped\n      }\n    });\n    const xTransposed = (0, _Transpose.transpose)({\n      inputs: {\n        x: xReshaped\n      },\n      backend,\n      attrs: {\n        perm: permuted\n      }\n    });\n    const xTransposedReshaped = (0, _Reshape.reshape)({\n      inputs: {\n        x: xTransposed\n      },\n      backend,\n      attrs: {\n        shape: reshapedPermuted\n      }\n    });\n    const result = (0, _Slice.slice)({\n      inputs: {\n        x: xTransposedReshaped\n      },\n      backend,\n      attrs: {\n        begin: sliceBeginCoords,\n        size: sliceSize\n      }\n    });\n    backend.disposeIntermediateTensorInfo(xReshaped);\n    backend.disposeIntermediateTensorInfo(xTransposed);\n    backend.disposeIntermediateTensorInfo(xTransposedReshaped);\n    return result;\n  }\n  const batchToSpaceNDConfig = {\n    kernelName: _tensorflowTfjsCore.BatchToSpaceND,\n    backendName: 'cpu',\n    kernelFunc: batchToSpaceND\n  };\n});","lineCount":103,"map":[[7,2,22,0,"exports"],[7,9,22,0],[7,10,22,0,"batchToSpaceND"],[7,24,22,0],[7,27,22,0,"batchToSpaceND"],[7,41,22,0],[8,2,46,0,"Object"],[8,8,46,0],[8,9,46,0,"defineProperty"],[8,23,46,0],[8,24,46,0,"exports"],[8,31,46,0],[9,4,46,0,"enumerable"],[9,14,46,0],[10,4,46,0,"get"],[10,7,46,0],[10,18,46,0,"get"],[10,19,46,0],[11,6,46,0],[11,13,46,0,"batchToSpaceNDConfig"],[11,33,46,0],[12,4,46,0],[13,2,46,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_cpu_util"],[15,15,18,0],[15,18,18,0,"require"],[15,25,18,0],[15,26,18,0,"_dependencyMap"],[15,40,18,0],[16,2,19,0],[16,6,19,0,"_Reshape"],[16,14,19,0],[16,17,19,0,"require"],[16,24,19,0],[16,25,19,0,"_dependencyMap"],[16,39,19,0],[17,2,20,0],[17,6,20,0,"_Slice"],[17,12,20,0],[17,15,20,0,"require"],[17,22,20,0],[17,23,20,0,"_dependencyMap"],[17,37,20,0],[18,2,21,0],[18,6,21,0,"_Transpose"],[18,16,21,0],[18,19,21,0,"require"],[18,26,21,0],[18,27,21,0,"_dependencyMap"],[18,41,21,0],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[29,0,11,0],[30,0,12,0],[31,0,13,0],[32,0,14,0],[33,0,15,0],[34,0,16,0],[36,2,22,7],[36,11,22,16,"batchToSpaceND"],[36,25,22,30,"batchToSpaceND"],[36,26,22,31,"args"],[36,30,22,35],[36,32,22,37],[37,4,23,4],[37,10,23,10],[38,6,23,12,"inputs"],[38,12,23,18],[39,6,23,20,"backend"],[39,13,23,27],[40,6,23,29,"attrs"],[41,4,23,35],[41,5,23,36],[41,8,23,39,"args"],[41,12,23,43],[42,4,24,4],[42,10,24,10],[43,6,24,12,"x"],[44,4,24,14],[44,5,24,15],[44,8,24,18,"inputs"],[44,14,24,24],[45,4,25,4],[45,10,25,10],[46,6,25,12,"blockShape"],[46,16,25,22],[47,6,25,24,"crops"],[48,4,25,30],[48,5,25,31],[48,8,25,34,"attrs"],[48,13,25,39],[49,4,26,4],[49,8,26,4,"assertNotComplex"],[49,17,26,20],[49,18,26,20,"assertNotComplex"],[49,34,26,20],[49,36,26,21],[49,37,26,22,"x"],[49,38,26,23],[49,39,26,24],[49,41,26,26],[49,57,26,42],[49,58,26,43],[50,4,27,4],[50,10,27,10,"prod"],[50,14,27,14],[50,17,27,17,"blockShape"],[50,27,27,27],[50,28,27,28,"reduce"],[50,34,27,34],[50,35,27,35],[50,36,27,36,"a"],[50,37,27,37],[50,39,27,39,"b"],[50,40,27,40],[50,45,27,45,"a"],[50,46,27,46],[50,49,27,49,"b"],[50,50,27,50],[50,51,27,51],[51,4,28,4],[51,10,28,10,"reshaped"],[51,18,28,18],[51,21,28,21,"backend_util"],[51,40,28,33],[51,41,28,33,"backend_util"],[51,53,28,33],[51,54,28,34,"getReshaped"],[51,65,28,45],[51,66,28,46,"x"],[51,67,28,47],[51,68,28,48,"shape"],[51,73,28,53],[51,75,28,55,"blockShape"],[51,85,28,65],[51,87,28,67,"prod"],[51,91,28,71],[51,92,28,72],[52,4,29,4],[52,10,29,10,"permuted"],[52,18,29,18],[52,21,29,21,"backend_util"],[52,40,29,33],[52,41,29,33,"backend_util"],[52,53,29,33],[52,54,29,34,"getPermuted"],[52,65,29,45],[52,66,29,46,"reshaped"],[52,74,29,54],[52,75,29,55,"length"],[52,81,29,61],[52,83,29,63,"blockShape"],[52,93,29,73],[52,94,29,74,"length"],[52,100,29,80],[52,101,29,81],[53,4,30,4],[53,10,30,10,"reshapedPermuted"],[53,26,30,26],[53,29,30,29,"backend_util"],[53,48,30,41],[53,49,30,41,"backend_util"],[53,61,30,41],[53,62,30,42,"getReshapedPermuted"],[53,81,30,61],[53,82,30,62,"x"],[53,83,30,63],[53,84,30,64,"shape"],[53,89,30,69],[53,91,30,71,"blockShape"],[53,101,30,81],[53,103,30,83,"prod"],[53,107,30,87],[53,108,30,88],[54,4,31,4],[54,10,31,10,"sliceBeginCoords"],[54,26,31,26],[54,29,31,29,"backend_util"],[54,48,31,41],[54,49,31,41,"backend_util"],[54,61,31,41],[54,62,31,42,"getSliceBeginCoords"],[54,81,31,61],[54,82,31,62,"crops"],[54,87,31,67],[54,89,31,69,"blockShape"],[54,99,31,79],[54,100,31,80,"length"],[54,106,31,86],[54,107,31,87],[55,4,32,4],[55,10,32,10,"sliceSize"],[55,19,32,19],[55,22,32,22,"backend_util"],[55,41,32,34],[55,42,32,34,"backend_util"],[55,54,32,34],[55,55,32,35,"getSliceSize"],[55,67,32,47],[55,68,32,48,"reshapedPermuted"],[55,84,32,64],[55,86,32,66,"crops"],[55,91,32,71],[55,93,32,73,"blockShape"],[55,103,32,83],[55,104,32,84,"length"],[55,110,32,90],[55,111,32,91],[56,4,33,4],[56,10,33,10,"xReshaped"],[56,19,33,19],[56,22,33,22],[56,26,33,22,"reshape"],[56,34,33,29],[56,35,33,29,"reshape"],[56,42,33,29],[56,44,33,30],[57,6,33,32,"inputs"],[57,12,33,38],[57,14,33,40],[58,8,33,42,"x"],[59,6,33,44],[59,7,33,45],[60,6,33,47,"backend"],[60,13,33,54],[61,6,33,56,"attrs"],[61,11,33,61],[61,13,33,63],[62,8,33,65,"shape"],[62,13,33,70],[62,15,33,72,"reshaped"],[63,6,33,81],[64,4,33,83],[64,5,33,84],[64,6,33,85],[65,4,34,4],[65,10,34,10,"xTransposed"],[65,21,34,21],[65,24,34,24],[65,28,34,24,"transpose"],[65,38,34,33],[65,39,34,33,"transpose"],[65,48,34,33],[65,50,34,34],[66,6,34,36,"inputs"],[66,12,34,42],[66,14,34,44],[67,8,34,46,"x"],[67,9,34,47],[67,11,34,49,"xReshaped"],[68,6,34,59],[68,7,34,60],[69,6,34,62,"backend"],[69,13,34,69],[70,6,34,71,"attrs"],[70,11,34,76],[70,13,34,78],[71,8,34,80,"perm"],[71,12,34,84],[71,14,34,86,"permuted"],[72,6,34,95],[73,4,34,97],[73,5,34,98],[73,6,34,99],[74,4,35,4],[74,10,35,10,"xTransposedReshaped"],[74,29,35,29],[74,32,35,32],[74,36,35,32,"reshape"],[74,44,35,39],[74,45,35,39,"reshape"],[74,52,35,39],[74,54,35,40],[75,6,35,42,"inputs"],[75,12,35,48],[75,14,35,50],[76,8,35,52,"x"],[76,9,35,53],[76,11,35,55,"xTransposed"],[77,6,35,67],[77,7,35,68],[78,6,35,70,"backend"],[78,13,35,77],[79,6,35,79,"attrs"],[79,11,35,84],[79,13,35,86],[80,8,35,88,"shape"],[80,13,35,93],[80,15,35,95,"reshapedPermuted"],[81,6,35,112],[82,4,35,114],[82,5,35,115],[82,6,35,116],[83,4,36,4],[83,10,36,10,"result"],[83,16,36,16],[83,19,36,19],[83,23,36,19,"slice"],[83,29,36,24],[83,30,36,24,"slice"],[83,35,36,24],[83,37,36,25],[84,6,37,8,"inputs"],[84,12,37,14],[84,14,37,16],[85,8,37,18,"x"],[85,9,37,19],[85,11,37,21,"xTransposedReshaped"],[86,6,37,41],[86,7,37,42],[87,6,38,8,"backend"],[87,13,38,15],[88,6,39,8,"attrs"],[88,11,39,13],[88,13,39,15],[89,8,39,17,"begin"],[89,13,39,22],[89,15,39,24,"sliceBeginCoords"],[89,31,39,40],[90,8,39,42,"size"],[90,12,39,46],[90,14,39,48,"sliceSize"],[91,6,39,58],[92,4,40,4],[92,5,40,5],[92,6,40,6],[93,4,41,4,"backend"],[93,11,41,11],[93,12,41,12,"disposeIntermediateTensorInfo"],[93,41,41,41],[93,42,41,42,"xReshaped"],[93,51,41,51],[93,52,41,52],[94,4,42,4,"backend"],[94,11,42,11],[94,12,42,12,"disposeIntermediateTensorInfo"],[94,41,42,41],[94,42,42,42,"xTransposed"],[94,53,42,53],[94,54,42,54],[95,4,43,4,"backend"],[95,11,43,11],[95,12,43,12,"disposeIntermediateTensorInfo"],[95,41,43,41],[95,42,43,42,"xTransposedReshaped"],[95,61,43,61],[95,62,43,62],[96,4,44,4],[96,11,44,11,"result"],[96,17,44,17],[97,2,45,0],[98,2,46,7],[98,8,46,13,"batchToSpaceNDConfig"],[98,28,46,33],[98,31,46,36],[99,4,47,4,"kernelName"],[99,14,47,14],[99,16,47,16,"BatchToSpaceND"],[99,35,47,30],[99,36,47,30,"BatchToSpaceND"],[99,50,47,30],[100,4,48,4,"backendName"],[100,15,48,15],[100,17,48,17],[100,22,48,22],[101,4,49,4,"kernelFunc"],[101,14,49,14],[101,16,49,16,"batchToSpaceND"],[102,2,50,0],[102,3,50,1],[103,0,50,2],[103,3]],"functionMap":{"names":["<global>","batchToSpaceND","blockShape.reduce$argument_0"],"mappings":"AAA;OCqB;mCCK,eD;CDkB"},"hasCjsExports":false},"type":"js/module"}]}