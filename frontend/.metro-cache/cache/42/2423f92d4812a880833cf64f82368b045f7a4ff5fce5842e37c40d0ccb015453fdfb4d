{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":75,"index":778}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"./Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":779},"end":{"line":18,"column":36,"index":815}}],"key":"EUWK+oKi/AwokPOQ1jng5DYfQSc=","exportNames":["*"],"imports":1}},{"name":"./Slice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":816},"end":{"line":19,"column":32,"index":848}}],"key":"vT5DoMUDLMOWA6T5MsUbbgr2jdc=","exportNames":["*"],"imports":1}},{"name":"./Transpose","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":849},"end":{"line":20,"column":40,"index":889}}],"key":"F6S1ekgW6WEHcH6rql/beO2khwY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"batchToSpaceND\", {\n    enumerable: true,\n    get: function () {\n      return batchToSpaceND;\n    }\n  });\n  Object.defineProperty(exports, \"batchToSpaceNDConfig\", {\n    enumerable: true,\n    get: function () {\n      return batchToSpaceNDConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _Reshape = require(_dependencyMap[1], \"./Reshape\");\n  var _Slice = require(_dependencyMap[2], \"./Slice\");\n  var _Transpose = require(_dependencyMap[3], \"./Transpose\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const batchToSpaceND = args => {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      blockShape,\n      crops\n    } = attrs;\n    _tensorflowTfjsCore.util.assert(x.shape.length <= 4, () => 'batchToSpaceND for rank > 4 with a WebGL backend not ' + 'implemented yet');\n    const prod = blockShape.reduce((a, b) => a * b);\n    const reshaped = _tensorflowTfjsCore.backend_util.getReshaped(x.shape, blockShape, prod);\n    const permuted = _tensorflowTfjsCore.backend_util.getPermuted(reshaped.length, blockShape.length);\n    const reshapedPermuted = _tensorflowTfjsCore.backend_util.getReshapedPermuted(x.shape, blockShape, prod);\n    const sliceBeginCoords = _tensorflowTfjsCore.backend_util.getSliceBeginCoords(crops, blockShape.length);\n    const sliceSize = _tensorflowTfjsCore.backend_util.getSliceSize(reshapedPermuted, crops, blockShape.length);\n    const toDispose = [];\n    const reshapedIntermediate = (0, _Reshape.reshape)({\n      inputs: {\n        x\n      },\n      backend,\n      attrs: {\n        shape: reshaped\n      }\n    });\n    const transposedIntermediate = (0, _Transpose.transpose)({\n      inputs: {\n        x: reshapedIntermediate\n      },\n      backend,\n      attrs: {\n        perm: permuted\n      }\n    });\n    const reshapedIntermediate2 = (0, _Reshape.reshape)({\n      inputs: {\n        x: transposedIntermediate\n      },\n      backend,\n      attrs: {\n        shape: reshapedPermuted\n      }\n    });\n    const sliced = (0, _Slice.slice)({\n      inputs: {\n        x: reshapedIntermediate2\n      },\n      backend,\n      attrs: {\n        begin: sliceBeginCoords,\n        size: sliceSize\n      }\n    });\n    toDispose.push(reshapedIntermediate);\n    toDispose.push(transposedIntermediate);\n    toDispose.push(reshapedIntermediate2);\n    toDispose.forEach(t => backend.disposeIntermediateTensorInfo(t));\n    return sliced;\n  };\n  const batchToSpaceNDConfig = {\n    kernelName: _tensorflowTfjsCore.BatchToSpaceND,\n    backendName: 'webgl',\n    kernelFunc: batchToSpaceND\n  };\n});","lineCount":109,"map":[[7,2,21,0,"Object"],[7,8,21,0],[7,9,21,0,"defineProperty"],[7,23,21,0],[7,24,21,0,"exports"],[7,31,21,0],[8,4,21,0,"enumerable"],[8,14,21,0],[9,4,21,0,"get"],[9,7,21,0],[9,18,21,0,"get"],[9,19,21,0],[10,6,21,0],[10,13,21,0,"batchToSpaceND"],[10,27,21,0],[11,4,21,0],[12,2,21,0],[13,2,52,0,"Object"],[13,8,52,0],[13,9,52,0,"defineProperty"],[13,23,52,0],[13,24,52,0,"exports"],[13,31,52,0],[14,4,52,0,"enumerable"],[14,14,52,0],[15,4,52,0,"get"],[15,7,52,0],[15,18,52,0,"get"],[15,19,52,0],[16,6,52,0],[16,13,52,0,"batchToSpaceNDConfig"],[16,33,52,0],[17,4,52,0],[18,2,52,0],[19,2,17,0],[19,6,17,0,"_tensorflowTfjsCore"],[19,25,17,0],[19,28,17,0,"require"],[19,35,17,0],[19,36,17,0,"_dependencyMap"],[19,50,17,0],[20,2,18,0],[20,6,18,0,"_Reshape"],[20,14,18,0],[20,17,18,0,"require"],[20,24,18,0],[20,25,18,0,"_dependencyMap"],[20,39,18,0],[21,2,19,0],[21,6,19,0,"_Slice"],[21,12,19,0],[21,15,19,0,"require"],[21,22,19,0],[21,23,19,0,"_dependencyMap"],[21,37,19,0],[22,2,20,0],[22,6,20,0,"_Transpose"],[22,16,20,0],[22,19,20,0,"require"],[22,26,20,0],[22,27,20,0,"_dependencyMap"],[22,41,20,0],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[27,0,5,0],[28,0,6,0],[29,0,7,0],[30,0,8,0],[31,0,9,0],[32,0,10,0],[33,0,11,0],[34,0,12,0],[35,0,13,0],[36,0,14,0],[37,0,15,0],[38,0,16,0],[40,2,21,7],[40,8,21,13,"batchToSpaceND"],[40,22,21,27],[40,25,21,31,"args"],[40,29,21,35],[40,33,21,40],[41,4,22,4],[41,10,22,10],[42,6,22,12,"inputs"],[42,12,22,18],[43,6,22,20,"backend"],[43,13,22,27],[44,6,22,29,"attrs"],[45,4,22,35],[45,5,22,36],[45,8,22,39,"args"],[45,12,22,43],[46,4,23,4],[46,10,23,10],[47,6,23,12,"x"],[48,4,23,14],[48,5,23,15],[48,8,23,18,"inputs"],[48,14,23,24],[49,4,24,4],[49,10,24,10],[50,6,24,12,"blockShape"],[50,16,24,22],[51,6,24,24,"crops"],[52,4,24,30],[52,5,24,31],[52,8,24,34,"attrs"],[52,13,24,39],[53,4,25,4,"util"],[53,23,25,8],[53,24,25,8,"util"],[53,28,25,8],[53,29,25,9,"assert"],[53,35,25,15],[53,36,25,16,"x"],[53,37,25,17],[53,38,25,18,"shape"],[53,43,25,23],[53,44,25,24,"length"],[53,50,25,30],[53,54,25,34],[53,55,25,35],[53,57,25,37],[53,63,25,43],[53,118,25,98],[53,121,26,8],[53,138,26,25],[53,139,26,26],[54,4,27,4],[54,10,27,10,"prod"],[54,14,27,14],[54,17,27,17,"blockShape"],[54,27,27,27],[54,28,27,28,"reduce"],[54,34,27,34],[54,35,27,35],[54,36,27,36,"a"],[54,37,27,37],[54,39,27,39,"b"],[54,40,27,40],[54,45,27,45,"a"],[54,46,27,46],[54,49,27,49,"b"],[54,50,27,50],[54,51,27,51],[55,4,28,4],[55,10,28,10,"reshaped"],[55,18,28,18],[55,21,28,21,"backend_util"],[55,40,28,33],[55,41,28,33,"backend_util"],[55,53,28,33],[55,54,28,34,"getReshaped"],[55,65,28,45],[55,66,28,46,"x"],[55,67,28,47],[55,68,28,48,"shape"],[55,73,28,53],[55,75,28,55,"blockShape"],[55,85,28,65],[55,87,28,67,"prod"],[55,91,28,71],[55,92,28,72],[56,4,29,4],[56,10,29,10,"permuted"],[56,18,29,18],[56,21,29,21,"backend_util"],[56,40,29,33],[56,41,29,33,"backend_util"],[56,53,29,33],[56,54,29,34,"getPermuted"],[56,65,29,45],[56,66,29,46,"reshaped"],[56,74,29,54],[56,75,29,55,"length"],[56,81,29,61],[56,83,29,63,"blockShape"],[56,93,29,73],[56,94,29,74,"length"],[56,100,29,80],[56,101,29,81],[57,4,30,4],[57,10,30,10,"reshapedPermuted"],[57,26,30,26],[57,29,30,29,"backend_util"],[57,48,30,41],[57,49,30,41,"backend_util"],[57,61,30,41],[57,62,30,42,"getReshapedPermuted"],[57,81,30,61],[57,82,30,62,"x"],[57,83,30,63],[57,84,30,64,"shape"],[57,89,30,69],[57,91,30,71,"blockShape"],[57,101,30,81],[57,103,30,83,"prod"],[57,107,30,87],[57,108,30,88],[58,4,31,4],[58,10,31,10,"sliceBeginCoords"],[58,26,31,26],[58,29,31,29,"backend_util"],[58,48,31,41],[58,49,31,41,"backend_util"],[58,61,31,41],[58,62,31,42,"getSliceBeginCoords"],[58,81,31,61],[58,82,31,62,"crops"],[58,87,31,67],[58,89,31,69,"blockShape"],[58,99,31,79],[58,100,31,80,"length"],[58,106,31,86],[58,107,31,87],[59,4,32,4],[59,10,32,10,"sliceSize"],[59,19,32,19],[59,22,32,22,"backend_util"],[59,41,32,34],[59,42,32,34,"backend_util"],[59,54,32,34],[59,55,32,35,"getSliceSize"],[59,67,32,47],[59,68,32,48,"reshapedPermuted"],[59,84,32,64],[59,86,32,66,"crops"],[59,91,32,71],[59,93,32,73,"blockShape"],[59,103,32,83],[59,104,32,84,"length"],[59,110,32,90],[59,111,32,91],[60,4,33,4],[60,10,33,10,"toDispose"],[60,19,33,19],[60,22,33,22],[60,24,33,24],[61,4,34,4],[61,10,34,10,"reshapedIntermediate"],[61,30,34,30],[61,33,34,33],[61,37,34,33,"reshape"],[61,45,34,40],[61,46,34,40,"reshape"],[61,53,34,40],[61,55,34,41],[62,6,34,43,"inputs"],[62,12,34,49],[62,14,34,51],[63,8,34,53,"x"],[64,6,34,55],[64,7,34,56],[65,6,34,58,"backend"],[65,13,34,65],[66,6,34,67,"attrs"],[66,11,34,72],[66,13,34,74],[67,8,34,76,"shape"],[67,13,34,81],[67,15,34,83,"reshaped"],[68,6,34,92],[69,4,34,94],[69,5,34,95],[69,6,34,96],[70,4,35,4],[70,10,35,10,"transposedIntermediate"],[70,32,35,32],[70,35,35,35],[70,39,35,35,"transpose"],[70,49,35,44],[70,50,35,44,"transpose"],[70,59,35,44],[70,61,35,45],[71,6,35,47,"inputs"],[71,12,35,53],[71,14,35,55],[72,8,35,57,"x"],[72,9,35,58],[72,11,35,60,"reshapedIntermediate"],[73,6,35,81],[73,7,35,82],[74,6,35,84,"backend"],[74,13,35,91],[75,6,35,93,"attrs"],[75,11,35,98],[75,13,35,100],[76,8,35,102,"perm"],[76,12,35,106],[76,14,35,108,"permuted"],[77,6,35,117],[78,4,35,119],[78,5,35,120],[78,6,35,121],[79,4,36,4],[79,10,36,10,"reshapedIntermediate2"],[79,31,36,31],[79,34,36,34],[79,38,36,34,"reshape"],[79,46,36,41],[79,47,36,41,"reshape"],[79,54,36,41],[79,56,36,42],[80,6,37,8,"inputs"],[80,12,37,14],[80,14,37,16],[81,8,37,18,"x"],[81,9,37,19],[81,11,37,21,"transposedIntermediate"],[82,6,37,44],[82,7,37,45],[83,6,38,8,"backend"],[83,13,38,15],[84,6,39,8,"attrs"],[84,11,39,13],[84,13,39,15],[85,8,39,17,"shape"],[85,13,39,22],[85,15,39,24,"reshapedPermuted"],[86,6,39,41],[87,4,40,4],[87,5,40,5],[87,6,40,6],[88,4,41,4],[88,10,41,10,"sliced"],[88,16,41,16],[88,19,41,19],[88,23,41,19,"slice"],[88,29,41,24],[88,30,41,24,"slice"],[88,35,41,24],[88,37,41,25],[89,6,42,8,"inputs"],[89,12,42,14],[89,14,42,16],[90,8,42,18,"x"],[90,9,42,19],[90,11,42,21,"reshapedIntermediate2"],[91,6,42,43],[91,7,42,44],[92,6,43,8,"backend"],[92,13,43,15],[93,6,44,8,"attrs"],[93,11,44,13],[93,13,44,15],[94,8,44,17,"begin"],[94,13,44,22],[94,15,44,24,"sliceBeginCoords"],[94,31,44,40],[95,8,44,42,"size"],[95,12,44,46],[95,14,44,48,"sliceSize"],[96,6,44,58],[97,4,45,4],[97,5,45,5],[97,6,45,6],[98,4,46,4,"toDispose"],[98,13,46,13],[98,14,46,14,"push"],[98,18,46,18],[98,19,46,19,"reshapedIntermediate"],[98,39,46,39],[98,40,46,40],[99,4,47,4,"toDispose"],[99,13,47,13],[99,14,47,14,"push"],[99,18,47,18],[99,19,47,19,"transposedIntermediate"],[99,41,47,41],[99,42,47,42],[100,4,48,4,"toDispose"],[100,13,48,13],[100,14,48,14,"push"],[100,18,48,18],[100,19,48,19,"reshapedIntermediate2"],[100,40,48,40],[100,41,48,41],[101,4,49,4,"toDispose"],[101,13,49,13],[101,14,49,14,"forEach"],[101,21,49,21],[101,22,49,22,"t"],[101,23,49,23],[101,27,49,27,"backend"],[101,34,49,34],[101,35,49,35,"disposeIntermediateTensorInfo"],[101,64,49,64],[101,65,49,65,"t"],[101,66,49,66],[101,67,49,67],[101,68,49,68],[102,4,50,4],[102,11,50,11,"sliced"],[102,17,50,17],[103,2,51,0],[103,3,51,1],[104,2,52,7],[104,8,52,13,"batchToSpaceNDConfig"],[104,28,52,33],[104,31,52,36],[105,4,53,4,"kernelName"],[105,14,53,14],[105,16,53,16,"BatchToSpaceND"],[105,35,53,30],[105,36,53,30,"BatchToSpaceND"],[105,50,53,30],[106,4,54,4,"backendName"],[106,15,54,15],[106,17,54,17],[106,24,54,24],[107,4,55,4,"kernelFunc"],[107,14,55,14],[107,16,55,16,"batchToSpaceND"],[108,2,56,0],[108,3,56,1],[109,0,56,2],[109,3]],"functionMap":{"names":["<global>","batchToSpaceND","util.assert$argument_1","blockShape.reduce$argument_0","toDispose.forEach$argument_0"],"mappings":"AAA;8BCoB;qCCI;yBDC;mCEC,eF;sBGsB,6CH;CDE"},"hasCjsExports":false},"type":"js/module"}]}