{"dependencies":[{"name":"../mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":29,"index":732}}],"key":"IV74B7MBUPoSZUTM5ocGXe9fIRE=","exportNames":["*"],"imports":1}},{"name":"../operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":733},"end":{"line":18,"column":34,"index":767}}],"key":"fQilPqfSvhAHjyfKT0P4wel7jE4=","exportNames":["*"],"imports":1}},{"name":"../signal_ops_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":768},"end":{"line":19,"column":57,"index":825}}],"key":"lDaTCqJRJKMuF/fP60Gzx8nTj14=","exportNames":["*"],"imports":1}},{"name":"../spectral/rfft","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":826},"end":{"line":20,"column":40,"index":866}}],"key":"I41qN3Jiy6wJ63ZjWE7vjrQyRY4=","exportNames":["*"],"imports":1}},{"name":"./frame","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":867},"end":{"line":21,"column":32,"index":899}}],"key":"ZBDAcGkktaKfq8U8KdEyFsfxc1k=","exportNames":["*"],"imports":1}},{"name":"./hann_window","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":900},"end":{"line":22,"column":43,"index":943}}],"key":"cLFUBZYLN+mUL1Ai7giNg8Qbb+A=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"stft\", {\n    enumerable: true,\n    get: function () {\n      return stft;\n    }\n  });\n  var _mul = require(_dependencyMap[0], \"../mul\");\n  var _operation = require(_dependencyMap[1], \"../operation\");\n  var _signal_ops_util = require(_dependencyMap[2], \"../signal_ops_util\");\n  var _spectralRfft = require(_dependencyMap[3], \"../spectral/rfft\");\n  var _frame = require(_dependencyMap[4], \"./frame\");\n  var _hann_window = require(_dependencyMap[5], \"./hann_window\");\n  /**\n   * @license\n   * Copyright 2019 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Computes the Short-time Fourier Transform of signals\n   * See: https://en.wikipedia.org/wiki/Short-time_Fourier_transform\n   *\n   * ```js\n   * const input = tf.tensor1d([1, 1, 1, 1, 1])\n   * tf.signal.stft(input, 3, 1).print();\n   * ```\n   * @param signal 1-dimensional real value tensor.\n   * @param frameLength The window length of samples.\n   * @param frameStep The number of samples to step.\n   * @param fftLength The size of the FFT to apply.\n   * @param windowFn A callable that takes a window length and returns 1-d tensor.\n   *\n   * @doc {heading: 'Operations', subheading: 'Signal', namespace: 'signal'}\n   */\n  function stft_(signal, frameLength, frameStep, fftLength, windowFn = _hann_window.hannWindow) {\n    if (fftLength == null) {\n      fftLength = (0, _signal_ops_util.enclosingPowerOfTwo)(frameLength);\n    }\n    const framedSignal = (0, _frame.frame)(signal, frameLength, frameStep);\n    const windowedSignal = (0, _mul.mul)(framedSignal, windowFn(frameLength));\n    return (0, _spectralRfft.rfft)(windowedSignal, fftLength);\n  }\n  const stft = /* @__PURE__ */(0, _operation.op)({\n    stft_\n  });\n});","lineCount":63,"map":[[7,2,47,0,"Object"],[7,8,47,0],[7,9,47,0,"defineProperty"],[7,23,47,0],[7,24,47,0,"exports"],[7,31,47,0],[8,4,47,0,"enumerable"],[8,14,47,0],[9,4,47,0,"get"],[9,7,47,0],[9,18,47,0,"get"],[9,19,47,0],[10,6,47,0],[10,13,47,0,"stft"],[10,17,47,0],[11,4,47,0],[12,2,47,0],[13,2,17,0],[13,6,17,0,"_mul"],[13,10,17,0],[13,13,17,0,"require"],[13,20,17,0],[13,21,17,0,"_dependencyMap"],[13,35,17,0],[14,2,18,0],[14,6,18,0,"_operation"],[14,16,18,0],[14,19,18,0,"require"],[14,26,18,0],[14,27,18,0,"_dependencyMap"],[14,41,18,0],[15,2,19,0],[15,6,19,0,"_signal_ops_util"],[15,22,19,0],[15,25,19,0,"require"],[15,32,19,0],[15,33,19,0,"_dependencyMap"],[15,47,19,0],[16,2,20,0],[16,6,20,0,"_spectralRfft"],[16,19,20,0],[16,22,20,0,"require"],[16,29,20,0],[16,30,20,0,"_dependencyMap"],[16,44,20,0],[17,2,21,0],[17,6,21,0,"_frame"],[17,12,21,0],[17,15,21,0,"require"],[17,22,21,0],[17,23,21,0,"_dependencyMap"],[17,37,21,0],[18,2,22,0],[18,6,22,0,"_hann_window"],[18,18,22,0],[18,21,22,0,"require"],[18,28,22,0],[18,29,22,0,"_dependencyMap"],[18,43,22,0],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[29,0,11,0],[30,0,12,0],[31,0,13,0],[32,0,14,0],[33,0,15,0],[34,0,16,0],[36,2,23,0],[37,0,24,0],[38,0,25,0],[39,0,26,0],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,2,39,0],[52,11,39,9,"stft_"],[52,16,39,14,"stft_"],[52,17,39,15,"signal"],[52,23,39,21],[52,25,39,23,"frameLength"],[52,36,39,34],[52,38,39,36,"frameStep"],[52,47,39,45],[52,49,39,47,"fftLength"],[52,58,39,56],[52,60,39,58,"windowFn"],[52,68,39,66],[52,71,39,69,"hannWindow"],[52,83,39,79],[52,84,39,79,"hannWindow"],[52,94,39,79],[52,96,39,81],[53,4,40,4],[53,8,40,8,"fftLength"],[53,17,40,17],[53,21,40,21],[53,25,40,25],[53,27,40,27],[54,6,41,8,"fftLength"],[54,15,41,17],[54,18,41,20],[54,22,41,20,"enclosingPowerOfTwo"],[54,38,41,39],[54,39,41,39,"enclosingPowerOfTwo"],[54,58,41,39],[54,60,41,40,"frameLength"],[54,71,41,51],[54,72,41,52],[55,4,42,4],[56,4,43,4],[56,10,43,10,"framedSignal"],[56,22,43,22],[56,25,43,25],[56,29,43,25,"frame"],[56,35,43,30],[56,36,43,30,"frame"],[56,41,43,30],[56,43,43,31,"signal"],[56,49,43,37],[56,51,43,39,"frameLength"],[56,62,43,50],[56,64,43,52,"frameStep"],[56,73,43,61],[56,74,43,62],[57,4,44,4],[57,10,44,10,"windowedSignal"],[57,24,44,24],[57,27,44,27],[57,31,44,27,"mul"],[57,35,44,30],[57,36,44,30,"mul"],[57,39,44,30],[57,41,44,31,"framedSignal"],[57,53,44,43],[57,55,44,45,"windowFn"],[57,63,44,53],[57,64,44,54,"frameLength"],[57,75,44,65],[57,76,44,66],[57,77,44,67],[58,4,45,4],[58,11,45,11],[58,15,45,11,"rfft"],[58,28,45,15],[58,29,45,15,"rfft"],[58,33,45,15],[58,35,45,16,"windowedSignal"],[58,49,45,30],[58,51,45,32,"fftLength"],[58,60,45,41],[58,61,45,42],[59,2,46,0],[60,2,47,7],[60,8,47,13,"stft"],[60,12,47,17],[60,15,47,20],[60,30,47,36],[60,34,47,36,"op"],[60,44,47,38],[60,45,47,38,"op"],[60,47,47,38],[60,49,47,39],[61,4,47,41,"stft_"],[62,2,47,47],[62,3,47,48],[62,4,47,49],[63,0,47,50],[63,3]],"functionMap":{"names":["<global>","stft_"],"mappings":"AAA;ACsC;CDO"},"hasCjsExports":false},"type":"js/module"}]}