{"dependencies":[{"name":"./shader_compiler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":54,"index":757}}],"key":"yVSKlvZSxQn3Ck2puzGVWEYPzq8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"PadProgram\", {\n    enumerable: true,\n    get: function () {\n      return PadProgram;\n    }\n  });\n  var _shader_compiler = require(_dependencyMap[0], \"./shader_compiler\");\n  /**\n   * @license\n   * Copyright 2017 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  class PadProgram {\n    constructor(xShape, paddings, constantValue) {\n      this.variableNames = ['x'];\n      this.customUniforms = [{\n        name: 'value',\n        type: 'float'\n      }];\n      this.outputShape = paddings.map((p, i) => p[0] /* beforePad */ + xShape[i] + p[1] /* afterPad */);\n      const rank = xShape.length;\n      const type = (0, _shader_compiler.getCoordsDataType)(rank);\n      const start = paddings.map(p => p[0]).join(',');\n      const end = paddings.map((p, i) => p[0] + xShape[i]).join(',');\n      const unpackedCoords = ['coords[0]', 'coords[1]', 'coords[2]', 'coords[3]'].slice(0, rank);\n      if (rank === 1) {\n        this.userCode = `\n        int start = ${start};\n        int end = ${end};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `;\n        return;\n      }\n      this.userCode = `\n      ${type} start = ${type}(${start});\n      ${type} end = ${type}(${end});\n\n      void main() {\n        ${type} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${type} coords = outC - start;\n          setOutput(getX(${unpackedCoords}));\n        }\n      }\n    `;\n    }\n  }\n});","lineCount":76,"map":[[7,2,18,0,"Object"],[7,8,18,0],[7,9,18,0,"defineProperty"],[7,23,18,0],[7,24,18,0,"exports"],[7,31,18,0],[8,4,18,0,"enumerable"],[8,14,18,0],[9,4,18,0,"get"],[9,7,18,0],[9,18,18,0,"get"],[9,19,18,0],[10,6,18,0],[10,13,18,0,"PadProgram"],[10,23,18,0],[11,4,18,0],[12,2,18,0],[13,2,17,0],[13,6,17,0,"_shader_compiler"],[13,22,17,0],[13,25,17,0,"require"],[13,32,17,0],[13,33,17,0,"_dependencyMap"],[13,47,17,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,0,5,0],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,0,12,0],[26,0,13,0],[27,0,14,0],[28,0,15,0],[29,0,16,0],[31,2,18,7],[31,8,18,13,"PadProgram"],[31,18,18,23],[31,19,18,24],[32,4,19,4,"constructor"],[32,15,19,15,"constructor"],[32,16,19,16,"xShape"],[32,22,19,22],[32,24,19,24,"paddings"],[32,32,19,32],[32,34,19,34,"constantValue"],[32,47,19,47],[32,49,19,49],[33,6,20,8],[33,10,20,12],[33,11,20,13,"variableNames"],[33,24,20,26],[33,27,20,29],[33,28,20,30],[33,31,20,33],[33,32,20,34],[34,6,21,8],[34,10,21,12],[34,11,21,13,"customUniforms"],[34,25,21,27],[34,28,21,30],[34,29,21,31],[35,8,21,33,"name"],[35,12,21,37],[35,14,21,39],[35,21,21,46],[36,8,21,48,"type"],[36,12,21,52],[36,14,21,54],[37,6,21,62],[37,7,21,63],[37,8,21,64],[38,6,22,8],[38,10,22,12],[38,11,22,13,"outputShape"],[38,22,22,24],[38,25,22,27,"paddings"],[38,33,22,35],[38,34,22,36,"map"],[38,37,22,39],[38,38,22,40],[38,39,22,41,"p"],[38,40,22,42],[38,42,22,44,"i"],[38,43,22,45],[38,48,22,50,"p"],[38,49,22,51],[38,50,22,52],[38,51,22,53],[38,52,22,54],[38,53,22,55],[38,71,22,73,"xShape"],[38,77,22,79],[38,78,22,80,"i"],[38,79,22,81],[38,80,22,82],[38,83,22,85,"p"],[38,84,22,86],[38,85,22,87],[38,86,22,88],[38,87,22,89],[38,88,22,90],[38,102,22,104],[38,103,22,105],[39,6,23,8],[39,12,23,14,"rank"],[39,16,23,18],[39,19,23,21,"xShape"],[39,25,23,27],[39,26,23,28,"length"],[39,32,23,34],[40,6,24,8],[40,12,24,14,"type"],[40,16,24,18],[40,19,24,21],[40,23,24,21,"getCoordsDataType"],[40,39,24,38],[40,40,24,38,"getCoordsDataType"],[40,57,24,38],[40,59,24,39,"rank"],[40,63,24,43],[40,64,24,44],[41,6,25,8],[41,12,25,14,"start"],[41,17,25,19],[41,20,25,22,"paddings"],[41,28,25,30],[41,29,25,31,"map"],[41,32,25,34],[41,33,25,35,"p"],[41,34,25,36],[41,38,25,40,"p"],[41,39,25,41],[41,40,25,42],[41,41,25,43],[41,42,25,44],[41,43,25,45],[41,44,25,46,"join"],[41,48,25,50],[41,49,25,51],[41,52,25,54],[41,53,25,55],[42,6,26,8],[42,12,26,14,"end"],[42,15,26,17],[42,18,26,20,"paddings"],[42,26,26,28],[42,27,26,29,"map"],[42,30,26,32],[42,31,26,33],[42,32,26,34,"p"],[42,33,26,35],[42,35,26,37,"i"],[42,36,26,38],[42,41,26,43,"p"],[42,42,26,44],[42,43,26,45],[42,44,26,46],[42,45,26,47],[42,48,26,50,"xShape"],[42,54,26,56],[42,55,26,57,"i"],[42,56,26,58],[42,57,26,59],[42,58,26,60],[42,59,26,61,"join"],[42,63,26,65],[42,64,26,66],[42,67,26,69],[42,68,26,70],[43,6,27,8],[43,12,27,14,"unpackedCoords"],[43,26,27,28],[43,29,27,31],[43,30,27,32],[43,41,27,43],[43,43,27,45],[43,54,27,56],[43,56,27,58],[43,67,27,69],[43,69,27,71],[43,80,27,82],[43,81,27,83],[43,82,27,84,"slice"],[43,87,27,89],[43,88,27,90],[43,89,27,91],[43,91,27,93,"rank"],[43,95,27,97],[43,96,27,98],[44,6,28,8],[44,10,28,12,"rank"],[44,14,28,16],[44,19,28,21],[44,20,28,22],[44,22,28,24],[45,8,29,12],[45,12,29,16],[45,13,29,17,"userCode"],[45,21,29,25],[45,24,29,28],[46,0,30,0],[46,22,30,22,"start"],[46,27,30,27],[47,0,31,0],[47,20,31,20,"end"],[47,23,31,23],[48,0,32,0],[49,0,33,0],[50,0,34,0],[51,0,35,0],[52,0,36,0],[53,0,37,0],[54,0,38,0],[55,0,39,0],[56,0,40,0],[57,0,41,0],[57,7,41,7],[58,8,42,12],[59,6,43,8],[60,6,44,8],[60,10,44,12],[60,11,44,13,"userCode"],[60,19,44,21],[60,22,44,24],[61,0,45,0],[61,8,45,8,"type"],[61,12,45,12],[61,24,45,24,"type"],[61,28,45,28],[61,32,45,32,"start"],[61,37,45,37],[62,0,46,0],[62,8,46,8,"type"],[62,12,46,12],[62,22,46,22,"type"],[62,26,46,26],[62,30,46,30,"end"],[62,33,46,33],[63,0,47,0],[64,0,48,0],[65,0,49,0],[65,10,49,10,"type"],[65,14,49,14],[66,0,50,0],[67,0,51,0],[68,0,52,0],[69,0,53,0],[69,12,53,12,"type"],[69,16,53,16],[70,0,54,0],[70,27,54,27,"unpackedCoords"],[70,41,54,41],[71,0,55,0],[72,0,56,0],[73,0,57,0],[73,5,57,5],[74,4,58,4],[75,2,59,0],[76,0,59,1],[76,3]],"functionMap":{"names":["<global>","PadProgram","PadProgram#constructor","paddings.map$argument_0"],"mappings":"AAA;OCiB;ICC;wCCG,iDD;mCCG,SD;iCCC,0BD;KDgC;CDC"},"hasCjsExports":false},"type":"js/module"}]}