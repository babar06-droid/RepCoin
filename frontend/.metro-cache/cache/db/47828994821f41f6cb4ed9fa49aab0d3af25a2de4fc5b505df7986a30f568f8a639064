{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":68,"index":771}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../pool_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":772},"end":{"line":18,"column":44,"index":816}}],"key":"ztJuPZ8xRn1mFC+lfpew4ZsEXPo=","exportNames":["*"],"imports":1}},{"name":"../webgl_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":817},"end":{"line":19,"column":49,"index":866}}],"key":"ncDHHGbl4bcWXn1xvuTmTBPdfzY=","exportNames":["*"],"imports":1}},{"name":"./Identity","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":867},"end":{"line":20,"column":38,"index":905}}],"key":"fmoGkMbvl3R/HMlCKK1PD8/q2lc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.avgPool = avgPool;\n  Object.defineProperty(exports, \"avgPoolConfig\", {\n    enumerable: true,\n    get: function () {\n      return avgPoolConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _pool_gpu = require(_dependencyMap[1], \"../pool_gpu\");\n  var _webgl_util = require(_dependencyMap[2], \"../webgl_util\");\n  var _Identity = require(_dependencyMap[3], \"./Identity\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function avgPool(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    (0, _webgl_util.assertNotComplex)(x, 'avgPool');\n    const {\n      filterSize,\n      strides,\n      pad,\n      dimRoundingMode\n    } = attrs;\n    const dilations = 1;\n    _tensorflowTfjsCore.util.assert(_tensorflowTfjsCore.backend_util.eitherStridesOrDilationsAreOne(strides, dilations), () => 'Error in avgPool: Either strides or dilations must be 1. ' + `Got strides ${strides} and dilations '${dilations}'`);\n    const convInfo = _tensorflowTfjsCore.backend_util.computePool2DInfo(x.shape, filterSize, strides, dilations, pad, dimRoundingMode);\n    if (convInfo.filterWidth === 1 && convInfo.filterHeight === 1 && _tensorflowTfjsCore.util.arraysEqual(convInfo.inShape, convInfo.outShape)) {\n      return (0, _Identity.identity)({\n        inputs: {\n          x\n        },\n        backend\n      });\n    }\n    const avgPoolProgram = new _pool_gpu.Pool2DProgram(convInfo, 'avg', false);\n    return backend.runWebGLProgram(avgPoolProgram, [x], 'float32');\n  }\n  const avgPoolConfig = {\n    kernelName: _tensorflowTfjsCore.AvgPool,\n    backendName: 'webgl',\n    kernelFunc: avgPool\n  };\n});","lineCount":70,"map":[[7,2,21,0,"exports"],[7,9,21,0],[7,10,21,0,"avgPool"],[7,17,21,0],[7,20,21,0,"avgPool"],[7,27,21,0],[8,2,37,0,"Object"],[8,8,37,0],[8,9,37,0,"defineProperty"],[8,23,37,0],[8,24,37,0,"exports"],[8,31,37,0],[9,4,37,0,"enumerable"],[9,14,37,0],[10,4,37,0,"get"],[10,7,37,0],[10,18,37,0,"get"],[10,19,37,0],[11,6,37,0],[11,13,37,0,"avgPoolConfig"],[11,26,37,0],[12,4,37,0],[13,2,37,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_pool_gpu"],[15,15,18,0],[15,18,18,0,"require"],[15,25,18,0],[15,26,18,0,"_dependencyMap"],[15,40,18,0],[16,2,19,0],[16,6,19,0,"_webgl_util"],[16,17,19,0],[16,20,19,0,"require"],[16,27,19,0],[16,28,19,0,"_dependencyMap"],[16,42,19,0],[17,2,20,0],[17,6,20,0,"_Identity"],[17,15,20,0],[17,18,20,0,"require"],[17,25,20,0],[17,26,20,0,"_dependencyMap"],[17,40,20,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[35,2,21,7],[35,11,21,16,"avgPool"],[35,18,21,23,"avgPool"],[35,19,21,24,"args"],[35,23,21,28],[35,25,21,30],[36,4,22,4],[36,10,22,10],[37,6,22,12,"inputs"],[37,12,22,18],[38,6,22,20,"backend"],[38,13,22,27],[39,6,22,29,"attrs"],[40,4,22,35],[40,5,22,36],[40,8,22,39,"args"],[40,12,22,43],[41,4,23,4],[41,10,23,10],[42,6,23,12,"x"],[43,4,23,14],[43,5,23,15],[43,8,23,18,"inputs"],[43,14,23,24],[44,4,24,4],[44,8,24,4,"assertNotComplex"],[44,19,24,20],[44,20,24,20,"assertNotComplex"],[44,36,24,20],[44,38,24,21,"x"],[44,39,24,22],[44,41,24,24],[44,50,24,33],[44,51,24,34],[45,4,25,4],[45,10,25,10],[46,6,25,12,"filterSize"],[46,16,25,22],[47,6,25,24,"strides"],[47,13,25,31],[48,6,25,33,"pad"],[48,9,25,36],[49,6,25,38,"dimRoundingMode"],[50,4,25,54],[50,5,25,55],[50,8,25,58,"attrs"],[50,13,25,63],[51,4,26,4],[51,10,26,10,"dilations"],[51,19,26,19],[51,22,26,22],[51,23,26,23],[52,4,27,4,"util"],[52,23,27,8],[52,24,27,8,"util"],[52,28,27,8],[52,29,27,9,"assert"],[52,35,27,15],[52,36,27,16,"backend_util"],[52,55,27,28],[52,56,27,28,"backend_util"],[52,68,27,28],[52,69,27,29,"eitherStridesOrDilationsAreOne"],[52,99,27,59],[52,100,27,60,"strides"],[52,107,27,67],[52,109,27,69,"dilations"],[52,118,27,78],[52,119,27,79],[52,121,27,81],[52,127,27,87],[52,186,27,146],[52,189,28,8],[52,204,28,23,"strides"],[52,211,28,30],[52,230,28,49,"dilations"],[52,239,28,58],[52,242,28,61],[52,243,28,62],[53,4,29,4],[53,10,29,10,"convInfo"],[53,18,29,18],[53,21,29,21,"backend_util"],[53,40,29,33],[53,41,29,33,"backend_util"],[53,53,29,33],[53,54,29,34,"computePool2DInfo"],[53,71,29,51],[53,72,29,52,"x"],[53,73,29,53],[53,74,29,54,"shape"],[53,79,29,59],[53,81,29,61,"filterSize"],[53,91,29,71],[53,93,29,73,"strides"],[53,100,29,80],[53,102,29,82,"dilations"],[53,111,29,91],[53,113,29,93,"pad"],[53,116,29,96],[53,118,29,98,"dimRoundingMode"],[53,133,29,113],[53,134,29,114],[54,4,30,4],[54,8,30,8,"convInfo"],[54,16,30,16],[54,17,30,17,"filterWidth"],[54,28,30,28],[54,33,30,33],[54,34,30,34],[54,38,30,38,"convInfo"],[54,46,30,46],[54,47,30,47,"filterHeight"],[54,59,30,59],[54,64,30,64],[54,65,30,65],[54,69,31,8,"util"],[54,88,31,12],[54,89,31,12,"util"],[54,93,31,12],[54,94,31,13,"arraysEqual"],[54,105,31,24],[54,106,31,25,"convInfo"],[54,114,31,33],[54,115,31,34,"inShape"],[54,122,31,41],[54,124,31,43,"convInfo"],[54,132,31,51],[54,133,31,52,"outShape"],[54,141,31,60],[54,142,31,61],[54,144,31,63],[55,6,32,8],[55,13,32,15],[55,17,32,15,"identity"],[55,26,32,23],[55,27,32,23,"identity"],[55,35,32,23],[55,37,32,24],[56,8,32,26,"inputs"],[56,14,32,32],[56,16,32,34],[57,10,32,36,"x"],[58,8,32,38],[58,9,32,39],[59,8,32,41,"backend"],[60,6,32,49],[60,7,32,50],[60,8,32,51],[61,4,33,4],[62,4,34,4],[62,10,34,10,"avgPoolProgram"],[62,24,34,24],[62,27,34,27],[62,31,34,31,"Pool2DProgram"],[62,40,34,44],[62,41,34,44,"Pool2DProgram"],[62,54,34,44],[62,55,34,45,"convInfo"],[62,63,34,53],[62,65,34,55],[62,70,34,60],[62,72,34,62],[62,77,34,67],[62,78,34,68],[63,4,35,4],[63,11,35,11,"backend"],[63,18,35,18],[63,19,35,19,"runWebGLProgram"],[63,34,35,34],[63,35,35,35,"avgPoolProgram"],[63,49,35,49],[63,51,35,51],[63,52,35,52,"x"],[63,53,35,53],[63,54,35,54],[63,56,35,56],[63,65,35,65],[63,66,35,66],[64,2,36,0],[65,2,37,7],[65,8,37,13,"avgPoolConfig"],[65,21,37,26],[65,24,37,29],[66,4,38,4,"kernelName"],[66,14,38,14],[66,16,38,16,"AvgPool"],[66,35,38,23],[66,36,38,23,"AvgPool"],[66,43,38,23],[67,4,39,4,"backendName"],[67,15,39,15],[67,17,39,17],[67,24,39,24],[68,4,40,4,"kernelFunc"],[68,14,40,14],[68,16,40,16,"avgPool"],[69,2,41,0],[69,3,41,1],[70,0,41,2],[70,3]],"functionMap":{"names":["<global>","avgPool","util.assert$argument_1"],"mappings":"AAA;OCoB;iFCM;6DDC;CDQ"},"hasCjsExports":false},"type":"js/module"}]}