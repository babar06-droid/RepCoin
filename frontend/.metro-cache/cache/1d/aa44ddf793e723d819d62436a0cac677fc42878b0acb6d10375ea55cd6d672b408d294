{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":74,"index":777}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"./Scatter_impl","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":778},"end":{"line":18,"column":45,"index":823}}],"key":"D0ljsY6hvsUGkeuRGfWvDsn6NWk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.sparseToDense = sparseToDense;\n  Object.defineProperty(exports, \"sparseToDenseConfig\", {\n    enumerable: true,\n    get: function () {\n      return sparseToDenseConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _Scatter_impl = require(_dependencyMap[1], \"./Scatter_impl\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function sparseToDense(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      sparseIndices,\n      sparseValues,\n      defaultValue\n    } = inputs;\n    const {\n      outputShape\n    } = attrs;\n    const {\n      sliceRank,\n      numUpdates,\n      sliceSize,\n      strides,\n      outputSize\n    } = _tensorflowTfjsCore.backend_util.calculateShapes(sparseValues, sparseIndices, outputShape);\n    const sumDupeIndices = false;\n    const indicesBuf = backend.bufferSync(sparseIndices);\n    let outBuf;\n    switch (sparseValues.dtype) {\n      case 'bool':\n        {\n          const updatesBuf = backend.bufferSync(sparseValues);\n          const $defaultValue = Boolean(backend.data.get(defaultValue.dataId).values[0]);\n          outBuf = (0, _Scatter_impl.scatterImpl)(indicesBuf, updatesBuf, outputShape, outputSize, sliceSize, numUpdates, sliceRank, strides, $defaultValue, sumDupeIndices);\n          break;\n        }\n      case 'float32':\n        {\n          const updatesBuf = backend.bufferSync(sparseValues);\n          const $defaultValue = backend.data.get(defaultValue.dataId).values[0];\n          outBuf = (0, _Scatter_impl.scatterImpl)(indicesBuf, updatesBuf, outputShape, outputSize, sliceSize, numUpdates, sliceRank, strides, $defaultValue, sumDupeIndices);\n          break;\n        }\n      case 'int32':\n        {\n          const updatesBuf = backend.bufferSync(sparseValues);\n          const $defaultValue = backend.data.get(defaultValue.dataId).values[0];\n          outBuf = (0, _Scatter_impl.scatterImpl)(indicesBuf, updatesBuf, outputShape, outputSize, sliceSize, numUpdates, sliceRank, strides, $defaultValue, sumDupeIndices);\n          break;\n        }\n      case 'string':\n        {\n          const updatesBuf = backend.bufferSync(sparseValues);\n          const $defaultValue = _tensorflowTfjsCore.util.decodeString(backend.data.get(defaultValue.dataId).values[0]);\n          outBuf = (0, _Scatter_impl.scatterImpl)(indicesBuf, updatesBuf, outputShape, outputSize, sliceSize, numUpdates, sliceRank, strides, $defaultValue, sumDupeIndices);\n          break;\n        }\n      default:\n        throw new Error(`Unsupported type ${sparseValues.dtype}`);\n    }\n    return backend.makeTensorInfo(outputShape, outBuf.dtype, outBuf.values);\n  }\n  const sparseToDenseConfig = {\n    kernelName: _tensorflowTfjsCore.SparseToDense,\n    backendName: 'cpu',\n    kernelFunc: sparseToDense\n  };\n});","lineCount":96,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"sparseToDense"],[7,23,19,0],[7,26,19,0,"sparseToDense"],[7,39,19,0],[8,2,57,0,"Object"],[8,8,57,0],[8,9,57,0,"defineProperty"],[8,23,57,0],[8,24,57,0,"exports"],[8,31,57,0],[9,4,57,0,"enumerable"],[9,14,57,0],[10,4,57,0,"get"],[10,7,57,0],[10,18,57,0,"get"],[10,19,57,0],[11,6,57,0],[11,13,57,0,"sparseToDenseConfig"],[11,32,57,0],[12,4,57,0],[13,2,57,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_Scatter_impl"],[15,19,18,0],[15,22,18,0,"require"],[15,29,18,0],[15,30,18,0,"_dependencyMap"],[15,44,18,0],[16,2,1,0],[17,0,2,0],[18,0,3,0],[19,0,4,0],[20,0,5,0],[21,0,6,0],[22,0,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,0,14,0],[30,0,15,0],[31,0,16,0],[33,2,19,7],[33,11,19,16,"sparseToDense"],[33,24,19,29,"sparseToDense"],[33,25,19,30,"args"],[33,29,19,34],[33,31,19,36],[34,4,20,4],[34,10,20,10],[35,6,20,12,"inputs"],[35,12,20,18],[36,6,20,20,"backend"],[36,13,20,27],[37,6,20,29,"attrs"],[38,4,20,35],[38,5,20,36],[38,8,20,39,"args"],[38,12,20,43],[39,4,21,4],[39,10,21,10],[40,6,21,12,"sparseIndices"],[40,19,21,25],[41,6,21,27,"sparseValues"],[41,18,21,39],[42,6,21,41,"defaultValue"],[43,4,21,54],[43,5,21,55],[43,8,21,58,"inputs"],[43,14,21,64],[44,4,22,4],[44,10,22,10],[45,6,22,12,"outputShape"],[46,4,22,24],[46,5,22,25],[46,8,22,28,"attrs"],[46,13,22,33],[47,4,23,4],[47,10,23,10],[48,6,23,12,"sliceRank"],[48,15,23,21],[49,6,23,23,"numUpdates"],[49,16,23,33],[50,6,23,35,"sliceSize"],[50,15,23,44],[51,6,23,46,"strides"],[51,13,23,53],[52,6,23,55,"outputSize"],[53,4,23,66],[53,5,23,67],[53,8,23,70,"backend_util"],[53,27,23,82],[53,28,23,82,"backend_util"],[53,40,23,82],[53,41,23,83,"calculateShapes"],[53,56,23,98],[53,57,23,99,"sparseValues"],[53,69,23,111],[53,71,23,113,"sparseIndices"],[53,84,23,126],[53,86,23,128,"outputShape"],[53,97,23,139],[53,98,23,140],[54,4,24,4],[54,10,24,10,"sumDupeIndices"],[54,24,24,24],[54,27,24,27],[54,32,24,32],[55,4,25,4],[55,10,25,10,"indicesBuf"],[55,20,25,20],[55,23,25,23,"backend"],[55,30,25,30],[55,31,25,31,"bufferSync"],[55,41,25,41],[55,42,25,42,"sparseIndices"],[55,55,25,55],[55,56,25,56],[56,4,26,4],[56,8,26,8,"outBuf"],[56,14,26,14],[57,4,27,4],[57,12,27,12,"sparseValues"],[57,24,27,24],[57,25,27,25,"dtype"],[57,30,27,30],[58,6,28,8],[58,11,28,13],[58,17,28,19],[59,8,28,21],[60,10,29,12],[60,16,29,18,"updatesBuf"],[60,26,29,28],[60,29,29,31,"backend"],[60,36,29,38],[60,37,29,39,"bufferSync"],[60,47,29,49],[60,48,29,50,"sparseValues"],[60,60,29,62],[60,61,29,63],[61,10,30,12],[61,16,30,18,"$defaultValue"],[61,29,30,31],[61,32,30,34,"Boolean"],[61,39,30,41],[61,40,30,42,"backend"],[61,47,30,49],[61,48,30,50,"data"],[61,52,30,54],[61,53,30,55,"get"],[61,56,30,58],[61,57,30,59,"defaultValue"],[61,69,30,71],[61,70,30,72,"dataId"],[61,76,30,78],[61,77,30,79],[61,78,30,80,"values"],[61,84,30,86],[61,85,30,87],[61,86,30,88],[61,87,30,89],[61,88,30,90],[62,10,31,12,"outBuf"],[62,16,31,18],[62,19,31,21],[62,23,31,21,"scatterImpl"],[62,36,31,32],[62,37,31,32,"scatterImpl"],[62,48,31,32],[62,50,31,33,"indicesBuf"],[62,60,31,43],[62,62,31,45,"updatesBuf"],[62,72,31,55],[62,74,31,57,"outputShape"],[62,85,31,68],[62,87,31,70,"outputSize"],[62,97,31,80],[62,99,31,82,"sliceSize"],[62,108,31,91],[62,110,31,93,"numUpdates"],[62,120,31,103],[62,122,31,105,"sliceRank"],[62,131,31,114],[62,133,31,116,"strides"],[62,140,31,123],[62,142,31,125,"$defaultValue"],[62,155,31,138],[62,157,31,140,"sumDupeIndices"],[62,171,31,154],[62,172,31,155],[63,10,32,12],[64,8,33,8],[65,6,34,8],[65,11,34,13],[65,20,34,22],[66,8,34,24],[67,10,35,12],[67,16,35,18,"updatesBuf"],[67,26,35,28],[67,29,35,31,"backend"],[67,36,35,38],[67,37,35,39,"bufferSync"],[67,47,35,49],[67,48,35,50,"sparseValues"],[67,60,35,62],[67,61,35,63],[68,10,36,12],[68,16,36,18,"$defaultValue"],[68,29,36,31],[68,32,36,34,"backend"],[68,39,36,41],[68,40,36,42,"data"],[68,44,36,46],[68,45,36,47,"get"],[68,48,36,50],[68,49,36,51,"defaultValue"],[68,61,36,63],[68,62,36,64,"dataId"],[68,68,36,70],[68,69,36,71],[68,70,36,72,"values"],[68,76,36,78],[68,77,36,79],[68,78,36,80],[68,79,36,81],[69,10,37,12,"outBuf"],[69,16,37,18],[69,19,37,21],[69,23,37,21,"scatterImpl"],[69,36,37,32],[69,37,37,32,"scatterImpl"],[69,48,37,32],[69,50,37,33,"indicesBuf"],[69,60,37,43],[69,62,37,45,"updatesBuf"],[69,72,37,55],[69,74,37,57,"outputShape"],[69,85,37,68],[69,87,37,70,"outputSize"],[69,97,37,80],[69,99,37,82,"sliceSize"],[69,108,37,91],[69,110,37,93,"numUpdates"],[69,120,37,103],[69,122,37,105,"sliceRank"],[69,131,37,114],[69,133,37,116,"strides"],[69,140,37,123],[69,142,37,125,"$defaultValue"],[69,155,37,138],[69,157,37,140,"sumDupeIndices"],[69,171,37,154],[69,172,37,155],[70,10,38,12],[71,8,39,8],[72,6,40,8],[72,11,40,13],[72,18,40,20],[73,8,40,22],[74,10,41,12],[74,16,41,18,"updatesBuf"],[74,26,41,28],[74,29,41,31,"backend"],[74,36,41,38],[74,37,41,39,"bufferSync"],[74,47,41,49],[74,48,41,50,"sparseValues"],[74,60,41,62],[74,61,41,63],[75,10,42,12],[75,16,42,18,"$defaultValue"],[75,29,42,31],[75,32,42,34,"backend"],[75,39,42,41],[75,40,42,42,"data"],[75,44,42,46],[75,45,42,47,"get"],[75,48,42,50],[75,49,42,51,"defaultValue"],[75,61,42,63],[75,62,42,64,"dataId"],[75,68,42,70],[75,69,42,71],[75,70,42,72,"values"],[75,76,42,78],[75,77,42,79],[75,78,42,80],[75,79,42,81],[76,10,43,12,"outBuf"],[76,16,43,18],[76,19,43,21],[76,23,43,21,"scatterImpl"],[76,36,43,32],[76,37,43,32,"scatterImpl"],[76,48,43,32],[76,50,43,33,"indicesBuf"],[76,60,43,43],[76,62,43,45,"updatesBuf"],[76,72,43,55],[76,74,43,57,"outputShape"],[76,85,43,68],[76,87,43,70,"outputSize"],[76,97,43,80],[76,99,43,82,"sliceSize"],[76,108,43,91],[76,110,43,93,"numUpdates"],[76,120,43,103],[76,122,43,105,"sliceRank"],[76,131,43,114],[76,133,43,116,"strides"],[76,140,43,123],[76,142,43,125,"$defaultValue"],[76,155,43,138],[76,157,43,140,"sumDupeIndices"],[76,171,43,154],[76,172,43,155],[77,10,44,12],[78,8,45,8],[79,6,46,8],[79,11,46,13],[79,19,46,21],[80,8,46,23],[81,10,47,12],[81,16,47,18,"updatesBuf"],[81,26,47,28],[81,29,47,31,"backend"],[81,36,47,38],[81,37,47,39,"bufferSync"],[81,47,47,49],[81,48,47,50,"sparseValues"],[81,60,47,62],[81,61,47,63],[82,10,48,12],[82,16,48,18,"$defaultValue"],[82,29,48,31],[82,32,48,34,"util"],[82,51,48,38],[82,52,48,38,"util"],[82,56,48,38],[82,57,48,39,"decodeString"],[82,69,48,51],[82,70,48,52,"backend"],[82,77,48,59],[82,78,48,60,"data"],[82,82,48,64],[82,83,48,65,"get"],[82,86,48,68],[82,87,48,69,"defaultValue"],[82,99,48,81],[82,100,48,82,"dataId"],[82,106,48,88],[82,107,48,89],[82,108,48,90,"values"],[82,114,48,96],[82,115,48,97],[82,116,48,98],[82,117,48,99],[82,118,48,100],[83,10,49,12,"outBuf"],[83,16,49,18],[83,19,49,21],[83,23,49,21,"scatterImpl"],[83,36,49,32],[83,37,49,32,"scatterImpl"],[83,48,49,32],[83,50,49,33,"indicesBuf"],[83,60,49,43],[83,62,49,45,"updatesBuf"],[83,72,49,55],[83,74,49,57,"outputShape"],[83,85,49,68],[83,87,49,70,"outputSize"],[83,97,49,80],[83,99,49,82,"sliceSize"],[83,108,49,91],[83,110,49,93,"numUpdates"],[83,120,49,103],[83,122,49,105,"sliceRank"],[83,131,49,114],[83,133,49,116,"strides"],[83,140,49,123],[83,142,49,125,"$defaultValue"],[83,155,49,138],[83,157,49,140,"sumDupeIndices"],[83,171,49,154],[83,172,49,155],[84,10,50,12],[85,8,51,8],[86,6,52,8],[87,8,53,12],[87,14,53,18],[87,18,53,22,"Error"],[87,23,53,27],[87,24,53,28],[87,44,53,48,"sparseValues"],[87,56,53,60],[87,57,53,61,"dtype"],[87,62,53,66],[87,64,53,68],[87,65,53,69],[88,4,54,4],[89,4,55,4],[89,11,55,11,"backend"],[89,18,55,18],[89,19,55,19,"makeTensorInfo"],[89,33,55,33],[89,34,55,34,"outputShape"],[89,45,55,45],[89,47,55,47,"outBuf"],[89,53,55,53],[89,54,55,54,"dtype"],[89,59,55,59],[89,61,55,61,"outBuf"],[89,67,55,67],[89,68,55,68,"values"],[89,74,55,74],[89,75,55,75],[90,2,56,0],[91,2,57,7],[91,8,57,13,"sparseToDenseConfig"],[91,27,57,32],[91,30,57,35],[92,4,58,4,"kernelName"],[92,14,58,14],[92,16,58,16,"SparseToDense"],[92,35,58,29],[92,36,58,29,"SparseToDense"],[92,49,58,29],[93,4,59,4,"backendName"],[93,15,59,15],[93,17,59,17],[93,22,59,22],[94,4,60,4,"kernelFunc"],[94,14,60,14],[94,16,60,16,"sparseToDense"],[95,2,61,0],[95,3,61,1],[96,0,61,2],[96,3]],"functionMap":{"names":["<global>","sparseToDense"],"mappings":"AAA;OCkB;CDqC"},"hasCjsExports":false},"type":"js/module"}]}