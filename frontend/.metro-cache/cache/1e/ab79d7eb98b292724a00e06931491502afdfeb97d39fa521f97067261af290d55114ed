{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":706},"end":{"line":18,"column":58,"index":764}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"./lazy_iterator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":765},"end":{"line":19,"column":47,"index":812}}],"key":"q2hxzZKS96FYTd6539vU0OZjvFs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"MicrophoneIterator\", {\n    enumerable: true,\n    get: function () {\n      return MicrophoneIterator;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _lazy_iterator = require(_dependencyMap[1], \"./lazy_iterator\");\n  /**\n   * @license\n   * Copyright 2019 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * =============================================================================\n   */\n\n  /**\n   * Provide a stream of tensors from microphone audio stream. The tensors are\n   * representing audio data as frequency-domain spectrogram generated with\n   * browser's native FFT. Tensors representing time-domain waveform is available\n   * based on configuration. Only works in browser environment.\n   */\n  class MicrophoneIterator extends _lazy_iterator.LazyIterator {\n    constructor(microphoneConfig) {\n      super();\n      this.microphoneConfig = microphoneConfig;\n      this.isClosed = false;\n      this.fftSize = microphoneConfig.fftSize || 1024;\n      const fftSizeLog2 = Math.log2(this.fftSize);\n      if (this.fftSize < 0 || fftSizeLog2 < 4 || fftSizeLog2 > 14 || !Number.isInteger(fftSizeLog2)) {\n        throw new Error(`Invalid fftSize: it must be a power of 2 between ` + `2 to 4 and 2 to 14, but got ${this.fftSize}`);\n      }\n      this.numFrames = microphoneConfig.numFramesPerSpectrogram || 43;\n      this.sampleRateHz = microphoneConfig.sampleRateHz;\n      this.columnTruncateLength = microphoneConfig.columnTruncateLength || this.fftSize;\n      this.audioTrackConstraints = microphoneConfig.audioTrackConstraints;\n      this.smoothingTimeConstant = microphoneConfig.smoothingTimeConstant || 0;\n      this.includeSpectrogram = microphoneConfig.includeSpectrogram === false ? false : true;\n      this.includeWaveform = microphoneConfig.includeWaveform === true ? true : false;\n      if (!this.includeSpectrogram && !this.includeWaveform) {\n        throw new Error('Both includeSpectrogram and includeWaveform are false. ' + 'At least one type of data should be returned.');\n      }\n    }\n    summary() {\n      return `microphone`;\n    }\n    // Construct a MicrophoneIterator and start the audio stream.\n    static async create(microphoneConfig = {}) {\n      if (!(0, _tensorflowTfjsCore.env)().get('IS_BROWSER')) {\n        throw new Error('microphone API is only supported in browser environment.');\n      }\n      const microphoneIterator = new MicrophoneIterator(microphoneConfig);\n      // Call async function start() to initialize the audio stream.\n      await microphoneIterator.start();\n      return microphoneIterator;\n    }\n    // Start the audio stream and FFT.\n    async start() {\n      try {\n        this.stream = await navigator.mediaDevices.getUserMedia({\n          audio: this.audioTrackConstraints == null ? true : this.audioTrackConstraints,\n          video: false\n        });\n      } catch (e) {\n        throw new Error(`Error thrown while initializing video stream: ${e.message}`);\n      }\n      if (!this.stream) {\n        throw new Error('Could not obtain audio from microphone.');\n      }\n      const ctxConstructor =\n      // tslint:disable-next-line:no-any\n      window.AudioContext || window.webkitAudioContext;\n      this.audioContext = new ctxConstructor();\n      if (!this.sampleRateHz) {\n        // If sample rate is not provided, use the available sample rate on\n        // device.\n        this.sampleRateHz = this.audioContext.sampleRate;\n      } else if (this.audioContext.sampleRate !== this.sampleRateHz) {\n        throw new Error(`Mismatch in sampling rate: ` + `Expected: ${this.sampleRateHz}; ` + `Actual: ${this.audioContext.sampleRate}`);\n      }\n      const streamSource = this.audioContext.createMediaStreamSource(this.stream);\n      this.analyser = this.audioContext.createAnalyser();\n      this.analyser.fftSize = this.fftSize * 2;\n      this.analyser.smoothingTimeConstant = this.smoothingTimeConstant;\n      streamSource.connect(this.analyser);\n      this.freqData = new Float32Array(this.fftSize);\n      this.timeData = new Float32Array(this.fftSize);\n      return;\n    }\n    async next() {\n      if (this.isClosed) {\n        return {\n          value: null,\n          done: true\n        };\n      }\n      let spectrogramTensor;\n      let waveformTensor;\n      const audioDataQueue = await this.getAudioData();\n      if (this.includeSpectrogram) {\n        const freqData = this.flattenQueue(audioDataQueue.freqDataQueue);\n        spectrogramTensor = this.getTensorFromAudioDataArray(freqData, [this.numFrames, this.columnTruncateLength, 1]);\n      }\n      if (this.includeWaveform) {\n        const timeData = this.flattenQueue(audioDataQueue.timeDataQueue);\n        waveformTensor = this.getTensorFromAudioDataArray(timeData, [this.numFrames * this.fftSize, 1]);\n      }\n      return {\n        value: {\n          'spectrogram': spectrogramTensor,\n          'waveform': waveformTensor\n        },\n        done: false\n      };\n    }\n    // Capture one result from the audio stream, and extract the value from\n    // iterator.next() result.\n    async capture() {\n      return (await this.next()).value;\n    }\n    async getAudioData() {\n      const freqDataQueue = [];\n      const timeDataQueue = [];\n      let currentFrames = 0;\n      return new Promise(resolve => {\n        const intervalID = setInterval(() => {\n          if (this.includeSpectrogram) {\n            this.analyser.getFloatFrequencyData(this.freqData);\n            // If the audio stream is initializing, return empty queue.\n            if (this.freqData[0] === -Infinity) {\n              resolve({\n                freqDataQueue,\n                timeDataQueue\n              });\n            }\n            freqDataQueue.push(this.freqData.slice(0, this.columnTruncateLength));\n          }\n          if (this.includeWaveform) {\n            this.analyser.getFloatTimeDomainData(this.timeData);\n            timeDataQueue.push(this.timeData.slice());\n          }\n          // Clean interval and return when all frames have been collected\n          if (++currentFrames === this.numFrames) {\n            clearInterval(intervalID);\n            resolve({\n              freqDataQueue,\n              timeDataQueue\n            });\n          }\n        }, this.fftSize / this.sampleRateHz * 1e3);\n      });\n    }\n    // Stop the audio stream and pause the iterator.\n    stop() {\n      if (!this.isClosed) {\n        this.isClosed = true;\n        this.analyser.disconnect();\n        this.audioContext.close();\n        if (this.stream != null && this.stream.getTracks().length > 0) {\n          this.stream.getTracks()[0].stop();\n        }\n      }\n    }\n    // Override toArray() function to prevent collecting.\n    toArray() {\n      throw new Error('Can not convert infinite audio stream to array.');\n    }\n    // Return audio sampling rate in Hz\n    getSampleRate() {\n      return this.sampleRateHz;\n    }\n    flattenQueue(queue) {\n      const frameSize = queue[0].length;\n      const freqData = new Float32Array(queue.length * frameSize);\n      queue.forEach((data, i) => freqData.set(data, i * frameSize));\n      return freqData;\n    }\n    getTensorFromAudioDataArray(freqData, shape) {\n      const vals = new Float32Array(_tensorflowTfjsCore.util.sizeFromShape(shape));\n      // If the data is less than the output shape, the rest is padded with zeros.\n      vals.set(freqData, vals.length - freqData.length);\n      return (0, _tensorflowTfjsCore.tensor)(vals, shape);\n    }\n  }\n});","lineCount":201,"map":[[7,2,26,0,"Object"],[7,8,26,0],[7,9,26,0,"defineProperty"],[7,23,26,0],[7,24,26,0,"exports"],[7,31,26,0],[8,4,26,0,"enumerable"],[8,14,26,0],[9,4,26,0,"get"],[9,7,26,0],[9,18,26,0,"get"],[9,19,26,0],[10,6,26,0],[10,13,26,0,"MicrophoneIterator"],[10,31,26,0],[11,4,26,0],[12,2,26,0],[13,2,18,0],[13,6,18,0,"_tensorflowTfjsCore"],[13,25,18,0],[13,28,18,0,"require"],[13,35,18,0],[13,36,18,0,"_dependencyMap"],[13,50,18,0],[14,2,19,0],[14,6,19,0,"_lazy_iterator"],[14,20,19,0],[14,23,19,0,"require"],[14,30,19,0],[14,31,19,0,"_dependencyMap"],[14,45,19,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[31,0,17,0],[33,2,20,0],[34,0,21,0],[35,0,22,0],[36,0,23,0],[37,0,24,0],[38,0,25,0],[39,2,26,7],[39,8,26,13,"MicrophoneIterator"],[39,26,26,31],[39,35,26,40,"LazyIterator"],[39,49,26,52],[39,50,26,52,"LazyIterator"],[39,62,26,52],[39,63,26,53],[40,4,27,4,"constructor"],[40,15,27,15,"constructor"],[40,16,27,16,"microphoneConfig"],[40,32,27,32],[40,34,27,34],[41,6,28,8],[41,11,28,13],[41,12,28,14],[41,13,28,15],[42,6,29,8],[42,10,29,12],[42,11,29,13,"microphoneConfig"],[42,27,29,29],[42,30,29,32,"microphoneConfig"],[42,46,29,48],[43,6,30,8],[43,10,30,12],[43,11,30,13,"isClosed"],[43,19,30,21],[43,22,30,24],[43,27,30,29],[44,6,31,8],[44,10,31,12],[44,11,31,13,"fftSize"],[44,18,31,20],[44,21,31,23,"microphoneConfig"],[44,37,31,39],[44,38,31,40,"fftSize"],[44,45,31,47],[44,49,31,51],[44,53,31,55],[45,6,32,8],[45,12,32,14,"fftSizeLog2"],[45,23,32,25],[45,26,32,28,"Math"],[45,30,32,32],[45,31,32,33,"log2"],[45,35,32,37],[45,36,32,38],[45,40,32,42],[45,41,32,43,"fftSize"],[45,48,32,50],[45,49,32,51],[46,6,33,8],[46,10,33,12],[46,14,33,16],[46,15,33,17,"fftSize"],[46,22,33,24],[46,25,33,27],[46,26,33,28],[46,30,33,32,"fftSizeLog2"],[46,41,33,43],[46,44,33,46],[46,45,33,47],[46,49,33,51,"fftSizeLog2"],[46,60,33,62],[46,63,33,65],[46,65,33,67],[46,69,34,12],[46,70,34,13,"Number"],[46,76,34,19],[46,77,34,20,"isInteger"],[46,86,34,29],[46,87,34,30,"fftSizeLog2"],[46,98,34,41],[46,99,34,42],[46,101,34,44],[47,8,35,12],[47,14,35,18],[47,18,35,22,"Error"],[47,23,35,27],[47,24,35,28],[47,75,35,79],[47,78,36,16],[47,109,36,47],[47,113,36,51],[47,114,36,52,"fftSize"],[47,121,36,59],[47,123,36,61],[47,124,36,62],[48,6,37,8],[49,6,38,8],[49,10,38,12],[49,11,38,13,"numFrames"],[49,20,38,22],[49,23,38,25,"microphoneConfig"],[49,39,38,41],[49,40,38,42,"numFramesPerSpectrogram"],[49,63,38,65],[49,67,38,69],[49,69,38,71],[50,6,39,8],[50,10,39,12],[50,11,39,13,"sampleRateHz"],[50,23,39,25],[50,26,39,28,"microphoneConfig"],[50,42,39,44],[50,43,39,45,"sampleRateHz"],[50,55,39,57],[51,6,40,8],[51,10,40,12],[51,11,40,13,"columnTruncateLength"],[51,31,40,33],[51,34,41,12,"microphoneConfig"],[51,50,41,28],[51,51,41,29,"columnTruncateLength"],[51,71,41,49],[51,75,41,53],[51,79,41,57],[51,80,41,58,"fftSize"],[51,87,41,65],[52,6,42,8],[52,10,42,12],[52,11,42,13,"audioTrackConstraints"],[52,32,42,34],[52,35,42,37,"microphoneConfig"],[52,51,42,53],[52,52,42,54,"audioTrackConstraints"],[52,73,42,75],[53,6,43,8],[53,10,43,12],[53,11,43,13,"smoothingTimeConstant"],[53,32,43,34],[53,35,43,37,"microphoneConfig"],[53,51,43,53],[53,52,43,54,"smoothingTimeConstant"],[53,73,43,75],[53,77,43,79],[53,78,43,80],[54,6,44,8],[54,10,44,12],[54,11,44,13,"includeSpectrogram"],[54,29,44,31],[54,32,45,12,"microphoneConfig"],[54,48,45,28],[54,49,45,29,"includeSpectrogram"],[54,67,45,47],[54,72,45,52],[54,77,45,57],[54,80,45,60],[54,85,45,65],[54,88,45,68],[54,92,45,72],[55,6,46,8],[55,10,46,12],[55,11,46,13,"includeWaveform"],[55,26,46,28],[55,29,47,12,"microphoneConfig"],[55,45,47,28],[55,46,47,29,"includeWaveform"],[55,61,47,44],[55,66,47,49],[55,70,47,53],[55,73,47,56],[55,77,47,60],[55,80,47,63],[55,85,47,68],[56,6,48,8],[56,10,48,12],[56,11,48,13],[56,15,48,17],[56,16,48,18,"includeSpectrogram"],[56,34,48,36],[56,38,48,40],[56,39,48,41],[56,43,48,45],[56,44,48,46,"includeWaveform"],[56,59,48,61],[56,61,48,63],[57,8,49,12],[57,14,49,18],[57,18,49,22,"Error"],[57,23,49,27],[57,24,49,28],[57,81,49,85],[57,84,50,16],[57,131,50,63],[57,132,50,64],[58,6,51,8],[59,4,52,4],[60,4,53,4,"summary"],[60,11,53,11,"summary"],[60,12,53,11],[60,14,53,14],[61,6,54,8],[61,13,54,15],[61,25,54,27],[62,4,55,4],[63,4,56,4],[64,4,57,4],[64,17,57,17,"create"],[64,23,57,23,"create"],[64,24,57,24,"microphoneConfig"],[64,40,57,40],[64,43,57,43],[64,44,57,44],[64,45,57,45],[64,47,57,47],[65,6,58,8],[65,10,58,12],[65,11,58,13],[65,15,58,13,"env"],[65,34,58,16],[65,35,58,16,"env"],[65,38,58,16],[65,40,58,17],[65,41,58,18],[65,42,58,19,"get"],[65,45,58,22],[65,46,58,23],[65,58,58,35],[65,59,58,36],[65,61,58,38],[66,8,59,12],[66,14,59,18],[66,18,59,22,"Error"],[66,23,59,27],[66,24,59,28],[66,82,59,86],[66,83,59,87],[67,6,60,8],[68,6,61,8],[68,12,61,14,"microphoneIterator"],[68,30,61,32],[68,33,61,35],[68,37,61,39,"MicrophoneIterator"],[68,55,61,57],[68,56,61,58,"microphoneConfig"],[68,72,61,74],[68,73,61,75],[69,6,62,8],[70,6,63,8],[70,12,63,14,"microphoneIterator"],[70,30,63,32],[70,31,63,33,"start"],[70,36,63,38],[70,37,63,39],[70,38,63,40],[71,6,64,8],[71,13,64,15,"microphoneIterator"],[71,31,64,33],[72,4,65,4],[73,4,66,4],[74,4,67,4],[74,10,67,10,"start"],[74,15,67,15,"start"],[74,16,67,15],[74,18,67,18],[75,6,68,8],[75,10,68,12],[76,8,69,12],[76,12,69,16],[76,13,69,17,"stream"],[76,19,69,23],[76,22,69,26],[76,28,69,32,"navigator"],[76,37,69,41],[76,38,69,42,"mediaDevices"],[76,50,69,54],[76,51,69,55,"getUserMedia"],[76,63,69,67],[76,64,69,68],[77,10,70,16,"audio"],[77,15,70,21],[77,17,70,23],[77,21,70,27],[77,22,70,28,"audioTrackConstraints"],[77,43,70,49],[77,47,70,53],[77,51,70,57],[77,54,70,60],[77,58,70,64],[77,61,71,20],[77,65,71,24],[77,66,71,25,"audioTrackConstraints"],[77,87,71,46],[78,10,72,16,"video"],[78,15,72,21],[78,17,72,23],[79,8,73,12],[79,9,73,13],[79,10,73,14],[80,6,74,8],[80,7,74,9],[80,8,75,8],[80,15,75,15,"e"],[80,16,75,16],[80,18,75,18],[81,8,76,12],[81,14,76,18],[81,18,76,22,"Error"],[81,23,76,27],[81,24,76,28],[81,73,76,77,"e"],[81,74,76,78],[81,75,76,79,"message"],[81,82,76,86],[81,84,76,88],[81,85,76,89],[82,6,77,8],[83,6,78,8],[83,10,78,12],[83,11,78,13],[83,15,78,17],[83,16,78,18,"stream"],[83,22,78,24],[83,24,78,26],[84,8,79,12],[84,14,79,18],[84,18,79,22,"Error"],[84,23,79,27],[84,24,79,28],[84,65,79,69],[84,66,79,70],[85,6,80,8],[86,6,81,8],[86,12,81,14,"ctxConstructor"],[86,26,81,28],[87,6,82,8],[88,6,83,8,"window"],[88,12,83,14],[88,13,83,15,"AudioContext"],[88,25,83,27],[88,29,83,31,"window"],[88,35,83,37],[88,36,83,38,"webkitAudioContext"],[88,54,83,56],[89,6,84,8],[89,10,84,12],[89,11,84,13,"audioContext"],[89,23,84,25],[89,26,84,28],[89,30,84,32,"ctxConstructor"],[89,44,84,46],[89,45,84,47],[89,46,84,48],[90,6,85,8],[90,10,85,12],[90,11,85,13],[90,15,85,17],[90,16,85,18,"sampleRateHz"],[90,28,85,30],[90,30,85,32],[91,8,86,12],[92,8,87,12],[93,8,88,12],[93,12,88,16],[93,13,88,17,"sampleRateHz"],[93,25,88,29],[93,28,88,32],[93,32,88,36],[93,33,88,37,"audioContext"],[93,45,88,49],[93,46,88,50,"sampleRate"],[93,56,88,60],[94,6,89,8],[94,7,89,9],[94,13,90,13],[94,17,90,17],[94,21,90,21],[94,22,90,22,"audioContext"],[94,34,90,34],[94,35,90,35,"sampleRate"],[94,45,90,45],[94,50,90,50],[94,54,90,54],[94,55,90,55,"sampleRateHz"],[94,67,90,67],[94,69,90,69],[95,8,91,12],[95,14,91,18],[95,18,91,22,"Error"],[95,23,91,27],[95,24,91,28],[95,53,91,57],[95,56,92,16],[95,69,92,29],[95,73,92,33],[95,74,92,34,"sampleRateHz"],[95,86,92,46],[95,90,92,50],[95,93,93,16],[95,104,93,27],[95,108,93,31],[95,109,93,32,"audioContext"],[95,121,93,44],[95,122,93,45,"sampleRate"],[95,132,93,55],[95,134,93,57],[95,135,93,58],[96,6,94,8],[97,6,95,8],[97,12,95,14,"streamSource"],[97,24,95,26],[97,27,95,29],[97,31,95,33],[97,32,95,34,"audioContext"],[97,44,95,46],[97,45,95,47,"createMediaStreamSource"],[97,68,95,70],[97,69,95,71],[97,73,95,75],[97,74,95,76,"stream"],[97,80,95,82],[97,81,95,83],[98,6,96,8],[98,10,96,12],[98,11,96,13,"analyser"],[98,19,96,21],[98,22,96,24],[98,26,96,28],[98,27,96,29,"audioContext"],[98,39,96,41],[98,40,96,42,"createAnalyser"],[98,54,96,56],[98,55,96,57],[98,56,96,58],[99,6,97,8],[99,10,97,12],[99,11,97,13,"analyser"],[99,19,97,21],[99,20,97,22,"fftSize"],[99,27,97,29],[99,30,97,32],[99,34,97,36],[99,35,97,37,"fftSize"],[99,42,97,44],[99,45,97,47],[99,46,97,48],[100,6,98,8],[100,10,98,12],[100,11,98,13,"analyser"],[100,19,98,21],[100,20,98,22,"smoothingTimeConstant"],[100,41,98,43],[100,44,98,46],[100,48,98,50],[100,49,98,51,"smoothingTimeConstant"],[100,70,98,72],[101,6,99,8,"streamSource"],[101,18,99,20],[101,19,99,21,"connect"],[101,26,99,28],[101,27,99,29],[101,31,99,33],[101,32,99,34,"analyser"],[101,40,99,42],[101,41,99,43],[102,6,100,8],[102,10,100,12],[102,11,100,13,"freqData"],[102,19,100,21],[102,22,100,24],[102,26,100,28,"Float32Array"],[102,38,100,40],[102,39,100,41],[102,43,100,45],[102,44,100,46,"fftSize"],[102,51,100,53],[102,52,100,54],[103,6,101,8],[103,10,101,12],[103,11,101,13,"timeData"],[103,19,101,21],[103,22,101,24],[103,26,101,28,"Float32Array"],[103,38,101,40],[103,39,101,41],[103,43,101,45],[103,44,101,46,"fftSize"],[103,51,101,53],[103,52,101,54],[104,6,102,8],[105,4,103,4],[106,4,104,4],[106,10,104,10,"next"],[106,14,104,14,"next"],[106,15,104,14],[106,17,104,17],[107,6,105,8],[107,10,105,12],[107,14,105,16],[107,15,105,17,"isClosed"],[107,23,105,25],[107,25,105,27],[108,8,106,12],[108,15,106,19],[109,10,106,21,"value"],[109,15,106,26],[109,17,106,28],[109,21,106,32],[110,10,106,34,"done"],[110,14,106,38],[110,16,106,40],[111,8,106,45],[111,9,106,46],[112,6,107,8],[113,6,108,8],[113,10,108,12,"spectrogramTensor"],[113,27,108,29],[114,6,109,8],[114,10,109,12,"waveformTensor"],[114,24,109,26],[115,6,110,8],[115,12,110,14,"audioDataQueue"],[115,26,110,28],[115,29,110,31],[115,35,110,37],[115,39,110,41],[115,40,110,42,"getAudioData"],[115,52,110,54],[115,53,110,55],[115,54,110,56],[116,6,111,8],[116,10,111,12],[116,14,111,16],[116,15,111,17,"includeSpectrogram"],[116,33,111,35],[116,35,111,37],[117,8,112,12],[117,14,112,18,"freqData"],[117,22,112,26],[117,25,112,29],[117,29,112,33],[117,30,112,34,"flattenQueue"],[117,42,112,46],[117,43,112,47,"audioDataQueue"],[117,57,112,61],[117,58,112,62,"freqDataQueue"],[117,71,112,75],[117,72,112,76],[118,8,113,12,"spectrogramTensor"],[118,25,113,29],[118,28,113,32],[118,32,113,36],[118,33,113,37,"getTensorFromAudioDataArray"],[118,60,113,64],[118,61,113,65,"freqData"],[118,69,113,73],[118,71,113,75],[118,72,113,76],[118,76,113,80],[118,77,113,81,"numFrames"],[118,86,113,90],[118,88,113,92],[118,92,113,96],[118,93,113,97,"columnTruncateLength"],[118,113,113,117],[118,115,113,119],[118,116,113,120],[118,117,113,121],[118,118,113,122],[119,6,114,8],[120,6,115,8],[120,10,115,12],[120,14,115,16],[120,15,115,17,"includeWaveform"],[120,30,115,32],[120,32,115,34],[121,8,116,12],[121,14,116,18,"timeData"],[121,22,116,26],[121,25,116,29],[121,29,116,33],[121,30,116,34,"flattenQueue"],[121,42,116,46],[121,43,116,47,"audioDataQueue"],[121,57,116,61],[121,58,116,62,"timeDataQueue"],[121,71,116,75],[121,72,116,76],[122,8,117,12,"waveformTensor"],[122,22,117,26],[122,25,117,29],[122,29,117,33],[122,30,117,34,"getTensorFromAudioDataArray"],[122,57,117,61],[122,58,117,62,"timeData"],[122,66,117,70],[122,68,117,72],[122,69,117,73],[122,73,117,77],[122,74,117,78,"numFrames"],[122,83,117,87],[122,86,117,90],[122,90,117,94],[122,91,117,95,"fftSize"],[122,98,117,102],[122,100,117,104],[122,101,117,105],[122,102,117,106],[122,103,117,107],[123,6,118,8],[124,6,119,8],[124,13,119,15],[125,8,120,12,"value"],[125,13,120,17],[125,15,120,19],[126,10,120,21],[126,23,120,34],[126,25,120,36,"spectrogramTensor"],[126,42,120,53],[127,10,120,55],[127,20,120,65],[127,22,120,67,"waveformTensor"],[128,8,120,82],[128,9,120,83],[129,8,121,12,"done"],[129,12,121,16],[129,14,121,18],[130,6,122,8],[130,7,122,9],[131,4,123,4],[132,4,124,4],[133,4,125,4],[134,4,126,4],[134,10,126,10,"capture"],[134,17,126,17,"capture"],[134,18,126,17],[134,20,126,20],[135,6,127,8],[135,13,127,15],[135,14,127,16],[135,20,127,22],[135,24,127,26],[135,25,127,27,"next"],[135,29,127,31],[135,30,127,32],[135,31,127,33],[135,33,127,35,"value"],[135,38,127,40],[136,4,128,4],[137,4,129,4],[137,10,129,10,"getAudioData"],[137,22,129,22,"getAudioData"],[137,23,129,22],[137,25,129,25],[138,6,130,8],[138,12,130,14,"freqDataQueue"],[138,25,130,27],[138,28,130,30],[138,30,130,32],[139,6,131,8],[139,12,131,14,"timeDataQueue"],[139,25,131,27],[139,28,131,30],[139,30,131,32],[140,6,132,8],[140,10,132,12,"currentFrames"],[140,23,132,25],[140,26,132,28],[140,27,132,29],[141,6,133,8],[141,13,133,15],[141,17,133,19,"Promise"],[141,24,133,26],[141,25,133,27,"resolve"],[141,32,133,34],[141,36,133,38],[142,8,134,12],[142,14,134,18,"intervalID"],[142,24,134,28],[142,27,134,31,"setInterval"],[142,38,134,42],[142,39,134,43],[142,45,134,49],[143,10,135,16],[143,14,135,20],[143,18,135,24],[143,19,135,25,"includeSpectrogram"],[143,37,135,43],[143,39,135,45],[144,12,136,20],[144,16,136,24],[144,17,136,25,"analyser"],[144,25,136,33],[144,26,136,34,"getFloatFrequencyData"],[144,47,136,55],[144,48,136,56],[144,52,136,60],[144,53,136,61,"freqData"],[144,61,136,69],[144,62,136,70],[145,12,137,20],[146,12,138,20],[146,16,138,24],[146,20,138,28],[146,21,138,29,"freqData"],[146,29,138,37],[146,30,138,38],[146,31,138,39],[146,32,138,40],[146,37,138,45],[146,38,138,46,"Infinity"],[146,46,138,54],[146,48,138,56],[147,14,139,24,"resolve"],[147,21,139,31],[147,22,139,32],[148,16,139,34,"freqDataQueue"],[148,29,139,47],[149,16,139,49,"timeDataQueue"],[150,14,139,63],[150,15,139,64],[150,16,139,65],[151,12,140,20],[152,12,141,20,"freqDataQueue"],[152,25,141,33],[152,26,141,34,"push"],[152,30,141,38],[152,31,141,39],[152,35,141,43],[152,36,141,44,"freqData"],[152,44,141,52],[152,45,141,53,"slice"],[152,50,141,58],[152,51,141,59],[152,52,141,60],[152,54,141,62],[152,58,141,66],[152,59,141,67,"columnTruncateLength"],[152,79,141,87],[152,80,141,88],[152,81,141,89],[153,10,142,16],[154,10,143,16],[154,14,143,20],[154,18,143,24],[154,19,143,25,"includeWaveform"],[154,34,143,40],[154,36,143,42],[155,12,144,20],[155,16,144,24],[155,17,144,25,"analyser"],[155,25,144,33],[155,26,144,34,"getFloatTimeDomainData"],[155,48,144,56],[155,49,144,57],[155,53,144,61],[155,54,144,62,"timeData"],[155,62,144,70],[155,63,144,71],[156,12,145,20,"timeDataQueue"],[156,25,145,33],[156,26,145,34,"push"],[156,30,145,38],[156,31,145,39],[156,35,145,43],[156,36,145,44,"timeData"],[156,44,145,52],[156,45,145,53,"slice"],[156,50,145,58],[156,51,145,59],[156,52,145,60],[156,53,145,61],[157,10,146,16],[158,10,147,16],[159,10,148,16],[159,14,148,20],[159,16,148,22,"currentFrames"],[159,29,148,35],[159,34,148,40],[159,38,148,44],[159,39,148,45,"numFrames"],[159,48,148,54],[159,50,148,56],[160,12,149,20,"clearInterval"],[160,25,149,33],[160,26,149,34,"intervalID"],[160,36,149,44],[160,37,149,45],[161,12,150,20,"resolve"],[161,19,150,27],[161,20,150,28],[162,14,150,30,"freqDataQueue"],[162,27,150,43],[163,14,150,45,"timeDataQueue"],[164,12,150,59],[164,13,150,60],[164,14,150,61],[165,10,151,16],[166,8,152,12],[166,9,152,13],[166,11,152,15],[166,15,152,19],[166,16,152,20,"fftSize"],[166,23,152,27],[166,26,152,30],[166,30,152,34],[166,31,152,35,"sampleRateHz"],[166,43,152,47],[166,46,152,50],[166,49,152,53],[166,50,152,54],[167,6,153,8],[167,7,153,9],[167,8,153,10],[168,4,154,4],[169,4,155,4],[170,4,156,4,"stop"],[170,8,156,8,"stop"],[170,9,156,8],[170,11,156,11],[171,6,157,8],[171,10,157,12],[171,11,157,13],[171,15,157,17],[171,16,157,18,"isClosed"],[171,24,157,26],[171,26,157,28],[172,8,158,12],[172,12,158,16],[172,13,158,17,"isClosed"],[172,21,158,25],[172,24,158,28],[172,28,158,32],[173,8,159,12],[173,12,159,16],[173,13,159,17,"analyser"],[173,21,159,25],[173,22,159,26,"disconnect"],[173,32,159,36],[173,33,159,37],[173,34,159,38],[174,8,160,12],[174,12,160,16],[174,13,160,17,"audioContext"],[174,25,160,29],[174,26,160,30,"close"],[174,31,160,35],[174,32,160,36],[174,33,160,37],[175,8,161,12],[175,12,161,16],[175,16,161,20],[175,17,161,21,"stream"],[175,23,161,27],[175,27,161,31],[175,31,161,35],[175,35,161,39],[175,39,161,43],[175,40,161,44,"stream"],[175,46,161,50],[175,47,161,51,"getTracks"],[175,56,161,60],[175,57,161,61],[175,58,161,62],[175,59,161,63,"length"],[175,65,161,69],[175,68,161,72],[175,69,161,73],[175,71,161,75],[176,10,162,16],[176,14,162,20],[176,15,162,21,"stream"],[176,21,162,27],[176,22,162,28,"getTracks"],[176,31,162,37],[176,32,162,38],[176,33,162,39],[176,34,162,40],[176,35,162,41],[176,36,162,42],[176,37,162,43,"stop"],[176,41,162,47],[176,42,162,48],[176,43,162,49],[177,8,163,12],[178,6,164,8],[179,4,165,4],[180,4,166,4],[181,4,167,4,"toArray"],[181,11,167,11,"toArray"],[181,12,167,11],[181,14,167,14],[182,6,168,8],[182,12,168,14],[182,16,168,18,"Error"],[182,21,168,23],[182,22,168,24],[182,71,168,73],[182,72,168,74],[183,4,169,4],[184,4,170,4],[185,4,171,4,"getSampleRate"],[185,17,171,17,"getSampleRate"],[185,18,171,17],[185,20,171,20],[186,6,172,8],[186,13,172,15],[186,17,172,19],[186,18,172,20,"sampleRateHz"],[186,30,172,32],[187,4,173,4],[188,4,174,4,"flattenQueue"],[188,16,174,16,"flattenQueue"],[188,17,174,17,"queue"],[188,22,174,22],[188,24,174,24],[189,6,175,8],[189,12,175,14,"frameSize"],[189,21,175,23],[189,24,175,26,"queue"],[189,29,175,31],[189,30,175,32],[189,31,175,33],[189,32,175,34],[189,33,175,35,"length"],[189,39,175,41],[190,6,176,8],[190,12,176,14,"freqData"],[190,20,176,22],[190,23,176,25],[190,27,176,29,"Float32Array"],[190,39,176,41],[190,40,176,42,"queue"],[190,45,176,47],[190,46,176,48,"length"],[190,52,176,54],[190,55,176,57,"frameSize"],[190,64,176,66],[190,65,176,67],[191,6,177,8,"queue"],[191,11,177,13],[191,12,177,14,"forEach"],[191,19,177,21],[191,20,177,22],[191,21,177,23,"data"],[191,25,177,27],[191,27,177,29,"i"],[191,28,177,30],[191,33,177,35,"freqData"],[191,41,177,43],[191,42,177,44,"set"],[191,45,177,47],[191,46,177,48,"data"],[191,50,177,52],[191,52,177,54,"i"],[191,53,177,55],[191,56,177,58,"frameSize"],[191,65,177,67],[191,66,177,68],[191,67,177,69],[192,6,178,8],[192,13,178,15,"freqData"],[192,21,178,23],[193,4,179,4],[194,4,180,4,"getTensorFromAudioDataArray"],[194,31,180,31,"getTensorFromAudioDataArray"],[194,32,180,32,"freqData"],[194,40,180,40],[194,42,180,42,"shape"],[194,47,180,47],[194,49,180,49],[195,6,181,8],[195,12,181,14,"vals"],[195,16,181,18],[195,19,181,21],[195,23,181,25,"Float32Array"],[195,35,181,37],[195,36,181,38,"util"],[195,55,181,42],[195,56,181,42,"util"],[195,60,181,42],[195,61,181,43,"sizeFromShape"],[195,74,181,56],[195,75,181,57,"shape"],[195,80,181,62],[195,81,181,63],[195,82,181,64],[196,6,182,8],[197,6,183,8,"vals"],[197,10,183,12],[197,11,183,13,"set"],[197,14,183,16],[197,15,183,17,"freqData"],[197,23,183,25],[197,25,183,27,"vals"],[197,29,183,31],[197,30,183,32,"length"],[197,36,183,38],[197,39,183,41,"freqData"],[197,47,183,49],[197,48,183,50,"length"],[197,54,183,56],[197,55,183,57],[198,6,184,8],[198,13,184,15],[198,17,184,15,"tensor"],[198,36,184,21],[198,37,184,21,"tensor"],[198,43,184,21],[198,45,184,22,"vals"],[198,49,184,26],[198,51,184,28,"shape"],[198,56,184,33],[198,57,184,34],[199,4,185,4],[200,2,186,0],[201,0,186,1],[201,3]],"functionMap":{"names":["<global>","MicrophoneIterator","MicrophoneIterator#constructor","MicrophoneIterator#summary","MicrophoneIterator.create","MicrophoneIterator#start","MicrophoneIterator#next","MicrophoneIterator#capture","MicrophoneIterator#getAudioData","Promise$argument_0","setInterval$argument_0","MicrophoneIterator#stop","MicrophoneIterator#toArray","MicrophoneIterator#getSampleRate","MicrophoneIterator#flattenQueue","queue.forEach$argument_0","MicrophoneIterator#getTensorFromAudioDataArray"],"mappings":"AAA;OCyB;ICC;KDyB;IEC;KFE;IGE;KHQ;IIE;KJoC;IKC;KLmB;IMG;KNE;IOC;2BCI;2CCC;aDkB;SDC;KPC;IUE;KVS;IWE;KXE;IYE;KZE;IaC;sBCG,8CD;KbE;IeC;KfK;CDC"},"hasCjsExports":false},"type":"js/module"}]}