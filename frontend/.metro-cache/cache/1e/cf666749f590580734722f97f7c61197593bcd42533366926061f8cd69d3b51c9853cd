{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":59,"index":762}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.diag = diag;\n  Object.defineProperty(exports, \"diagConfig\", {\n    enumerable: true,\n    get: function () {\n      return diagConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function diag(args) {\n    const {\n      inputs,\n      backend\n    } = args;\n    const {\n      x\n    } = inputs;\n    const xSize = _tensorflowTfjsCore.util.sizeFromShape(x.shape);\n    const xVals = backend.data.get(x.dataId).values;\n    const outBuf = (0, _tensorflowTfjsCore.buffer)([xSize, xSize], x.dtype);\n    const vals = outBuf.values;\n    for (let i = 0; i < xVals.length; i++) {\n      vals[i * xSize + i] = xVals[i];\n    }\n    const outShape = [...x.shape, ...x.shape];\n    return backend.makeTensorInfo(outShape, outBuf.dtype, outBuf.values);\n  }\n  const diagConfig = {\n    kernelName: _tensorflowTfjsCore.Diag,\n    backendName: 'cpu',\n    kernelFunc: diag\n  };\n});","lineCount":55,"map":[[7,2,18,0,"exports"],[7,9,18,0],[7,10,18,0,"diag"],[7,14,18,0],[7,17,18,0,"diag"],[7,21,18,0],[8,2,31,0,"Object"],[8,8,31,0],[8,9,31,0,"defineProperty"],[8,23,31,0],[8,24,31,0,"exports"],[8,31,31,0],[9,4,31,0,"enumerable"],[9,14,31,0],[10,4,31,0,"get"],[10,7,31,0],[10,18,31,0,"get"],[10,19,31,0],[11,6,31,0],[11,13,31,0,"diagConfig"],[11,23,31,0],[12,4,31,0],[13,2,31,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[32,2,18,7],[32,11,18,16,"diag"],[32,15,18,20,"diag"],[32,16,18,21,"args"],[32,20,18,25],[32,22,18,27],[33,4,19,4],[33,10,19,10],[34,6,19,12,"inputs"],[34,12,19,18],[35,6,19,20,"backend"],[36,4,19,28],[36,5,19,29],[36,8,19,32,"args"],[36,12,19,36],[37,4,20,4],[37,10,20,10],[38,6,20,12,"x"],[39,4,20,14],[39,5,20,15],[39,8,20,18,"inputs"],[39,14,20,24],[40,4,21,4],[40,10,21,10,"xSize"],[40,15,21,15],[40,18,21,18,"util"],[40,37,21,22],[40,38,21,22,"util"],[40,42,21,22],[40,43,21,23,"sizeFromShape"],[40,56,21,36],[40,57,21,37,"x"],[40,58,21,38],[40,59,21,39,"shape"],[40,64,21,44],[40,65,21,45],[41,4,22,4],[41,10,22,10,"xVals"],[41,15,22,15],[41,18,22,18,"backend"],[41,25,22,25],[41,26,22,26,"data"],[41,30,22,30],[41,31,22,31,"get"],[41,34,22,34],[41,35,22,35,"x"],[41,36,22,36],[41,37,22,37,"dataId"],[41,43,22,43],[41,44,22,44],[41,45,22,45,"values"],[41,51,22,51],[42,4,23,4],[42,10,23,10,"outBuf"],[42,16,23,16],[42,19,23,19],[42,23,23,19,"buffer"],[42,42,23,25],[42,43,23,25,"buffer"],[42,49,23,25],[42,51,23,26],[42,52,23,27,"xSize"],[42,57,23,32],[42,59,23,34,"xSize"],[42,64,23,39],[42,65,23,40],[42,67,23,42,"x"],[42,68,23,43],[42,69,23,44,"dtype"],[42,74,23,49],[42,75,23,50],[43,4,24,4],[43,10,24,10,"vals"],[43,14,24,14],[43,17,24,17,"outBuf"],[43,23,24,23],[43,24,24,24,"values"],[43,30,24,30],[44,4,25,4],[44,9,25,9],[44,13,25,13,"i"],[44,14,25,14],[44,17,25,17],[44,18,25,18],[44,20,25,20,"i"],[44,21,25,21],[44,24,25,24,"xVals"],[44,29,25,29],[44,30,25,30,"length"],[44,36,25,36],[44,38,25,38,"i"],[44,39,25,39],[44,41,25,41],[44,43,25,43],[45,6,26,8,"vals"],[45,10,26,12],[45,11,26,13,"i"],[45,12,26,14],[45,15,26,17,"xSize"],[45,20,26,22],[45,23,26,25,"i"],[45,24,26,26],[45,25,26,27],[45,28,26,30,"xVals"],[45,33,26,35],[45,34,26,36,"i"],[45,35,26,37],[45,36,26,38],[46,4,27,4],[47,4,28,4],[47,10,28,10,"outShape"],[47,18,28,18],[47,21,28,21],[47,22,28,22],[47,25,28,25,"x"],[47,26,28,26],[47,27,28,27,"shape"],[47,32,28,32],[47,34,28,34],[47,37,28,37,"x"],[47,38,28,38],[47,39,28,39,"shape"],[47,44,28,44],[47,45,28,45],[48,4,29,4],[48,11,29,11,"backend"],[48,18,29,18],[48,19,29,19,"makeTensorInfo"],[48,33,29,33],[48,34,29,34,"outShape"],[48,42,29,42],[48,44,29,44,"outBuf"],[48,50,29,50],[48,51,29,51,"dtype"],[48,56,29,56],[48,58,29,58,"outBuf"],[48,64,29,64],[48,65,29,65,"values"],[48,71,29,71],[48,72,29,72],[49,2,30,0],[50,2,31,7],[50,8,31,13,"diagConfig"],[50,18,31,23],[50,21,31,26],[51,4,32,4,"kernelName"],[51,14,32,14],[51,16,32,16,"Diag"],[51,35,32,20],[51,36,32,20,"Diag"],[51,40,32,20],[52,4,33,4,"backendName"],[52,15,33,15],[52,17,33,17],[52,22,33,22],[53,4,34,4,"kernelFunc"],[53,14,34,14],[53,16,34,16,"diag"],[54,2,35,0],[54,3,35,1],[55,0,35,2],[55,3]],"functionMap":{"names":["<global>","diag"],"mappings":"AAA;OCiB;CDY"},"hasCjsExports":false},"type":"js/module"}]}