{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":46,"index":749}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/mat_mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":750},"end":{"line":18,"column":40,"index":790}}],"key":"4S7uKTP+4+oNarWK/azW8WMyWtc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"batchMatMulGradConfig\", {\n    enumerable: true,\n    get: function () {\n      return batchMatMulGradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsMat_mul = require(_dependencyMap[1], \"../ops/mat_mul\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const batchMatMulGradConfig = {\n    kernelName: _kernel_names.BatchMatMul,\n    inputsToSave: ['a', 'b'],\n    gradFunc: (dy, saved, attrs) => {\n      const [a, b] = saved;\n      const {\n        transposeA,\n        transposeB\n      } = attrs;\n      if (!transposeA && !transposeB) {\n        return {\n          a: () => (0, _opsMat_mul.matMul)(dy, b, false, true),\n          b: () => (0, _opsMat_mul.matMul)(a, dy, true, false)\n        };\n      } else if (!transposeA && transposeB) {\n        return {\n          a: () => (0, _opsMat_mul.matMul)(dy, b, false, false),\n          b: () => (0, _opsMat_mul.matMul)(dy, a, true, false)\n        };\n      } else if (transposeA && !transposeB) {\n        return {\n          a: () => (0, _opsMat_mul.matMul)(b, dy, false, true),\n          b: () => (0, _opsMat_mul.matMul)(a, dy, false, false)\n        };\n      } else {\n        return {\n          a: () => (0, _opsMat_mul.matMul)(b, dy, true, true),\n          b: () => (0, _opsMat_mul.matMul)(dy, a, true, true)\n        };\n      }\n    }\n  };\n});","lineCount":64,"map":[[7,2,19,0,"Object"],[7,8,19,0],[7,9,19,0,"defineProperty"],[7,23,19,0],[7,24,19,0,"exports"],[7,31,19,0],[8,4,19,0,"enumerable"],[8,14,19,0],[9,4,19,0,"get"],[9,7,19,0],[9,18,19,0,"get"],[9,19,19,0],[10,6,19,0],[10,13,19,0,"batchMatMulGradConfig"],[10,34,19,0],[11,4,19,0],[12,2,19,0],[13,2,17,0],[13,6,17,0,"_kernel_names"],[13,19,17,0],[13,22,17,0,"require"],[13,29,17,0],[13,30,17,0,"_dependencyMap"],[13,44,17,0],[14,2,18,0],[14,6,18,0,"_opsMat_mul"],[14,17,18,0],[14,20,18,0,"require"],[14,27,18,0],[14,28,18,0,"_dependencyMap"],[14,42,18,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[32,2,19,7],[32,8,19,13,"batchMatMulGradConfig"],[32,29,19,34],[32,32,19,37],[33,4,20,4,"kernelName"],[33,14,20,14],[33,16,20,16,"BatchMatMul"],[33,29,20,27],[33,30,20,27,"BatchMatMul"],[33,41,20,27],[34,4,21,4,"inputsToSave"],[34,16,21,16],[34,18,21,18],[34,19,21,19],[34,22,21,22],[34,24,21,24],[34,27,21,27],[34,28,21,28],[35,4,22,4,"gradFunc"],[35,12,22,12],[35,14,22,14,"gradFunc"],[35,15,22,15,"dy"],[35,17,22,17],[35,19,22,19,"saved"],[35,24,22,24],[35,26,22,26,"attrs"],[35,31,22,31],[35,36,22,36],[36,6,23,8],[36,12,23,14],[36,13,23,15,"a"],[36,14,23,16],[36,16,23,18,"b"],[36,17,23,19],[36,18,23,20],[36,21,23,23,"saved"],[36,26,23,28],[37,6,24,8],[37,12,24,14],[38,8,24,16,"transposeA"],[38,18,24,26],[39,8,24,28,"transposeB"],[40,6,24,39],[40,7,24,40],[40,10,24,43,"attrs"],[40,15,24,48],[41,6,25,8],[41,10,25,12],[41,11,25,13,"transposeA"],[41,21,25,23],[41,25,25,27],[41,26,25,28,"transposeB"],[41,36,25,38],[41,38,25,40],[42,8,26,12],[42,15,26,19],[43,10,27,16,"a"],[43,11,27,17],[43,13,27,19,"a"],[43,14,27,19],[43,19,27,25],[43,23,27,25,"matMul"],[43,34,27,31],[43,35,27,31,"matMul"],[43,41,27,31],[43,43,27,32,"dy"],[43,45,27,34],[43,47,27,36,"b"],[43,48,27,37],[43,50,27,39],[43,55,27,44],[43,57,27,46],[43,61,27,50],[43,62,27,51],[44,10,28,16,"b"],[44,11,28,17],[44,13,28,19,"b"],[44,14,28,19],[44,19,28,25],[44,23,28,25,"matMul"],[44,34,28,31],[44,35,28,31,"matMul"],[44,41,28,31],[44,43,28,32,"a"],[44,44,28,33],[44,46,28,35,"dy"],[44,48,28,37],[44,50,28,39],[44,54,28,43],[44,56,28,45],[44,61,28,50],[45,8,29,12],[45,9,29,13],[46,6,30,8],[46,7,30,9],[46,13,31,13],[46,17,31,17],[46,18,31,18,"transposeA"],[46,28,31,28],[46,32,31,32,"transposeB"],[46,42,31,42],[46,44,31,44],[47,8,32,12],[47,15,32,19],[48,10,33,16,"a"],[48,11,33,17],[48,13,33,19,"a"],[48,14,33,19],[48,19,33,25],[48,23,33,25,"matMul"],[48,34,33,31],[48,35,33,31,"matMul"],[48,41,33,31],[48,43,33,32,"dy"],[48,45,33,34],[48,47,33,36,"b"],[48,48,33,37],[48,50,33,39],[48,55,33,44],[48,57,33,46],[48,62,33,51],[48,63,33,52],[49,10,34,16,"b"],[49,11,34,17],[49,13,34,19,"b"],[49,14,34,19],[49,19,34,25],[49,23,34,25,"matMul"],[49,34,34,31],[49,35,34,31,"matMul"],[49,41,34,31],[49,43,34,32,"dy"],[49,45,34,34],[49,47,34,36,"a"],[49,48,34,37],[49,50,34,39],[49,54,34,43],[49,56,34,45],[49,61,34,50],[50,8,35,12],[50,9,35,13],[51,6,36,8],[51,7,36,9],[51,13,37,13],[51,17,37,17,"transposeA"],[51,27,37,27],[51,31,37,31],[51,32,37,32,"transposeB"],[51,42,37,42],[51,44,37,44],[52,8,38,12],[52,15,38,19],[53,10,39,16,"a"],[53,11,39,17],[53,13,39,19,"a"],[53,14,39,19],[53,19,39,25],[53,23,39,25,"matMul"],[53,34,39,31],[53,35,39,31,"matMul"],[53,41,39,31],[53,43,39,32,"b"],[53,44,39,33],[53,46,39,35,"dy"],[53,48,39,37],[53,50,39,39],[53,55,39,44],[53,57,39,46],[53,61,39,50],[53,62,39,51],[54,10,40,16,"b"],[54,11,40,17],[54,13,40,19,"b"],[54,14,40,19],[54,19,40,25],[54,23,40,25,"matMul"],[54,34,40,31],[54,35,40,31,"matMul"],[54,41,40,31],[54,43,40,32,"a"],[54,44,40,33],[54,46,40,35,"dy"],[54,48,40,37],[54,50,40,39],[54,55,40,44],[54,57,40,46],[54,62,40,51],[55,8,41,12],[55,9,41,13],[56,6,42,8],[56,7,42,9],[56,13,43,13],[57,8,44,12],[57,15,44,19],[58,10,45,16,"a"],[58,11,45,17],[58,13,45,19,"a"],[58,14,45,19],[58,19,45,25],[58,23,45,25,"matMul"],[58,34,45,31],[58,35,45,31,"matMul"],[58,41,45,31],[58,43,45,32,"b"],[58,44,45,33],[58,46,45,35,"dy"],[58,48,45,37],[58,50,45,39],[58,54,45,43],[58,56,45,45],[58,60,45,49],[58,61,45,50],[59,10,46,16,"b"],[59,11,46,17],[59,13,46,19,"b"],[59,14,46,19],[59,19,46,25],[59,23,46,25,"matMul"],[59,34,46,31],[59,35,46,31,"matMul"],[59,41,46,31],[59,43,46,32,"dy"],[59,45,46,34],[59,47,46,36,"a"],[59,48,46,37],[59,50,46,39],[59,54,46,43],[59,56,46,45],[59,60,46,49],[60,8,47,12],[60,9,47,13],[61,6,48,8],[62,4,49,4],[63,2,50,0],[63,3,50,1],[64,0,50,2],[64,3]],"functionMap":{"names":["<global>","batchMatMulGradConfig.gradFunc","a","b"],"mappings":"AAA;cCqB;mBCK,gCD;mBEC,gCF;mBCK,iCD;mBEC,gCF;mBCK,gCD;mBEC,iCF;mBCK,+BD;mBEC,+BF;KDG"},"hasCjsExports":false},"type":"js/module"}]}