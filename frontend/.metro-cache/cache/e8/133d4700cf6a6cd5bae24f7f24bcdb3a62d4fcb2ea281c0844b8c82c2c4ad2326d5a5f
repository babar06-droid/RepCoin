{"dependencies":[{"name":"../util_base","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"1ccyuuVckWa4c5ThWdKkMdVe+ak=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.decodeEinsumEquation = decodeEinsumEquation;\n  exports.getEinsumPermutation = getEinsumPermutation;\n  exports.checkEinsumDimSizes = checkEinsumDimSizes;\n  exports.getEinsumComputePath = getEinsumComputePath;\n  exports.isIdentityPermutation = isIdentityPermutation;\n  var _util_base = require(_dependencyMap[0], \"../util_base\");\n  /**\n   * @license\n   * Copyright 2021 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const ARROW = '->';\n  const ARROW_REGEX = /->/g;\n  const COMMA = ',';\n  const ELLIPSIS = '...';\n  /**\n   * Parse an equation for einsum.\n   *\n   * @param equation The einsum equation (e.g., \"ij,jk->ik\").\n   * @param numTensors Number of tensors provided along with `equation`. Used to\n   *   check matching number of input tensors.\n   * @returns An object consisting of the following fields:\n   *   - allDims: all dimension names as strings.\n   *   - summedDims: a list of all dimensions being summed over, as indices to\n   *     the elements of `allDims`.\n   *   - idDims: indices of the dimensions in each input tensor, as indices to\n   *     the elements of `allDims.\n   */\n  function decodeEinsumEquation(equation, numTensors) {\n    equation = equation.replace(/\\s/g, ''); // Remove witespace in equation.\n    const numArrows = (equation.length - equation.replace(ARROW_REGEX, '').length) / ARROW.length;\n    if (numArrows < 1) {\n      throw new Error('Equations without an arrow are not supported.');\n    } else if (numArrows > 1) {\n      throw new Error(`Equation must contain exactly one arrow (\"${ARROW}\").`);\n    }\n    const [inputString, outputString] = equation.split(ARROW);\n    (0, _util_base.assert)(inputString.indexOf(ELLIPSIS) === -1, () => `The ellipsis notation (\"${ELLIPSIS}\") is not supported yet.`);\n    const inputTerms = inputString.split(COMMA);\n    const numInputs = inputTerms.length;\n    if (numTensors !== numInputs) {\n      throw new Error(`Expected ${numInputs} input tensors, received ${numTensors}`);\n    }\n    if (numInputs > 2) {\n      throw new Error('Support for more than 2 input tensors is not implemented yet.');\n    }\n    const allDims = [];\n    for (let i = 0; i < outputString.length; ++i) {\n      const dimName = outputString[i];\n      if (!inputTerms.some(inputTerm => inputTerm.indexOf(dimName) !== -1)) {\n        throw new Error(`Output subscripts contain the label ${dimName} ` + `not present in the input subscripts.`);\n      }\n      if (allDims.indexOf(dimName) === -1) {\n        allDims.push(dimName);\n      }\n    }\n    for (let i = 0; i < inputString.length; ++i) {\n      const dimName = inputString[i];\n      if (allDims.indexOf(dimName) === -1 && dimName !== COMMA) {\n        allDims.push(dimName);\n      }\n    }\n    const idDims = new Array(inputTerms.length);\n    for (let i = 0; i < numInputs; ++i) {\n      if (new Set(inputTerms[i].split('')).size !== inputTerms[i].length) {\n        throw new Error(`Found duplicate axes in input component ${inputTerms[i]}. ` + `Support for duplicate axes in input is not implemented yet.`);\n      }\n      idDims[i] = [];\n      for (let j = 0; j < inputTerms[i].length; ++j) {\n        idDims[i].push(allDims.indexOf(inputTerms[i][j]));\n      }\n    }\n    const numDims = allDims.length; // Number of unique dimensions.\n    const numOutDims = outputString.length; // Number of output dimensions.\n    const summedDims = []; // Dimensions being summed over.\n    for (let i = numOutDims; i < numDims; ++i) {\n      summedDims.push(i);\n    }\n    return {\n      allDims,\n      summedDims,\n      idDims\n    };\n  }\n  /**\n   * Get the permutation for a given input tensor.\n   *\n   * @param nDims Total number of dimension of all tensors involved in the einsum\n   *   operation.\n   * @param idDims Dimension indices involve in the tensor in question.\n   * @returns An object consisting of the following fields:\n   *   - permutationIndices: Indices to permute the axes of the tensor with.\n   *   - expandDims: Indices to the dimension that need to be expanded from the\n   *     tensor after permutation.\n   */\n  function getEinsumPermutation(nDims, idDims) {\n    let permutationIndices = new Array(nDims);\n    permutationIndices.fill(-1);\n    for (let i = 0; i < idDims.length; ++i) {\n      permutationIndices[idDims[i]] = i;\n    }\n    const expandDims = [];\n    for (let i = 0; i < nDims; ++i) {\n      if (permutationIndices[i] === -1) {\n        expandDims.push(i);\n      }\n    }\n    permutationIndices = permutationIndices.filter(d => d !== -1);\n    return {\n      permutationIndices,\n      expandDims\n    };\n  }\n  /**\n   * Checks that the dimension sizes from different input tensors match the\n   * equation.\n   */\n  function checkEinsumDimSizes(nDims, idDims, tensors) {\n    const dimSizes = new Array(nDims);\n    for (let i = 0; i < tensors.length; ++i) {\n      const shape = tensors[i].shape;\n      for (let j = 0; j < idDims[i].length; ++j) {\n        if (dimSizes[idDims[i][j]] === undefined) {\n          dimSizes[idDims[i][j]] = shape[j];\n        } else {\n          (0, _util_base.assert)(dimSizes[idDims[i][j]] === shape[j], () => `Expected dimension ${dimSizes[idDims[i][j]]} at axis ${j} ` + `of input shaped ${JSON.stringify(shape)}, ` + `but got dimension ${shape[j]}`);\n        }\n      }\n    }\n  }\n  /**\n   * Gets path of computation for einsum.\n   *\n   * @param summedDims indices to the dimensions being summed over.\n   * @param idDims A look up table for the dimensions present in each input\n   *     tensor.Each constituent array contains indices for the dimensions in the\n   *     corresponding input tensor.\n   *\n   * @return A map with two fields:\n   *   - path: The path of computation, with each element indicating the dimension\n   *     being summed over after the element-wise multiplication in that step.\n   *   - steps: With the same length as `path`. Each element contains the indices\n   *     to the input tensors being used for element-wise multiplication in the\n   *     corresponding step.\n   */\n  function getEinsumComputePath(summedDims, idDims) {\n    const path = summedDims;\n    const steps = [];\n    let nSteps = 0;\n    if (summedDims.length === 0) {\n      // Einsum that involes no summing: e.g., transpose and outer product.\n      path.push(-1);\n    }\n    nSteps = summedDims.length + 1;\n    for (let i = 0; i < nSteps; ++i) {\n      steps.push([]);\n    }\n    const computedTermIndices = [];\n    for (let i = 0; i < path.length; ++i) {\n      const summedDim = path[i];\n      const termIndices = findTermsWithDim(idDims, summedDim);\n      for (const termIndex of termIndices) {\n        if (computedTermIndices.indexOf(termIndex) === -1) {\n          steps[i].push(termIndex);\n          computedTermIndices.push(termIndex);\n        }\n      }\n    }\n    return {\n      path,\n      steps\n    };\n  }\n  /** Determines if an axes permutation is the identity permutation. */\n  function isIdentityPermutation(perm) {\n    return perm.every((dim, index) => dim === index);\n  }\n  function findTermsWithDim(idDims, dim) {\n    const termIndices = [];\n    for (let i = 0; i < idDims.length; ++i) {\n      if (idDims[i].length === 0 || idDims[i].indexOf(dim) !== -1 || dim === -1) {\n        termIndices.push(i);\n      }\n    }\n    return termIndices;\n  }\n});","lineCount":205,"map":[[7,2,35,0,"exports"],[7,9,35,0],[7,10,35,0,"decodeEinsumEquation"],[7,30,35,0],[7,33,35,0,"decodeEinsumEquation"],[7,53,35,0],[8,2,102,0,"exports"],[8,9,102,0],[8,10,102,0,"getEinsumPermutation"],[8,30,102,0],[8,33,102,0,"getEinsumPermutation"],[8,53,102,0],[9,2,121,0,"exports"],[9,9,121,0],[9,10,121,0,"checkEinsumDimSizes"],[9,29,121,0],[9,32,121,0,"checkEinsumDimSizes"],[9,51,121,0],[10,2,152,0,"exports"],[10,9,152,0],[10,10,152,0,"getEinsumComputePath"],[10,30,152,0],[10,33,152,0,"getEinsumComputePath"],[10,53,152,0],[11,2,178,0,"exports"],[11,9,178,0],[11,10,178,0,"isIdentityPermutation"],[11,31,178,0],[11,34,178,0,"isIdentityPermutation"],[11,55,178,0],[12,2,17,0],[12,6,17,0,"_util_base"],[12,16,17,0],[12,19,17,0,"require"],[12,26,17,0],[12,27,17,0,"_dependencyMap"],[12,41,17,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[30,2,18,0],[30,8,18,6,"ARROW"],[30,13,18,11],[30,16,18,14],[30,20,18,18],[31,2,19,0],[31,8,19,6,"ARROW_REGEX"],[31,19,19,17],[31,22,19,20],[31,27,19,25],[32,2,20,0],[32,8,20,6,"COMMA"],[32,13,20,11],[32,16,20,14],[32,19,20,17],[33,2,21,0],[33,8,21,6,"ELLIPSIS"],[33,16,21,14],[33,19,21,17],[33,24,21,22],[34,2,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,2,35,7],[47,11,35,16,"decodeEinsumEquation"],[47,31,35,36,"decodeEinsumEquation"],[47,32,35,37,"equation"],[47,40,35,45],[47,42,35,47,"numTensors"],[47,52,35,57],[47,54,35,59],[48,4,36,4,"equation"],[48,12,36,12],[48,15,36,15,"equation"],[48,23,36,23],[48,24,36,24,"replace"],[48,31,36,31],[48,32,36,32],[48,37,36,37],[48,39,36,39],[48,41,36,41],[48,42,36,42],[48,43,36,43],[48,44,36,44],[49,4,37,4],[49,10,37,10,"numArrows"],[49,19,37,19],[49,22,37,22],[49,23,37,23,"equation"],[49,31,37,31],[49,32,37,32,"length"],[49,38,37,38],[49,41,37,41,"equation"],[49,49,37,49],[49,50,37,50,"replace"],[49,57,37,57],[49,58,37,58,"ARROW_REGEX"],[49,69,37,69],[49,71,37,71],[49,73,37,73],[49,74,37,74],[49,75,37,75,"length"],[49,81,37,81],[49,85,38,8,"ARROW"],[49,90,38,13],[49,91,38,14,"length"],[49,97,38,20],[50,4,39,4],[50,8,39,8,"numArrows"],[50,17,39,17],[50,20,39,20],[50,21,39,21],[50,23,39,23],[51,6,40,8],[51,12,40,14],[51,16,40,18,"Error"],[51,21,40,23],[51,22,40,24],[51,69,40,71],[51,70,40,72],[52,4,41,4],[52,5,41,5],[52,11,42,9],[52,15,42,13,"numArrows"],[52,24,42,22],[52,27,42,25],[52,28,42,26],[52,30,42,28],[53,6,43,8],[53,12,43,14],[53,16,43,18,"Error"],[53,21,43,23],[53,22,43,24],[53,67,43,69,"ARROW"],[53,72,43,74],[53,77,43,79],[53,78,43,80],[54,4,44,4],[55,4,45,4],[55,10,45,10],[55,11,45,11,"inputString"],[55,22,45,22],[55,24,45,24,"outputString"],[55,36,45,36],[55,37,45,37],[55,40,45,40,"equation"],[55,48,45,48],[55,49,45,49,"split"],[55,54,45,54],[55,55,45,55,"ARROW"],[55,60,45,60],[55,61,45,61],[56,4,46,4],[56,8,46,4,"assert"],[56,18,46,10],[56,19,46,10,"assert"],[56,25,46,10],[56,27,46,11,"inputString"],[56,38,46,22],[56,39,46,23,"indexOf"],[56,46,46,30],[56,47,46,31,"ELLIPSIS"],[56,55,46,39],[56,56,46,40],[56,61,46,45],[56,62,46,46],[56,63,46,47],[56,65,46,49],[56,71,46,55],[56,98,46,82,"ELLIPSIS"],[56,106,46,90],[56,132,46,116],[56,133,46,117],[57,4,47,4],[57,10,47,10,"inputTerms"],[57,20,47,20],[57,23,47,23,"inputString"],[57,34,47,34],[57,35,47,35,"split"],[57,40,47,40],[57,41,47,41,"COMMA"],[57,46,47,46],[57,47,47,47],[58,4,48,4],[58,10,48,10,"numInputs"],[58,19,48,19],[58,22,48,22,"inputTerms"],[58,32,48,32],[58,33,48,33,"length"],[58,39,48,39],[59,4,49,4],[59,8,49,8,"numTensors"],[59,18,49,18],[59,23,49,23,"numInputs"],[59,32,49,32],[59,34,49,34],[60,6,50,8],[60,12,50,14],[60,16,50,18,"Error"],[60,21,50,23],[60,22,50,24],[60,34,50,36,"numInputs"],[60,43,50,45],[60,71,50,73,"numTensors"],[60,81,50,83],[60,83,50,85],[60,84,50,86],[61,4,51,4],[62,4,52,4],[62,8,52,8,"numInputs"],[62,17,52,17],[62,20,52,20],[62,21,52,21],[62,23,52,23],[63,6,53,8],[63,12,53,14],[63,16,53,18,"Error"],[63,21,53,23],[63,22,53,24],[63,85,53,87],[63,86,53,88],[64,4,54,4],[65,4,55,4],[65,10,55,10,"allDims"],[65,17,55,17],[65,20,55,20],[65,22,55,22],[66,4,56,4],[66,9,56,9],[66,13,56,13,"i"],[66,14,56,14],[66,17,56,17],[66,18,56,18],[66,20,56,20,"i"],[66,21,56,21],[66,24,56,24,"outputString"],[66,36,56,36],[66,37,56,37,"length"],[66,43,56,43],[66,45,56,45],[66,47,56,47,"i"],[66,48,56,48],[66,50,56,50],[67,6,57,8],[67,12,57,14,"dimName"],[67,19,57,21],[67,22,57,24,"outputString"],[67,34,57,36],[67,35,57,37,"i"],[67,36,57,38],[67,37,57,39],[68,6,58,8],[68,10,58,12],[68,11,58,13,"inputTerms"],[68,21,58,23],[68,22,58,24,"some"],[68,26,58,28],[68,27,58,29,"inputTerm"],[68,36,58,38],[68,40,58,42,"inputTerm"],[68,49,58,51],[68,50,58,52,"indexOf"],[68,57,58,59],[68,58,58,60,"dimName"],[68,65,58,67],[68,66,58,68],[68,71,58,73],[68,72,58,74],[68,73,58,75],[68,74,58,76],[68,76,58,78],[69,8,59,12],[69,14,59,18],[69,18,59,22,"Error"],[69,23,59,27],[69,24,59,28],[69,63,59,67,"dimName"],[69,70,59,74],[69,73,59,77],[69,76,60,16],[69,114,60,54],[69,115,60,55],[70,6,61,8],[71,6,62,8],[71,10,62,12,"allDims"],[71,17,62,19],[71,18,62,20,"indexOf"],[71,25,62,27],[71,26,62,28,"dimName"],[71,33,62,35],[71,34,62,36],[71,39,62,41],[71,40,62,42],[71,41,62,43],[71,43,62,45],[72,8,63,12,"allDims"],[72,15,63,19],[72,16,63,20,"push"],[72,20,63,24],[72,21,63,25,"dimName"],[72,28,63,32],[72,29,63,33],[73,6,64,8],[74,4,65,4],[75,4,66,4],[75,9,66,9],[75,13,66,13,"i"],[75,14,66,14],[75,17,66,17],[75,18,66,18],[75,20,66,20,"i"],[75,21,66,21],[75,24,66,24,"inputString"],[75,35,66,35],[75,36,66,36,"length"],[75,42,66,42],[75,44,66,44],[75,46,66,46,"i"],[75,47,66,47],[75,49,66,49],[76,6,67,8],[76,12,67,14,"dimName"],[76,19,67,21],[76,22,67,24,"inputString"],[76,33,67,35],[76,34,67,36,"i"],[76,35,67,37],[76,36,67,38],[77,6,68,8],[77,10,68,12,"allDims"],[77,17,68,19],[77,18,68,20,"indexOf"],[77,25,68,27],[77,26,68,28,"dimName"],[77,33,68,35],[77,34,68,36],[77,39,68,41],[77,40,68,42],[77,41,68,43],[77,45,68,47,"dimName"],[77,52,68,54],[77,57,68,59,"COMMA"],[77,62,68,64],[77,64,68,66],[78,8,69,12,"allDims"],[78,15,69,19],[78,16,69,20,"push"],[78,20,69,24],[78,21,69,25,"dimName"],[78,28,69,32],[78,29,69,33],[79,6,70,8],[80,4,71,4],[81,4,72,4],[81,10,72,10,"idDims"],[81,16,72,16],[81,19,72,19],[81,23,72,23,"Array"],[81,28,72,28],[81,29,72,29,"inputTerms"],[81,39,72,39],[81,40,72,40,"length"],[81,46,72,46],[81,47,72,47],[82,4,73,4],[82,9,73,9],[82,13,73,13,"i"],[82,14,73,14],[82,17,73,17],[82,18,73,18],[82,20,73,20,"i"],[82,21,73,21],[82,24,73,24,"numInputs"],[82,33,73,33],[82,35,73,35],[82,37,73,37,"i"],[82,38,73,38],[82,40,73,40],[83,6,74,8],[83,10,74,12],[83,14,74,16,"Set"],[83,17,74,19],[83,18,74,20,"inputTerms"],[83,28,74,30],[83,29,74,31,"i"],[83,30,74,32],[83,31,74,33],[83,32,74,34,"split"],[83,37,74,39],[83,38,74,40],[83,40,74,42],[83,41,74,43],[83,42,74,44],[83,43,74,45,"size"],[83,47,74,49],[83,52,74,54,"inputTerms"],[83,62,74,64],[83,63,74,65,"i"],[83,64,74,66],[83,65,74,67],[83,66,74,68,"length"],[83,72,74,74],[83,74,74,76],[84,8,75,12],[84,14,75,18],[84,18,75,22,"Error"],[84,23,75,27],[84,24,75,28],[84,67,75,71,"inputTerms"],[84,77,75,81],[84,78,75,82,"i"],[84,79,75,83],[84,80,75,84],[84,84,75,88],[84,87,76,16],[84,148,76,77],[84,149,76,78],[85,6,77,8],[86,6,78,8,"idDims"],[86,12,78,14],[86,13,78,15,"i"],[86,14,78,16],[86,15,78,17],[86,18,78,20],[86,20,78,22],[87,6,79,8],[87,11,79,13],[87,15,79,17,"j"],[87,16,79,18],[87,19,79,21],[87,20,79,22],[87,22,79,24,"j"],[87,23,79,25],[87,26,79,28,"inputTerms"],[87,36,79,38],[87,37,79,39,"i"],[87,38,79,40],[87,39,79,41],[87,40,79,42,"length"],[87,46,79,48],[87,48,79,50],[87,50,79,52,"j"],[87,51,79,53],[87,53,79,55],[88,8,80,12,"idDims"],[88,14,80,18],[88,15,80,19,"i"],[88,16,80,20],[88,17,80,21],[88,18,80,22,"push"],[88,22,80,26],[88,23,80,27,"allDims"],[88,30,80,34],[88,31,80,35,"indexOf"],[88,38,80,42],[88,39,80,43,"inputTerms"],[88,49,80,53],[88,50,80,54,"i"],[88,51,80,55],[88,52,80,56],[88,53,80,57,"j"],[88,54,80,58],[88,55,80,59],[88,56,80,60],[88,57,80,61],[89,6,81,8],[90,4,82,4],[91,4,83,4],[91,10,83,10,"numDims"],[91,17,83,17],[91,20,83,20,"allDims"],[91,27,83,27],[91,28,83,28,"length"],[91,34,83,34],[91,35,83,35],[91,36,83,36],[92,4,84,4],[92,10,84,10,"numOutDims"],[92,20,84,20],[92,23,84,23,"outputString"],[92,35,84,35],[92,36,84,36,"length"],[92,42,84,42],[92,43,84,43],[92,44,84,44],[93,4,85,4],[93,10,85,10,"summedDims"],[93,20,85,20],[93,23,85,23],[93,25,85,25],[93,26,85,26],[93,27,85,27],[94,4,86,4],[94,9,86,9],[94,13,86,13,"i"],[94,14,86,14],[94,17,86,17,"numOutDims"],[94,27,86,27],[94,29,86,29,"i"],[94,30,86,30],[94,33,86,33,"numDims"],[94,40,86,40],[94,42,86,42],[94,44,86,44,"i"],[94,45,86,45],[94,47,86,47],[95,6,87,8,"summedDims"],[95,16,87,18],[95,17,87,19,"push"],[95,21,87,23],[95,22,87,24,"i"],[95,23,87,25],[95,24,87,26],[96,4,88,4],[97,4,89,4],[97,11,89,11],[98,6,89,13,"allDims"],[98,13,89,20],[99,6,89,22,"summedDims"],[99,16,89,32],[100,6,89,34,"idDims"],[101,4,89,41],[101,5,89,42],[102,2,90,0],[103,2,91,0],[104,0,92,0],[105,0,93,0],[106,0,94,0],[107,0,95,0],[108,0,96,0],[109,0,97,0],[110,0,98,0],[111,0,99,0],[112,0,100,0],[113,0,101,0],[114,2,102,7],[114,11,102,16,"getEinsumPermutation"],[114,31,102,36,"getEinsumPermutation"],[114,32,102,37,"nDims"],[114,37,102,42],[114,39,102,44,"idDims"],[114,45,102,50],[114,47,102,52],[115,4,103,4],[115,8,103,8,"permutationIndices"],[115,26,103,26],[115,29,103,29],[115,33,103,33,"Array"],[115,38,103,38],[115,39,103,39,"nDims"],[115,44,103,44],[115,45,103,45],[116,4,104,4,"permutationIndices"],[116,22,104,22],[116,23,104,23,"fill"],[116,27,104,27],[116,28,104,28],[116,29,104,29],[116,30,104,30],[116,31,104,31],[117,4,105,4],[117,9,105,9],[117,13,105,13,"i"],[117,14,105,14],[117,17,105,17],[117,18,105,18],[117,20,105,20,"i"],[117,21,105,21],[117,24,105,24,"idDims"],[117,30,105,30],[117,31,105,31,"length"],[117,37,105,37],[117,39,105,39],[117,41,105,41,"i"],[117,42,105,42],[117,44,105,44],[118,6,106,8,"permutationIndices"],[118,24,106,26],[118,25,106,27,"idDims"],[118,31,106,33],[118,32,106,34,"i"],[118,33,106,35],[118,34,106,36],[118,35,106,37],[118,38,106,40,"i"],[118,39,106,41],[119,4,107,4],[120,4,108,4],[120,10,108,10,"expandDims"],[120,20,108,20],[120,23,108,23],[120,25,108,25],[121,4,109,4],[121,9,109,9],[121,13,109,13,"i"],[121,14,109,14],[121,17,109,17],[121,18,109,18],[121,20,109,20,"i"],[121,21,109,21],[121,24,109,24,"nDims"],[121,29,109,29],[121,31,109,31],[121,33,109,33,"i"],[121,34,109,34],[121,36,109,36],[122,6,110,8],[122,10,110,12,"permutationIndices"],[122,28,110,30],[122,29,110,31,"i"],[122,30,110,32],[122,31,110,33],[122,36,110,38],[122,37,110,39],[122,38,110,40],[122,40,110,42],[123,8,111,12,"expandDims"],[123,18,111,22],[123,19,111,23,"push"],[123,23,111,27],[123,24,111,28,"i"],[123,25,111,29],[123,26,111,30],[124,6,112,8],[125,4,113,4],[126,4,114,4,"permutationIndices"],[126,22,114,22],[126,25,114,25,"permutationIndices"],[126,43,114,43],[126,44,114,44,"filter"],[126,50,114,50],[126,51,114,51,"d"],[126,52,114,52],[126,56,114,56,"d"],[126,57,114,57],[126,62,114,62],[126,63,114,63],[126,64,114,64],[126,65,114,65],[127,4,115,4],[127,11,115,11],[128,6,115,13,"permutationIndices"],[128,24,115,31],[129,6,115,33,"expandDims"],[130,4,115,44],[130,5,115,45],[131,2,116,0],[132,2,117,0],[133,0,118,0],[134,0,119,0],[135,0,120,0],[136,2,121,7],[136,11,121,16,"checkEinsumDimSizes"],[136,30,121,35,"checkEinsumDimSizes"],[136,31,121,36,"nDims"],[136,36,121,41],[136,38,121,43,"idDims"],[136,44,121,49],[136,46,121,51,"tensors"],[136,53,121,58],[136,55,121,60],[137,4,122,4],[137,10,122,10,"dimSizes"],[137,18,122,18],[137,21,122,21],[137,25,122,25,"Array"],[137,30,122,30],[137,31,122,31,"nDims"],[137,36,122,36],[137,37,122,37],[138,4,123,4],[138,9,123,9],[138,13,123,13,"i"],[138,14,123,14],[138,17,123,17],[138,18,123,18],[138,20,123,20,"i"],[138,21,123,21],[138,24,123,24,"tensors"],[138,31,123,31],[138,32,123,32,"length"],[138,38,123,38],[138,40,123,40],[138,42,123,42,"i"],[138,43,123,43],[138,45,123,45],[139,6,124,8],[139,12,124,14,"shape"],[139,17,124,19],[139,20,124,22,"tensors"],[139,27,124,29],[139,28,124,30,"i"],[139,29,124,31],[139,30,124,32],[139,31,124,33,"shape"],[139,36,124,38],[140,6,125,8],[140,11,125,13],[140,15,125,17,"j"],[140,16,125,18],[140,19,125,21],[140,20,125,22],[140,22,125,24,"j"],[140,23,125,25],[140,26,125,28,"idDims"],[140,32,125,34],[140,33,125,35,"i"],[140,34,125,36],[140,35,125,37],[140,36,125,38,"length"],[140,42,125,44],[140,44,125,46],[140,46,125,48,"j"],[140,47,125,49],[140,49,125,51],[141,8,126,12],[141,12,126,16,"dimSizes"],[141,20,126,24],[141,21,126,25,"idDims"],[141,27,126,31],[141,28,126,32,"i"],[141,29,126,33],[141,30,126,34],[141,31,126,35,"j"],[141,32,126,36],[141,33,126,37],[141,34,126,38],[141,39,126,43,"undefined"],[141,48,126,52],[141,50,126,54],[142,10,127,16,"dimSizes"],[142,18,127,24],[142,19,127,25,"idDims"],[142,25,127,31],[142,26,127,32,"i"],[142,27,127,33],[142,28,127,34],[142,29,127,35,"j"],[142,30,127,36],[142,31,127,37],[142,32,127,38],[142,35,127,41,"shape"],[142,40,127,46],[142,41,127,47,"j"],[142,42,127,48],[142,43,127,49],[143,8,128,12],[143,9,128,13],[143,15,129,17],[144,10,130,16],[144,14,130,16,"assert"],[144,24,130,22],[144,25,130,22,"assert"],[144,31,130,22],[144,33,130,23,"dimSizes"],[144,41,130,31],[144,42,130,32,"idDims"],[144,48,130,38],[144,49,130,39,"i"],[144,50,130,40],[144,51,130,41],[144,52,130,42,"j"],[144,53,130,43],[144,54,130,44],[144,55,130,45],[144,60,130,50,"shape"],[144,65,130,55],[144,66,130,56,"j"],[144,67,130,57],[144,68,130,58],[144,70,130,60],[144,76,130,66],[144,98,130,88,"dimSizes"],[144,106,130,96],[144,107,130,97,"idDims"],[144,113,130,103],[144,114,130,104,"i"],[144,115,130,105],[144,116,130,106],[144,117,130,107,"j"],[144,118,130,108],[144,119,130,109],[144,120,130,110],[144,132,130,122,"j"],[144,133,130,123],[144,136,130,126],[144,139,131,20],[144,158,131,39,"JSON"],[144,162,131,43],[144,163,131,44,"stringify"],[144,172,131,53],[144,173,131,54,"shape"],[144,178,131,59],[144,179,131,60],[144,183,131,64],[144,186,132,20],[144,207,132,41,"shape"],[144,212,132,46],[144,213,132,47,"j"],[144,214,132,48],[144,215,132,49],[144,217,132,51],[144,218,132,52],[145,8,133,12],[146,6,134,8],[147,4,135,4],[148,2,136,0],[149,2,137,0],[150,0,138,0],[151,0,139,0],[152,0,140,0],[153,0,141,0],[154,0,142,0],[155,0,143,0],[156,0,144,0],[157,0,145,0],[158,0,146,0],[159,0,147,0],[160,0,148,0],[161,0,149,0],[162,0,150,0],[163,0,151,0],[164,2,152,7],[164,11,152,16,"getEinsumComputePath"],[164,31,152,36,"getEinsumComputePath"],[164,32,152,37,"summedDims"],[164,42,152,47],[164,44,152,49,"idDims"],[164,50,152,55],[164,52,152,57],[165,4,153,4],[165,10,153,10,"path"],[165,14,153,14],[165,17,153,17,"summedDims"],[165,27,153,27],[166,4,154,4],[166,10,154,10,"steps"],[166,15,154,15],[166,18,154,18],[166,20,154,20],[167,4,155,4],[167,8,155,8,"nSteps"],[167,14,155,14],[167,17,155,17],[167,18,155,18],[168,4,156,4],[168,8,156,8,"summedDims"],[168,18,156,18],[168,19,156,19,"length"],[168,25,156,25],[168,30,156,30],[168,31,156,31],[168,33,156,33],[169,6,157,8],[170,6,158,8,"path"],[170,10,158,12],[170,11,158,13,"push"],[170,15,158,17],[170,16,158,18],[170,17,158,19],[170,18,158,20],[170,19,158,21],[171,4,159,4],[172,4,160,4,"nSteps"],[172,10,160,10],[172,13,160,13,"summedDims"],[172,23,160,23],[172,24,160,24,"length"],[172,30,160,30],[172,33,160,33],[172,34,160,34],[173,4,161,4],[173,9,161,9],[173,13,161,13,"i"],[173,14,161,14],[173,17,161,17],[173,18,161,18],[173,20,161,20,"i"],[173,21,161,21],[173,24,161,24,"nSteps"],[173,30,161,30],[173,32,161,32],[173,34,161,34,"i"],[173,35,161,35],[173,37,161,37],[174,6,162,8,"steps"],[174,11,162,13],[174,12,162,14,"push"],[174,16,162,18],[174,17,162,19],[174,19,162,21],[174,20,162,22],[175,4,163,4],[176,4,164,4],[176,10,164,10,"computedTermIndices"],[176,29,164,29],[176,32,164,32],[176,34,164,34],[177,4,165,4],[177,9,165,9],[177,13,165,13,"i"],[177,14,165,14],[177,17,165,17],[177,18,165,18],[177,20,165,20,"i"],[177,21,165,21],[177,24,165,24,"path"],[177,28,165,28],[177,29,165,29,"length"],[177,35,165,35],[177,37,165,37],[177,39,165,39,"i"],[177,40,165,40],[177,42,165,42],[178,6,166,8],[178,12,166,14,"summedDim"],[178,21,166,23],[178,24,166,26,"path"],[178,28,166,30],[178,29,166,31,"i"],[178,30,166,32],[178,31,166,33],[179,6,167,8],[179,12,167,14,"termIndices"],[179,23,167,25],[179,26,167,28,"findTermsWithDim"],[179,42,167,44],[179,43,167,45,"idDims"],[179,49,167,51],[179,51,167,53,"summedDim"],[179,60,167,62],[179,61,167,63],[180,6,168,8],[180,11,168,13],[180,17,168,19,"termIndex"],[180,26,168,28],[180,30,168,32,"termIndices"],[180,41,168,43],[180,43,168,45],[181,8,169,12],[181,12,169,16,"computedTermIndices"],[181,31,169,35],[181,32,169,36,"indexOf"],[181,39,169,43],[181,40,169,44,"termIndex"],[181,49,169,53],[181,50,169,54],[181,55,169,59],[181,56,169,60],[181,57,169,61],[181,59,169,63],[182,10,170,16,"steps"],[182,15,170,21],[182,16,170,22,"i"],[182,17,170,23],[182,18,170,24],[182,19,170,25,"push"],[182,23,170,29],[182,24,170,30,"termIndex"],[182,33,170,39],[182,34,170,40],[183,10,171,16,"computedTermIndices"],[183,29,171,35],[183,30,171,36,"push"],[183,34,171,40],[183,35,171,41,"termIndex"],[183,44,171,50],[183,45,171,51],[184,8,172,12],[185,6,173,8],[186,4,174,4],[187,4,175,4],[187,11,175,11],[188,6,175,13,"path"],[188,10,175,17],[189,6,175,19,"steps"],[190,4,175,25],[190,5,175,26],[191,2,176,0],[192,2,177,0],[193,2,178,7],[193,11,178,16,"isIdentityPermutation"],[193,32,178,37,"isIdentityPermutation"],[193,33,178,38,"perm"],[193,37,178,42],[193,39,178,44],[194,4,179,4],[194,11,179,11,"perm"],[194,15,179,15],[194,16,179,16,"every"],[194,21,179,21],[194,22,179,22],[194,23,179,23,"dim"],[194,26,179,26],[194,28,179,28,"index"],[194,33,179,33],[194,38,179,38,"dim"],[194,41,179,41],[194,46,179,46,"index"],[194,51,179,51],[194,52,179,52],[195,2,180,0],[196,2,181,0],[196,11,181,9,"findTermsWithDim"],[196,27,181,25,"findTermsWithDim"],[196,28,181,26,"idDims"],[196,34,181,32],[196,36,181,34,"dim"],[196,39,181,37],[196,41,181,39],[197,4,182,4],[197,10,182,10,"termIndices"],[197,21,182,21],[197,24,182,24],[197,26,182,26],[198,4,183,4],[198,9,183,9],[198,13,183,13,"i"],[198,14,183,14],[198,17,183,17],[198,18,183,18],[198,20,183,20,"i"],[198,21,183,21],[198,24,183,24,"idDims"],[198,30,183,30],[198,31,183,31,"length"],[198,37,183,37],[198,39,183,39],[198,41,183,41,"i"],[198,42,183,42],[198,44,183,44],[199,6,184,8],[199,10,184,12,"idDims"],[199,16,184,18],[199,17,184,19,"i"],[199,18,184,20],[199,19,184,21],[199,20,184,22,"length"],[199,26,184,28],[199,31,184,33],[199,32,184,34],[199,36,184,38,"idDims"],[199,42,184,44],[199,43,184,45,"i"],[199,44,184,46],[199,45,184,47],[199,46,184,48,"indexOf"],[199,53,184,55],[199,54,184,56,"dim"],[199,57,184,59],[199,58,184,60],[199,63,184,65],[199,64,184,66],[199,65,184,67],[199,69,184,71,"dim"],[199,72,184,74],[199,77,184,79],[199,78,184,80],[199,79,184,81],[199,81,184,83],[200,8,185,12,"termIndices"],[200,19,185,23],[200,20,185,24,"push"],[200,24,185,28],[200,25,185,29,"i"],[200,26,185,30],[200,27,185,31],[201,6,186,8],[202,4,187,4],[203,4,188,4],[203,11,188,11,"termIndices"],[203,22,188,22],[204,2,189,0],[205,0,189,1],[205,3]],"functionMap":{"names":["<global>","decodeEinsumEquation","assert$argument_1","inputTerms.some$argument_0","getEinsumPermutation","permutationIndices.filter$argument_0","checkEinsumDimSizes","getEinsumComputePath","isIdentityPermutation","perm.every$argument_0","findTermsWithDim"],"mappings":"AAA;OCkC;iDCW,mED;6BEY,8CF;CDgC;OIY;mDCY,aD;CJE;OMK;4DJS;mDIE;CNI;OOgB;CPwB;OQE;sBCC,6BD;CRC;AUC;CVQ"},"hasCjsExports":false},"type":"js/module"}]}