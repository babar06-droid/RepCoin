{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":43,"index":746}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/broadcast_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":747},"end":{"line":18,"column":85,"index":832}}],"key":"Qvkkzd+OEKB4AewZTACLHdeSCuY=","exportNames":["*"],"imports":1}},{"name":"../ops/cast","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":833},"end":{"line":19,"column":35,"index":868}}],"key":"WivC6qgff7NU+wGToo3tfKFUEPo=","exportNames":["*"],"imports":1}},{"name":"../ops/div","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":869},"end":{"line":20,"column":33,"index":902}}],"key":"k/BZM+SZS6CPUrneNct7M5x21sM=","exportNames":["*"],"imports":1}},{"name":"../ops/mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":903},"end":{"line":21,"column":33,"index":936}}],"key":"8VMM/o0r3nOvGtT2jgKf2KxknFk=","exportNames":["*"],"imports":1}},{"name":"../ops/neg","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":937},"end":{"line":22,"column":33,"index":970}}],"key":"4k4Q/waBIv7dEtTMylLnPi+jOrs=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":971},"end":{"line":23,"column":41,"index":1012}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}},{"name":"../ops/square","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":1013},"end":{"line":24,"column":39,"index":1052}}],"key":"dzrBPVh0nJ0Zsg34oq5kewvGmfA=","exportNames":["*"],"imports":1}},{"name":"../ops/sum","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":1053},"end":{"line":25,"column":33,"index":1086}}],"key":"QFu1HORitJ22mTBAu0XhrnhYCVg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"floorDivGradConfig\", {\n    enumerable: true,\n    get: function () {\n      return floorDivGradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsBroadcast_util = require(_dependencyMap[1], \"../ops/broadcast_util\");\n  var _opsCast = require(_dependencyMap[2], \"../ops/cast\");\n  var _opsDiv = require(_dependencyMap[3], \"../ops/div\");\n  var _opsMul = require(_dependencyMap[4], \"../ops/mul\");\n  var _opsNeg = require(_dependencyMap[5], \"../ops/neg\");\n  var _opsReshape = require(_dependencyMap[6], \"../ops/reshape\");\n  var _opsSquare = require(_dependencyMap[7], \"../ops/square\");\n  var _opsSum = require(_dependencyMap[8], \"../ops/sum\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const floorDivGradConfig = {\n    kernelName: _kernel_names.FloorDiv,\n    inputsToSave: ['a', 'b'],\n    gradFunc: (dy, saved) => {\n      const [a, b] = saved;\n      const outShape = (0, _opsBroadcast_util.assertAndGetBroadcastShape)(a.shape, b.shape);\n      const derA = () => {\n        const res = (0, _opsDiv.div)(dy, (0, _opsCast.cast)(b, 'float32'));\n        const reduceAxes = (0, _opsBroadcast_util.getReductionAxes)(a.shape, outShape);\n        if (reduceAxes.length > 0) {\n          return (0, _opsReshape.reshape)((0, _opsSum.sum)(res, reduceAxes), a.shape);\n        }\n        return res;\n      };\n      const derB = () => {\n        let res = (0, _opsMul.mul)(dy, (0, _opsCast.cast)(a, 'float32'));\n        const reduceAxes = (0, _opsBroadcast_util.getReductionAxes)(b.shape, outShape);\n        if (reduceAxes.length > 0) {\n          res = (0, _opsReshape.reshape)((0, _opsSum.sum)(res, reduceAxes), b.shape);\n        }\n        const tmp = (0, _opsSquare.square)(b);\n        return (0, _opsNeg.neg)((0, _opsDiv.div)(res, (0, _opsCast.cast)(tmp, 'float32')));\n      };\n      return {\n        a: derA,\n        b: derB\n      };\n    }\n  };\n});","lineCount":68,"map":[[7,2,26,0,"Object"],[7,8,26,0],[7,9,26,0,"defineProperty"],[7,23,26,0],[7,24,26,0,"exports"],[7,31,26,0],[8,4,26,0,"enumerable"],[8,14,26,0],[9,4,26,0,"get"],[9,7,26,0],[9,18,26,0,"get"],[9,19,26,0],[10,6,26,0],[10,13,26,0,"floorDivGradConfig"],[10,31,26,0],[11,4,26,0],[12,2,26,0],[13,2,17,0],[13,6,17,0,"_kernel_names"],[13,19,17,0],[13,22,17,0,"require"],[13,29,17,0],[13,30,17,0,"_dependencyMap"],[13,44,17,0],[14,2,18,0],[14,6,18,0,"_opsBroadcast_util"],[14,24,18,0],[14,27,18,0,"require"],[14,34,18,0],[14,35,18,0,"_dependencyMap"],[14,49,18,0],[15,2,19,0],[15,6,19,0,"_opsCast"],[15,14,19,0],[15,17,19,0,"require"],[15,24,19,0],[15,25,19,0,"_dependencyMap"],[15,39,19,0],[16,2,20,0],[16,6,20,0,"_opsDiv"],[16,13,20,0],[16,16,20,0,"require"],[16,23,20,0],[16,24,20,0,"_dependencyMap"],[16,38,20,0],[17,2,21,0],[17,6,21,0,"_opsMul"],[17,13,21,0],[17,16,21,0,"require"],[17,23,21,0],[17,24,21,0,"_dependencyMap"],[17,38,21,0],[18,2,22,0],[18,6,22,0,"_opsNeg"],[18,13,22,0],[18,16,22,0,"require"],[18,23,22,0],[18,24,22,0,"_dependencyMap"],[18,38,22,0],[19,2,23,0],[19,6,23,0,"_opsReshape"],[19,17,23,0],[19,20,23,0,"require"],[19,27,23,0],[19,28,23,0,"_dependencyMap"],[19,42,23,0],[20,2,24,0],[20,6,24,0,"_opsSquare"],[20,16,24,0],[20,19,24,0,"require"],[20,26,24,0],[20,27,24,0,"_dependencyMap"],[20,41,24,0],[21,2,25,0],[21,6,25,0,"_opsSum"],[21,13,25,0],[21,16,25,0,"require"],[21,23,25,0],[21,24,25,0,"_dependencyMap"],[21,38,25,0],[22,2,1,0],[23,0,2,0],[24,0,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[30,0,9,0],[31,0,10,0],[32,0,11,0],[33,0,12,0],[34,0,13,0],[35,0,14,0],[36,0,15,0],[37,0,16,0],[39,2,26,7],[39,8,26,13,"floorDivGradConfig"],[39,26,26,31],[39,29,26,34],[40,4,27,4,"kernelName"],[40,14,27,14],[40,16,27,16,"FloorDiv"],[40,29,27,24],[40,30,27,24,"FloorDiv"],[40,38,27,24],[41,4,28,4,"inputsToSave"],[41,16,28,16],[41,18,28,18],[41,19,28,19],[41,22,28,22],[41,24,28,24],[41,27,28,27],[41,28,28,28],[42,4,29,4,"gradFunc"],[42,12,29,12],[42,14,29,14,"gradFunc"],[42,15,29,15,"dy"],[42,17,29,17],[42,19,29,19,"saved"],[42,24,29,24],[42,29,29,29],[43,6,30,8],[43,12,30,14],[43,13,30,15,"a"],[43,14,30,16],[43,16,30,18,"b"],[43,17,30,19],[43,18,30,20],[43,21,30,23,"saved"],[43,26,30,28],[44,6,31,8],[44,12,31,14,"outShape"],[44,20,31,22],[44,23,31,25],[44,27,31,25,"assertAndGetBroadcastShape"],[44,45,31,51],[44,46,31,51,"assertAndGetBroadcastShape"],[44,72,31,51],[44,74,31,52,"a"],[44,75,31,53],[44,76,31,54,"shape"],[44,81,31,59],[44,83,31,61,"b"],[44,84,31,62],[44,85,31,63,"shape"],[44,90,31,68],[44,91,31,69],[45,6,32,8],[45,12,32,14,"derA"],[45,16,32,18],[45,19,32,21,"derA"],[45,20,32,21],[45,25,32,27],[46,8,33,12],[46,14,33,18,"res"],[46,17,33,21],[46,20,33,24],[46,24,33,24,"div"],[46,31,33,27],[46,32,33,27,"div"],[46,35,33,27],[46,37,33,28,"dy"],[46,39,33,30],[46,41,33,32],[46,45,33,32,"cast"],[46,53,33,36],[46,54,33,36,"cast"],[46,58,33,36],[46,60,33,37,"b"],[46,61,33,38],[46,63,33,40],[46,72,33,49],[46,73,33,50],[46,74,33,51],[47,8,34,12],[47,14,34,18,"reduceAxes"],[47,24,34,28],[47,27,34,31],[47,31,34,31,"getReductionAxes"],[47,49,34,47],[47,50,34,47,"getReductionAxes"],[47,66,34,47],[47,68,34,48,"a"],[47,69,34,49],[47,70,34,50,"shape"],[47,75,34,55],[47,77,34,57,"outShape"],[47,85,34,65],[47,86,34,66],[48,8,35,12],[48,12,35,16,"reduceAxes"],[48,22,35,26],[48,23,35,27,"length"],[48,29,35,33],[48,32,35,36],[48,33,35,37],[48,35,35,39],[49,10,36,16],[49,17,36,23],[49,21,36,23,"reshape"],[49,32,36,30],[49,33,36,30,"reshape"],[49,40,36,30],[49,42,36,31],[49,46,36,31,"sum"],[49,53,36,34],[49,54,36,34,"sum"],[49,57,36,34],[49,59,36,35,"res"],[49,62,36,38],[49,64,36,40,"reduceAxes"],[49,74,36,50],[49,75,36,51],[49,77,36,53,"a"],[49,78,36,54],[49,79,36,55,"shape"],[49,84,36,60],[49,85,36,61],[50,8,37,12],[51,8,38,12],[51,15,38,19,"res"],[51,18,38,22],[52,6,39,8],[52,7,39,9],[53,6,40,8],[53,12,40,14,"derB"],[53,16,40,18],[53,19,40,21,"derB"],[53,20,40,21],[53,25,40,27],[54,8,41,12],[54,12,41,16,"res"],[54,15,41,19],[54,18,41,22],[54,22,41,22,"mul"],[54,29,41,25],[54,30,41,25,"mul"],[54,33,41,25],[54,35,41,26,"dy"],[54,37,41,28],[54,39,41,30],[54,43,41,30,"cast"],[54,51,41,34],[54,52,41,34,"cast"],[54,56,41,34],[54,58,41,35,"a"],[54,59,41,36],[54,61,41,38],[54,70,41,47],[54,71,41,48],[54,72,41,49],[55,8,42,12],[55,14,42,18,"reduceAxes"],[55,24,42,28],[55,27,42,31],[55,31,42,31,"getReductionAxes"],[55,49,42,47],[55,50,42,47,"getReductionAxes"],[55,66,42,47],[55,68,42,48,"b"],[55,69,42,49],[55,70,42,50,"shape"],[55,75,42,55],[55,77,42,57,"outShape"],[55,85,42,65],[55,86,42,66],[56,8,43,12],[56,12,43,16,"reduceAxes"],[56,22,43,26],[56,23,43,27,"length"],[56,29,43,33],[56,32,43,36],[56,33,43,37],[56,35,43,39],[57,10,44,16,"res"],[57,13,44,19],[57,16,44,22],[57,20,44,22,"reshape"],[57,31,44,29],[57,32,44,29,"reshape"],[57,39,44,29],[57,41,44,30],[57,45,44,30,"sum"],[57,52,44,33],[57,53,44,33,"sum"],[57,56,44,33],[57,58,44,34,"res"],[57,61,44,37],[57,63,44,39,"reduceAxes"],[57,73,44,49],[57,74,44,50],[57,76,44,52,"b"],[57,77,44,53],[57,78,44,54,"shape"],[57,83,44,59],[57,84,44,60],[58,8,45,12],[59,8,46,12],[59,14,46,18,"tmp"],[59,17,46,21],[59,20,46,24],[59,24,46,24,"square"],[59,34,46,30],[59,35,46,30,"square"],[59,41,46,30],[59,43,46,31,"b"],[59,44,46,32],[59,45,46,33],[60,8,47,12],[60,15,47,19],[60,19,47,19,"neg"],[60,26,47,22],[60,27,47,22,"neg"],[60,30,47,22],[60,32,47,23],[60,36,47,23,"div"],[60,43,47,26],[60,44,47,26,"div"],[60,47,47,26],[60,49,47,27,"res"],[60,52,47,30],[60,54,47,32],[60,58,47,32,"cast"],[60,66,47,36],[60,67,47,36,"cast"],[60,71,47,36],[60,73,47,37,"tmp"],[60,76,47,40],[60,78,47,42],[60,87,47,51],[60,88,47,52],[60,89,47,53],[60,90,47,54],[61,6,48,8],[61,7,48,9],[62,6,49,8],[62,13,49,15],[63,8,49,17,"a"],[63,9,49,18],[63,11,49,20,"derA"],[63,15,49,24],[64,8,49,26,"b"],[64,9,49,27],[64,11,49,29,"derB"],[65,6,49,34],[65,7,49,35],[66,4,50,4],[67,2,51,0],[67,3,51,1],[68,0,51,2],[68,3]],"functionMap":{"names":["<global>","floorDivGradConfig.gradFunc","derA","derB"],"mappings":"AAA;cC4B;qBCG;SDO;qBEC;SFQ;KDE"},"hasCjsExports":false},"type":"js/module"}]}