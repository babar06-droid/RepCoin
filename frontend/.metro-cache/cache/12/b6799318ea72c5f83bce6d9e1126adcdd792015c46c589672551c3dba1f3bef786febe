{"dependencies":[{"name":"../datasource","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":706},"end":{"line":18,"column":43,"index":749}}],"key":"swTpZreY9J/IgdeulWAlr3FOZeE=","exportNames":["*"],"imports":1}},{"name":"../iterators/url_chunk_iterator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":750},"end":{"line":19,"column":67,"index":817}}],"key":"3v85bE4xb9TRF4wr49GBCQ0G2w0=","exportNames":["*"],"imports":1}},{"name":"../util/source_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":818},"end":{"line":20,"column":50,"index":868}}],"key":"8QlA6aUhxPUUHeeBBZocsEaPP88=","exportNames":["*"],"imports":1}},{"name":"./file_data_source","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":869},"end":{"line":21,"column":52,"index":921}}],"key":"5rBza2mXwBXaWiz40bCwTjs/CwI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"URLDataSource\", {\n    enumerable: true,\n    get: function () {\n      return URLDataSource;\n    }\n  });\n  var _datasource = require(_dependencyMap[0], \"../datasource\");\n  var _iteratorsUrl_chunk_iterator = require(_dependencyMap[1], \"../iterators/url_chunk_iterator\");\n  var _utilSource_util = require(_dependencyMap[2], \"../util/source_util\");\n  var _file_data_source = require(_dependencyMap[3], \"./file_data_source\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * =============================================================================\n   */\n\n  /*\n   * Represents a URL readable as a stream of binary data chunks.\n   */\n  class URLDataSource extends _datasource.DataSource {\n    /**\n     * Create a `URLDataSource`.\n     *\n     * @param url A source URL string, or a `Request` object.\n     * @param options Options passed to the underlying `FileChunkIterator`s,\n     *   such as {chunksize: 1024}.\n     */\n    constructor(url, fileOptions = {}) {\n      super();\n      this.url = url;\n      this.fileOptions = fileOptions;\n    }\n    // TODO(soergel): provide appropriate caching options.  Currently this\n    // will download the URL anew for each call to iterator().  Since we have\n    // to treat the downloaded file as a blob/buffer anyway, we may as well retain\n    // it-- but that raises GC issues.  Also we may want a persistent disk cache.\n    async iterator() {\n      if ((0, _utilSource_util.isLocalPath)(this.url)) {\n        return new _file_data_source.FileDataSource(this.url, this.fileOptions).iterator();\n      } else {\n        return (0, _iteratorsUrl_chunk_iterator.urlChunkIterator)(this.url, this.fileOptions);\n      }\n    }\n  }\n});","lineCount":63,"map":[[7,2,25,0,"Object"],[7,8,25,0],[7,9,25,0,"defineProperty"],[7,23,25,0],[7,24,25,0,"exports"],[7,31,25,0],[8,4,25,0,"enumerable"],[8,14,25,0],[9,4,25,0,"get"],[9,7,25,0],[9,18,25,0,"get"],[9,19,25,0],[10,6,25,0],[10,13,25,0,"URLDataSource"],[10,26,25,0],[11,4,25,0],[12,2,25,0],[13,2,18,0],[13,6,18,0,"_datasource"],[13,17,18,0],[13,20,18,0,"require"],[13,27,18,0],[13,28,18,0,"_dependencyMap"],[13,42,18,0],[14,2,19,0],[14,6,19,0,"_iteratorsUrl_chunk_iterator"],[14,34,19,0],[14,37,19,0,"require"],[14,44,19,0],[14,45,19,0,"_dependencyMap"],[14,59,19,0],[15,2,20,0],[15,6,20,0,"_utilSource_util"],[15,22,20,0],[15,25,20,0,"require"],[15,32,20,0],[15,33,20,0,"_dependencyMap"],[15,47,20,0],[16,2,21,0],[16,6,21,0,"_file_data_source"],[16,23,21,0],[16,26,21,0,"require"],[16,33,21,0],[16,34,21,0,"_dependencyMap"],[16,48,21,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[33,0,17,0],[35,2,22,0],[36,0,23,0],[37,0,24,0],[38,2,25,7],[38,8,25,13,"URLDataSource"],[38,21,25,26],[38,30,25,35,"DataSource"],[38,41,25,45],[38,42,25,45,"DataSource"],[38,52,25,45],[38,53,25,46],[39,4,26,4],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,4,33,4,"constructor"],[46,15,33,15,"constructor"],[46,16,33,16,"url"],[46,19,33,19],[46,21,33,21,"fileOptions"],[46,32,33,32],[46,35,33,35],[46,36,33,36],[46,37,33,37],[46,39,33,39],[47,6,34,8],[47,11,34,13],[47,12,34,14],[47,13,34,15],[48,6,35,8],[48,10,35,12],[48,11,35,13,"url"],[48,14,35,16],[48,17,35,19,"url"],[48,20,35,22],[49,6,36,8],[49,10,36,12],[49,11,36,13,"fileOptions"],[49,22,36,24],[49,25,36,27,"fileOptions"],[49,36,36,38],[50,4,37,4],[51,4,38,4],[52,4,39,4],[53,4,40,4],[54,4,41,4],[55,4,42,4],[55,10,42,10,"iterator"],[55,18,42,18,"iterator"],[55,19,42,18],[55,21,42,21],[56,6,43,8],[56,10,43,12],[56,14,43,12,"isLocalPath"],[56,30,43,23],[56,31,43,23,"isLocalPath"],[56,42,43,23],[56,44,43,24],[56,48,43,28],[56,49,43,29,"url"],[56,52,43,32],[56,53,43,33],[56,55,43,35],[57,8,44,12],[57,15,44,20],[57,19,44,24,"FileDataSource"],[57,36,44,38],[57,37,44,38,"FileDataSource"],[57,51,44,38],[57,52,44,39],[57,56,44,43],[57,57,44,44,"url"],[57,60,44,47],[57,62,44,49],[57,66,44,53],[57,67,44,54,"fileOptions"],[57,78,44,65],[57,79,44,66],[57,80,45,17,"iterator"],[57,88,45,25],[57,89,45,26],[57,90,45,27],[58,6,46,8],[58,7,46,9],[58,13,47,13],[59,8,48,12],[59,15,48,19],[59,19,48,19,"urlChunkIterator"],[59,47,48,35],[59,48,48,35,"urlChunkIterator"],[59,64,48,35],[59,66,48,36],[59,70,48,40],[59,71,48,41,"url"],[59,74,48,44],[59,76,48,46],[59,80,48,50],[59,81,48,51,"fileOptions"],[59,92,48,62],[59,93,48,63],[60,6,49,8],[61,4,50,4],[62,2,51,0],[63,0,51,1],[63,3]],"functionMap":{"names":["<global>","URLDataSource","URLDataSource#constructor","URLDataSource#iterator"],"mappings":"AAA;OCwB;ICQ;KDI;IEK;KFQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}