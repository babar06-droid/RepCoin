{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/broadcast_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":742},"end":{"line":18,"column":56,"index":798}}],"key":"Qvkkzd+OEKB4AewZTACLHdeSCuY=","exportNames":["*"],"imports":1}},{"name":"../ops/cast","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":799},"end":{"line":19,"column":35,"index":834}}],"key":"WivC6qgff7NU+wGToo3tfKFUEPo=","exportNames":["*"],"imports":1}},{"name":"../ops/greater","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":835},"end":{"line":20,"column":41,"index":876}}],"key":"YHKRf7uC4TDKwzK+5rABUBNNLew=","exportNames":["*"],"imports":1}},{"name":"../ops/log","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":877},"end":{"line":21,"column":33,"index":910}}],"key":"7GVkWM0BTrF6m+4h+Cy+h/T71VU=","exportNames":["*"],"imports":1}},{"name":"../ops/mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":911},"end":{"line":22,"column":33,"index":944}}],"key":"8VMM/o0r3nOvGtT2jgKf2KxknFk=","exportNames":["*"],"imports":1}},{"name":"../ops/pow","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":945},"end":{"line":23,"column":33,"index":978}}],"key":"9lYZY9QSYuz8JA8BNH0Qin0eo5M=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":979},"end":{"line":24,"column":41,"index":1020}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}},{"name":"../ops/scalar","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":1021},"end":{"line":25,"column":39,"index":1060}}],"key":"rZXFtHeZMGskUzCIeY9ReIRgRNY=","exportNames":["*"],"imports":1}},{"name":"../ops/sub","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":26,"column":0,"index":1061},"end":{"line":26,"column":33,"index":1094}}],"key":"jt3SdEYUZSok6vUY1L+V4n2W/yw=","exportNames":["*"],"imports":1}},{"name":"../ops/sum","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":27,"column":0,"index":1095},"end":{"line":27,"column":33,"index":1128}}],"key":"QFu1HORitJ22mTBAu0XhrnhYCVg=","exportNames":["*"],"imports":1}},{"name":"../ops/where","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":28,"column":0,"index":1129},"end":{"line":28,"column":37,"index":1166}}],"key":"U8ANkW0botEoUQtAy7zxZOgP0oc=","exportNames":["*"],"imports":1}},{"name":"../ops/zeros_like","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":29,"column":0,"index":1167},"end":{"line":29,"column":46,"index":1213}}],"key":"W8oXMgkxT4zTnXtvBRWiid+nzbc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"powGradConfig\", {\n    enumerable: true,\n    get: function () {\n      return powGradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsBroadcast_util = require(_dependencyMap[1], \"../ops/broadcast_util\");\n  var broadcast_util = _interopNamespace(_opsBroadcast_util);\n  var _opsCast = require(_dependencyMap[2], \"../ops/cast\");\n  var _opsGreater = require(_dependencyMap[3], \"../ops/greater\");\n  var _opsLog = require(_dependencyMap[4], \"../ops/log\");\n  var _opsMul = require(_dependencyMap[5], \"../ops/mul\");\n  var _opsPow = require(_dependencyMap[6], \"../ops/pow\");\n  var _opsReshape = require(_dependencyMap[7], \"../ops/reshape\");\n  var _opsScalar = require(_dependencyMap[8], \"../ops/scalar\");\n  var _opsSub = require(_dependencyMap[9], \"../ops/sub\");\n  var _opsSum = require(_dependencyMap[10], \"../ops/sum\");\n  var _opsWhere = require(_dependencyMap[11], \"../ops/where\");\n  var _opsZeros_like = require(_dependencyMap[12], \"../ops/zeros_like\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const powGradConfig = {\n    kernelName: _kernel_names.Pow,\n    inputsToSave: ['a', 'b'],\n    outputsToSave: [true],\n    gradFunc: (dy, saved) => {\n      const [a, b, y] = saved;\n      const base = a;\n      const exp = b;\n      const outShape = broadcast_util.assertAndGetBroadcastShape(base.shape, exp.shape);\n      const derBase = () => {\n        const expFloat = (0, _opsCast.cast)(exp, 'float32');\n        let res = (0, _opsMul.mul)(dy, (0, _opsMul.mul)(expFloat, (0, _opsPow.pow)(base, (0, _opsSub.sub)(expFloat, (0, _opsScalar.scalar)(1)))));\n        const reduceAxes = broadcast_util.getReductionAxes(base.shape, outShape);\n        if (reduceAxes.length > 0) {\n          res = (0, _opsSum.sum)(res, reduceAxes);\n        }\n        return (0, _opsReshape.reshape)(res, base.shape);\n      };\n      const derExp = () => {\n        const condition = (0, _opsGreater.greater)(base, 0);\n        const logBase = (0, _opsWhere.where)(condition, (0, _opsLog.log)(base), (0, _opsZeros_like.zerosLike)(base));\n        let res = (0, _opsMul.mul)(dy, (0, _opsMul.mul)(y, logBase));\n        const reduceAxes = broadcast_util.getReductionAxes(exp.shape, outShape);\n        if (reduceAxes.length > 0) {\n          res = (0, _opsSum.sum)(res, reduceAxes);\n        }\n        return (0, _opsReshape.reshape)(res, exp.shape);\n      };\n      return {\n        a: derBase,\n        b: derExp\n      };\n    }\n  };\n});","lineCount":93,"map":[[22,2,30,0,"Object"],[22,8,30,0],[22,9,30,0,"defineProperty"],[22,23,30,0],[22,24,30,0,"exports"],[22,31,30,0],[23,4,30,0,"enumerable"],[23,14,30,0],[24,4,30,0,"get"],[24,7,30,0],[24,18,30,0,"get"],[24,19,30,0],[25,6,30,0],[25,13,30,0,"powGradConfig"],[25,26,30,0],[26,4,30,0],[27,2,30,0],[28,2,17,0],[28,6,17,0,"_kernel_names"],[28,19,17,0],[28,22,17,0,"require"],[28,29,17,0],[28,30,17,0,"_dependencyMap"],[28,44,17,0],[29,2,18,0],[29,6,18,0,"_opsBroadcast_util"],[29,24,18,0],[29,27,18,0,"require"],[29,34,18,0],[29,35,18,0,"_dependencyMap"],[29,49,18,0],[30,2,18,0],[30,6,18,0,"broadcast_util"],[30,20,18,0],[30,23,18,0,"_interopNamespace"],[30,40,18,0],[30,41,18,0,"_opsBroadcast_util"],[30,59,18,0],[31,2,19,0],[31,6,19,0,"_opsCast"],[31,14,19,0],[31,17,19,0,"require"],[31,24,19,0],[31,25,19,0,"_dependencyMap"],[31,39,19,0],[32,2,20,0],[32,6,20,0,"_opsGreater"],[32,17,20,0],[32,20,20,0,"require"],[32,27,20,0],[32,28,20,0,"_dependencyMap"],[32,42,20,0],[33,2,21,0],[33,6,21,0,"_opsLog"],[33,13,21,0],[33,16,21,0,"require"],[33,23,21,0],[33,24,21,0,"_dependencyMap"],[33,38,21,0],[34,2,22,0],[34,6,22,0,"_opsMul"],[34,13,22,0],[34,16,22,0,"require"],[34,23,22,0],[34,24,22,0,"_dependencyMap"],[34,38,22,0],[35,2,23,0],[35,6,23,0,"_opsPow"],[35,13,23,0],[35,16,23,0,"require"],[35,23,23,0],[35,24,23,0,"_dependencyMap"],[35,38,23,0],[36,2,24,0],[36,6,24,0,"_opsReshape"],[36,17,24,0],[36,20,24,0,"require"],[36,27,24,0],[36,28,24,0,"_dependencyMap"],[36,42,24,0],[37,2,25,0],[37,6,25,0,"_opsScalar"],[37,16,25,0],[37,19,25,0,"require"],[37,26,25,0],[37,27,25,0,"_dependencyMap"],[37,41,25,0],[38,2,26,0],[38,6,26,0,"_opsSub"],[38,13,26,0],[38,16,26,0,"require"],[38,23,26,0],[38,24,26,0,"_dependencyMap"],[38,38,26,0],[39,2,27,0],[39,6,27,0,"_opsSum"],[39,13,27,0],[39,16,27,0,"require"],[39,23,27,0],[39,24,27,0,"_dependencyMap"],[39,38,27,0],[40,2,28,0],[40,6,28,0,"_opsWhere"],[40,15,28,0],[40,18,28,0,"require"],[40,25,28,0],[40,26,28,0,"_dependencyMap"],[40,40,28,0],[41,2,29,0],[41,6,29,0,"_opsZeros_like"],[41,20,29,0],[41,23,29,0,"require"],[41,30,29,0],[41,31,29,0,"_dependencyMap"],[41,45,29,0],[42,2,1,0],[43,0,2,0],[44,0,3,0],[45,0,4,0],[46,0,5,0],[47,0,6,0],[48,0,7,0],[49,0,8,0],[50,0,9,0],[51,0,10,0],[52,0,11,0],[53,0,12,0],[54,0,13,0],[55,0,14,0],[56,0,15,0],[57,0,16,0],[59,2,30,7],[59,8,30,13,"powGradConfig"],[59,21,30,26],[59,24,30,29],[60,4,31,4,"kernelName"],[60,14,31,14],[60,16,31,16,"Pow"],[60,29,31,19],[60,30,31,19,"Pow"],[60,33,31,19],[61,4,32,4,"inputsToSave"],[61,16,32,16],[61,18,32,18],[61,19,32,19],[61,22,32,22],[61,24,32,24],[61,27,32,27],[61,28,32,28],[62,4,33,4,"outputsToSave"],[62,17,33,17],[62,19,33,19],[62,20,33,20],[62,24,33,24],[62,25,33,25],[63,4,34,4,"gradFunc"],[63,12,34,12],[63,14,34,14,"gradFunc"],[63,15,34,15,"dy"],[63,17,34,17],[63,19,34,19,"saved"],[63,24,34,24],[63,29,34,29],[64,6,35,8],[64,12,35,14],[64,13,35,15,"a"],[64,14,35,16],[64,16,35,18,"b"],[64,17,35,19],[64,19,35,21,"y"],[64,20,35,22],[64,21,35,23],[64,24,35,26,"saved"],[64,29,35,31],[65,6,36,8],[65,12,36,14,"base"],[65,16,36,18],[65,19,36,21,"a"],[65,20,36,22],[66,6,37,8],[66,12,37,14,"exp"],[66,15,37,17],[66,18,37,20,"b"],[66,19,37,21],[67,6,38,8],[67,12,38,14,"outShape"],[67,20,38,22],[67,23,38,25,"broadcast_util"],[67,37,38,39],[67,38,38,40,"assertAndGetBroadcastShape"],[67,64,38,66],[67,65,38,67,"base"],[67,69,38,71],[67,70,38,72,"shape"],[67,75,38,77],[67,77,38,79,"exp"],[67,80,38,82],[67,81,38,83,"shape"],[67,86,38,88],[67,87,38,89],[68,6,39,8],[68,12,39,14,"derBase"],[68,19,39,21],[68,22,39,24,"derBase"],[68,23,39,24],[68,28,39,30],[69,8,40,12],[69,14,40,18,"expFloat"],[69,22,40,26],[69,25,40,29],[69,29,40,29,"cast"],[69,37,40,33],[69,38,40,33,"cast"],[69,42,40,33],[69,44,40,34,"exp"],[69,47,40,37],[69,49,40,39],[69,58,40,48],[69,59,40,49],[70,8,41,12],[70,12,41,16,"res"],[70,15,41,19],[70,18,41,22],[70,22,41,22,"mul"],[70,29,41,25],[70,30,41,25,"mul"],[70,33,41,25],[70,35,41,26,"dy"],[70,37,41,28],[70,39,41,30],[70,43,41,30,"mul"],[70,50,41,33],[70,51,41,33,"mul"],[70,54,41,33],[70,56,41,34,"expFloat"],[70,64,41,42],[70,66,41,44],[70,70,41,44,"pow"],[70,77,41,47],[70,78,41,47,"pow"],[70,81,41,47],[70,83,41,48,"base"],[70,87,41,52],[70,89,41,54],[70,93,41,54,"sub"],[70,100,41,57],[70,101,41,57,"sub"],[70,104,41,57],[70,106,41,58,"expFloat"],[70,114,41,66],[70,116,41,68],[70,120,41,68,"scalar"],[70,130,41,74],[70,131,41,74,"scalar"],[70,137,41,74],[70,139,41,75],[70,140,41,76],[70,141,41,77],[70,142,41,78],[70,143,41,79],[70,144,41,80],[70,145,41,81],[71,8,42,12],[71,14,42,18,"reduceAxes"],[71,24,42,28],[71,27,42,31,"broadcast_util"],[71,41,42,45],[71,42,42,46,"getReductionAxes"],[71,58,42,62],[71,59,42,63,"base"],[71,63,42,67],[71,64,42,68,"shape"],[71,69,42,73],[71,71,42,75,"outShape"],[71,79,42,83],[71,80,42,84],[72,8,43,12],[72,12,43,16,"reduceAxes"],[72,22,43,26],[72,23,43,27,"length"],[72,29,43,33],[72,32,43,36],[72,33,43,37],[72,35,43,39],[73,10,44,16,"res"],[73,13,44,19],[73,16,44,22],[73,20,44,22,"sum"],[73,27,44,25],[73,28,44,25,"sum"],[73,31,44,25],[73,33,44,26,"res"],[73,36,44,29],[73,38,44,31,"reduceAxes"],[73,48,44,41],[73,49,44,42],[74,8,45,12],[75,8,46,12],[75,15,46,19],[75,19,46,19,"reshape"],[75,30,46,26],[75,31,46,26,"reshape"],[75,38,46,26],[75,40,46,27,"res"],[75,43,46,30],[75,45,46,32,"base"],[75,49,46,36],[75,50,46,37,"shape"],[75,55,46,42],[75,56,46,43],[76,6,47,8],[76,7,47,9],[77,6,48,8],[77,12,48,14,"derExp"],[77,18,48,20],[77,21,48,23,"derExp"],[77,22,48,23],[77,27,48,29],[78,8,49,12],[78,14,49,18,"condition"],[78,23,49,27],[78,26,49,30],[78,30,49,30,"greater"],[78,41,49,37],[78,42,49,37,"greater"],[78,49,49,37],[78,51,49,38,"base"],[78,55,49,42],[78,57,49,44],[78,58,49,45],[78,59,49,46],[79,8,50,12],[79,14,50,18,"logBase"],[79,21,50,25],[79,24,50,28],[79,28,50,28,"where"],[79,37,50,33],[79,38,50,33,"where"],[79,43,50,33],[79,45,50,34,"condition"],[79,54,50,43],[79,56,50,45],[79,60,50,45,"log"],[79,67,50,48],[79,68,50,48,"log"],[79,71,50,48],[79,73,50,49,"base"],[79,77,50,53],[79,78,50,54],[79,80,50,56],[79,84,50,56,"zerosLike"],[79,98,50,65],[79,99,50,65,"zerosLike"],[79,108,50,65],[79,110,50,66,"base"],[79,114,50,70],[79,115,50,71],[79,116,50,72],[80,8,51,12],[80,12,51,16,"res"],[80,15,51,19],[80,18,51,22],[80,22,51,22,"mul"],[80,29,51,25],[80,30,51,25,"mul"],[80,33,51,25],[80,35,51,26,"dy"],[80,37,51,28],[80,39,51,30],[80,43,51,30,"mul"],[80,50,51,33],[80,51,51,33,"mul"],[80,54,51,33],[80,56,51,34,"y"],[80,57,51,35],[80,59,51,37,"logBase"],[80,66,51,44],[80,67,51,45],[80,68,51,46],[81,8,52,12],[81,14,52,18,"reduceAxes"],[81,24,52,28],[81,27,52,31,"broadcast_util"],[81,41,52,45],[81,42,52,46,"getReductionAxes"],[81,58,52,62],[81,59,52,63,"exp"],[81,62,52,66],[81,63,52,67,"shape"],[81,68,52,72],[81,70,52,74,"outShape"],[81,78,52,82],[81,79,52,83],[82,8,53,12],[82,12,53,16,"reduceAxes"],[82,22,53,26],[82,23,53,27,"length"],[82,29,53,33],[82,32,53,36],[82,33,53,37],[82,35,53,39],[83,10,54,16,"res"],[83,13,54,19],[83,16,54,22],[83,20,54,22,"sum"],[83,27,54,25],[83,28,54,25,"sum"],[83,31,54,25],[83,33,54,26,"res"],[83,36,54,29],[83,38,54,31,"reduceAxes"],[83,48,54,41],[83,49,54,42],[84,8,55,12],[85,8,56,12],[85,15,56,19],[85,19,56,19,"reshape"],[85,30,56,26],[85,31,56,26,"reshape"],[85,38,56,26],[85,40,56,27,"res"],[85,43,56,30],[85,45,56,32,"exp"],[85,48,56,35],[85,49,56,36,"shape"],[85,54,56,41],[85,55,56,42],[86,6,57,8],[86,7,57,9],[87,6,58,8],[87,13,58,15],[88,8,58,17,"a"],[88,9,58,18],[88,11,58,20,"derBase"],[88,18,58,27],[89,8,58,29,"b"],[89,9,58,30],[89,11,58,32,"derExp"],[90,6,58,39],[90,7,58,40],[91,4,59,4],[92,2,60,0],[92,3,60,1],[93,0,60,2],[93,3]],"functionMap":{"names":["<global>","powGradConfig.gradFunc","derBase","derExp"],"mappings":"AAA;cCiC;wBCK;SDQ;uBEC;SFS;KDE"},"hasCjsExports":false},"type":"js/module"}]}