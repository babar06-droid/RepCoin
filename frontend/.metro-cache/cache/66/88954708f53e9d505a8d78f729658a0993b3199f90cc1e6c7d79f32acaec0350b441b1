{"dependencies":[{"name":"../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":53,"index":756}}],"key":"UCKDOr/oOGi3nbD26ZhyAVW61qk=","exportNames":["*"],"imports":1}},{"name":"../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":757},"end":{"line":18,"column":32,"index":789}}],"key":"DTmef1GE5grNQfsvpIzpBlINy9c=","exportNames":["*"],"imports":1}},{"name":"./mat_mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":790},"end":{"line":19,"column":35,"index":825}}],"key":"wdukLONs1EZSLKt1nm4/GD4OfGk=","exportNames":["*"],"imports":1}},{"name":"./operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":826},"end":{"line":20,"column":33,"index":859}}],"key":"lmmEAb6oR3TWnrsrETceKUovfkM=","exportNames":["*"],"imports":1}},{"name":"./reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":860},"end":{"line":21,"column":36,"index":896}}],"key":"dz8GCsFShMGnHX1Wj7bBySjBnSE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"dot\", {\n    enumerable: true,\n    get: function () {\n      return dot;\n    }\n  });\n  var _tensor_util_env = require(_dependencyMap[0], \"../tensor_util_env\");\n  var _util = require(_dependencyMap[1], \"../util\");\n  var util = _interopNamespace(_util);\n  var _mat_mul = require(_dependencyMap[2], \"./mat_mul\");\n  var _operation = require(_dependencyMap[3], \"./operation\");\n  var _reshape = require(_dependencyMap[4], \"./reshape\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Computes the dot product of two matrices and/or vectors, `t1` and `t2`.\n   *\n   * ```js\n   * const a = tf.tensor1d([1, 2]);\n   * const b = tf.tensor2d([[1, 2], [3, 4]]);\n   * const c = tf.tensor2d([[1, 2, 3], [4, 5, 6]]);\n   *\n   * a.dot(b).print();  // or tf.dot(a, b)\n   * b.dot(a).print();\n   * b.dot(c).print();\n   * ```\n   * @param t1 The first tensor in the dot operation.\n   * @param t2 The second tensor in the dot operation.\n   *\n   * @doc {heading: 'Operations', subheading: 'Matrices'}\n   */\n  function dot_(t1, t2) {\n    const $t1 = (0, _tensor_util_env.convertToTensor)(t1, 't1', 'dot');\n    const $t2 = (0, _tensor_util_env.convertToTensor)(t2, 't2', 'dot');\n    util.assert(($t1.rank === 1 || $t1.rank === 2) && ($t2.rank === 1 || $t2.rank === 2), () => `Error in dot: inputs must all be rank 1 or 2, but got ranks ` + `${$t1.rank} and ${$t2.rank}.`);\n    const t1Inner = $t1.rank === 1 ? $t1.size : $t1.shape[1];\n    const t2Inner = $t2.rank === 1 ? $t2.size : $t2.shape[0];\n    util.assert(t1Inner === t2Inner, () => `Error in dot: inner dimensions of inputs must match, but got ` + `${t1Inner} and ${t2Inner}.`);\n    if ($t1.rank === 1 && $t2.rank === 1) {\n      const t12D = (0, _reshape.reshape)($t1, [1, -1]);\n      const t22D = (0, _reshape.reshape)($t2, [-1, 1]);\n      const t1t2 = (0, _mat_mul.matMul)(t12D, t22D);\n      return (0, _reshape.reshape)(t1t2, []);\n    } else if ($t1.rank === 1 && $t2.rank === 2) {\n      const t12D = (0, _reshape.reshape)($t1, [1, -1]);\n      const t22D = (0, _reshape.reshape)($t2, [$t2.shape[0], $t2.shape[1]]);\n      const t1t2 = (0, _mat_mul.matMul)(t12D, t22D);\n      return (0, _reshape.reshape)(t1t2, [t1t2.size]);\n    } else if ($t1.rank === 2 && $t2.rank === 1) {\n      const t22D = (0, _reshape.reshape)($t2, [-1, 1]);\n      const t1t2 = (0, _mat_mul.matMul)($t1, t22D);\n      return (0, _reshape.reshape)(t1t2, [t1t2.size]);\n    } else {\n      const t22D = (0, _reshape.reshape)($t2, [$t2.shape[0], $t2.shape[1]]);\n      const t1t2 = (0, _mat_mul.matMul)($t1, t22D);\n      return t1t2;\n    }\n  }\n  const dot = /* @__PURE__ */(0, _operation.op)({\n    dot_\n  });\n});","lineCount":98,"map":[[22,2,71,0,"Object"],[22,8,71,0],[22,9,71,0,"defineProperty"],[22,23,71,0],[22,24,71,0,"exports"],[22,31,71,0],[23,4,71,0,"enumerable"],[23,14,71,0],[24,4,71,0,"get"],[24,7,71,0],[24,18,71,0,"get"],[24,19,71,0],[25,6,71,0],[25,13,71,0,"dot"],[25,16,71,0],[26,4,71,0],[27,2,71,0],[28,2,17,0],[28,6,17,0,"_tensor_util_env"],[28,22,17,0],[28,25,17,0,"require"],[28,32,17,0],[28,33,17,0,"_dependencyMap"],[28,47,17,0],[29,2,18,0],[29,6,18,0,"_util"],[29,11,18,0],[29,14,18,0,"require"],[29,21,18,0],[29,22,18,0,"_dependencyMap"],[29,36,18,0],[30,2,18,0],[30,6,18,0,"util"],[30,10,18,0],[30,13,18,0,"_interopNamespace"],[30,30,18,0],[30,31,18,0,"_util"],[30,36,18,0],[31,2,19,0],[31,6,19,0,"_mat_mul"],[31,14,19,0],[31,17,19,0,"require"],[31,24,19,0],[31,25,19,0,"_dependencyMap"],[31,39,19,0],[32,2,20,0],[32,6,20,0,"_operation"],[32,16,20,0],[32,19,20,0,"require"],[32,26,20,0],[32,27,20,0,"_dependencyMap"],[32,41,20,0],[33,2,21,0],[33,6,21,0,"_reshape"],[33,14,21,0],[33,17,21,0,"require"],[33,24,21,0],[33,25,21,0,"_dependencyMap"],[33,39,21,0],[34,2,1,0],[35,0,2,0],[36,0,3,0],[37,0,4,0],[38,0,5,0],[39,0,6,0],[40,0,7,0],[41,0,8,0],[42,0,9,0],[43,0,10,0],[44,0,11,0],[45,0,12,0],[46,0,13,0],[47,0,14,0],[48,0,15,0],[49,0,16,0],[51,2,22,0],[52,0,23,0],[53,0,24,0],[54,0,25,0],[55,0,26,0],[56,0,27,0],[57,0,28,0],[58,0,29,0],[59,0,30,0],[60,0,31,0],[61,0,32,0],[62,0,33,0],[63,0,34,0],[64,0,35,0],[65,0,36,0],[66,0,37,0],[67,0,38,0],[68,2,39,0],[68,11,39,9,"dot_"],[68,15,39,13,"dot_"],[68,16,39,14,"t1"],[68,18,39,16],[68,20,39,18,"t2"],[68,22,39,20],[68,24,39,22],[69,4,40,4],[69,10,40,10,"$t1"],[69,13,40,13],[69,16,40,16],[69,20,40,16,"convertToTensor"],[69,36,40,31],[69,37,40,31,"convertToTensor"],[69,52,40,31],[69,54,40,32,"t1"],[69,56,40,34],[69,58,40,36],[69,62,40,40],[69,64,40,42],[69,69,40,47],[69,70,40,48],[70,4,41,4],[70,10,41,10,"$t2"],[70,13,41,13],[70,16,41,16],[70,20,41,16,"convertToTensor"],[70,36,41,31],[70,37,41,31,"convertToTensor"],[70,52,41,31],[70,54,41,32,"t2"],[70,56,41,34],[70,58,41,36],[70,62,41,40],[70,64,41,42],[70,69,41,47],[70,70,41,48],[71,4,42,4,"util"],[71,8,42,8],[71,9,42,9,"assert"],[71,15,42,15],[71,16,42,16],[71,17,42,17,"$t1"],[71,20,42,20],[71,21,42,21,"rank"],[71,25,42,25],[71,30,42,30],[71,31,42,31],[71,35,42,35,"$t1"],[71,38,42,38],[71,39,42,39,"rank"],[71,43,42,43],[71,48,42,48],[71,49,42,49],[71,55,42,55,"$t2"],[71,58,42,58],[71,59,42,59,"rank"],[71,63,42,63],[71,68,42,68],[71,69,42,69],[71,73,42,73,"$t2"],[71,76,42,76],[71,77,42,77,"rank"],[71,81,42,81],[71,86,42,86],[71,87,42,87],[71,88,42,88],[71,90,42,90],[71,96,42,96],[71,158,42,158],[71,161,43,8],[71,164,43,11,"$t1"],[71,167,43,14],[71,168,43,15,"rank"],[71,172,43,19],[71,180,43,27,"$t2"],[71,183,43,30],[71,184,43,31,"rank"],[71,188,43,35],[71,191,43,38],[71,192,43,39],[72,4,44,4],[72,10,44,10,"t1Inner"],[72,17,44,17],[72,20,44,21,"$t1"],[72,23,44,24],[72,24,44,25,"rank"],[72,28,44,29],[72,33,44,34],[72,34,44,35],[72,37,44,38,"$t1"],[72,40,44,41],[72,41,44,42,"size"],[72,45,44,46],[72,48,44,49,"$t1"],[72,51,44,52],[72,52,44,53,"shape"],[72,57,44,58],[72,58,44,59],[72,59,44,60],[72,60,44,62],[73,4,45,4],[73,10,45,10,"t2Inner"],[73,17,45,17],[73,20,45,21,"$t2"],[73,23,45,24],[73,24,45,25,"rank"],[73,28,45,29],[73,33,45,34],[73,34,45,35],[73,37,45,38,"$t2"],[73,40,45,41],[73,41,45,42,"size"],[73,45,45,46],[73,48,45,49,"$t2"],[73,51,45,52],[73,52,45,53,"shape"],[73,57,45,58],[73,58,45,59],[73,59,45,60],[73,60,45,62],[74,4,46,4,"util"],[74,8,46,8],[74,9,46,9,"assert"],[74,15,46,15],[74,16,46,16,"t1Inner"],[74,23,46,23],[74,28,46,28,"t2Inner"],[74,35,46,35],[74,37,46,37],[74,43,46,43],[74,106,46,106],[74,109,47,8],[74,112,47,11,"t1Inner"],[74,119,47,18],[74,127,47,26,"t2Inner"],[74,134,47,33],[74,137,47,36],[74,138,47,37],[75,4,48,4],[75,8,48,8,"$t1"],[75,11,48,11],[75,12,48,12,"rank"],[75,16,48,16],[75,21,48,21],[75,22,48,22],[75,26,48,26,"$t2"],[75,29,48,29],[75,30,48,30,"rank"],[75,34,48,34],[75,39,48,39],[75,40,48,40],[75,42,48,42],[76,6,49,8],[76,12,49,14,"t12D"],[76,16,49,18],[76,19,49,21],[76,23,49,21,"reshape"],[76,31,49,28],[76,32,49,28,"reshape"],[76,39,49,28],[76,41,49,29,"$t1"],[76,44,49,32],[76,46,49,34],[76,47,49,35],[76,48,49,36],[76,50,49,38],[76,51,49,39],[76,52,49,40],[76,53,49,41],[76,54,49,42],[77,6,50,8],[77,12,50,14,"t22D"],[77,16,50,18],[77,19,50,21],[77,23,50,21,"reshape"],[77,31,50,28],[77,32,50,28,"reshape"],[77,39,50,28],[77,41,50,29,"$t2"],[77,44,50,32],[77,46,50,34],[77,47,50,35],[77,48,50,36],[77,49,50,37],[77,51,50,39],[77,52,50,40],[77,53,50,41],[77,54,50,42],[78,6,51,8],[78,12,51,14,"t1t2"],[78,16,51,18],[78,19,51,21],[78,23,51,21,"matMul"],[78,31,51,27],[78,32,51,27,"matMul"],[78,38,51,27],[78,40,51,28,"t12D"],[78,44,51,32],[78,46,51,34,"t22D"],[78,50,51,38],[78,51,51,39],[79,6,52,8],[79,13,52,15],[79,17,52,15,"reshape"],[79,25,52,22],[79,26,52,22,"reshape"],[79,33,52,22],[79,35,52,23,"t1t2"],[79,39,52,27],[79,41,52,29],[79,43,52,31],[79,44,52,32],[80,4,53,4],[80,5,53,5],[80,11,54,9],[80,15,54,13,"$t1"],[80,18,54,16],[80,19,54,17,"rank"],[80,23,54,21],[80,28,54,26],[80,29,54,27],[80,33,54,31,"$t2"],[80,36,54,34],[80,37,54,35,"rank"],[80,41,54,39],[80,46,54,44],[80,47,54,45],[80,49,54,47],[81,6,55,8],[81,12,55,14,"t12D"],[81,16,55,18],[81,19,55,21],[81,23,55,21,"reshape"],[81,31,55,28],[81,32,55,28,"reshape"],[81,39,55,28],[81,41,55,29,"$t1"],[81,44,55,32],[81,46,55,34],[81,47,55,35],[81,48,55,36],[81,50,55,38],[81,51,55,39],[81,52,55,40],[81,53,55,41],[81,54,55,42],[82,6,56,8],[82,12,56,14,"t22D"],[82,16,56,18],[82,19,56,21],[82,23,56,21,"reshape"],[82,31,56,28],[82,32,56,28,"reshape"],[82,39,56,28],[82,41,56,29,"$t2"],[82,44,56,32],[82,46,56,34],[82,47,56,35,"$t2"],[82,50,56,38],[82,51,56,39,"shape"],[82,56,56,44],[82,57,56,45],[82,58,56,46],[82,59,56,47],[82,61,56,49,"$t2"],[82,64,56,52],[82,65,56,53,"shape"],[82,70,56,58],[82,71,56,59],[82,72,56,60],[82,73,56,61],[82,74,56,62],[82,75,56,63],[83,6,57,8],[83,12,57,14,"t1t2"],[83,16,57,18],[83,19,57,21],[83,23,57,21,"matMul"],[83,31,57,27],[83,32,57,27,"matMul"],[83,38,57,27],[83,40,57,28,"t12D"],[83,44,57,32],[83,46,57,34,"t22D"],[83,50,57,38],[83,51,57,39],[84,6,58,8],[84,13,58,15],[84,17,58,15,"reshape"],[84,25,58,22],[84,26,58,22,"reshape"],[84,33,58,22],[84,35,58,23,"t1t2"],[84,39,58,27],[84,41,58,29],[84,42,58,30,"t1t2"],[84,46,58,34],[84,47,58,35,"size"],[84,51,58,39],[84,52,58,40],[84,53,58,41],[85,4,59,4],[85,5,59,5],[85,11,60,9],[85,15,60,13,"$t1"],[85,18,60,16],[85,19,60,17,"rank"],[85,23,60,21],[85,28,60,26],[85,29,60,27],[85,33,60,31,"$t2"],[85,36,60,34],[85,37,60,35,"rank"],[85,41,60,39],[85,46,60,44],[85,47,60,45],[85,49,60,47],[86,6,61,8],[86,12,61,14,"t22D"],[86,16,61,18],[86,19,61,21],[86,23,61,21,"reshape"],[86,31,61,28],[86,32,61,28,"reshape"],[86,39,61,28],[86,41,61,29,"$t2"],[86,44,61,32],[86,46,61,34],[86,47,61,35],[86,48,61,36],[86,49,61,37],[86,51,61,39],[86,52,61,40],[86,53,61,41],[86,54,61,42],[87,6,62,8],[87,12,62,14,"t1t2"],[87,16,62,18],[87,19,62,21],[87,23,62,21,"matMul"],[87,31,62,27],[87,32,62,27,"matMul"],[87,38,62,27],[87,40,62,28,"$t1"],[87,43,62,31],[87,45,62,33,"t22D"],[87,49,62,37],[87,50,62,38],[88,6,63,8],[88,13,63,15],[88,17,63,15,"reshape"],[88,25,63,22],[88,26,63,22,"reshape"],[88,33,63,22],[88,35,63,23,"t1t2"],[88,39,63,27],[88,41,63,29],[88,42,63,30,"t1t2"],[88,46,63,34],[88,47,63,35,"size"],[88,51,63,39],[88,52,63,40],[88,53,63,41],[89,4,64,4],[89,5,64,5],[89,11,65,9],[90,6,66,8],[90,12,66,14,"t22D"],[90,16,66,18],[90,19,66,21],[90,23,66,21,"reshape"],[90,31,66,28],[90,32,66,28,"reshape"],[90,39,66,28],[90,41,66,29,"$t2"],[90,44,66,32],[90,46,66,34],[90,47,66,35,"$t2"],[90,50,66,38],[90,51,66,39,"shape"],[90,56,66,44],[90,57,66,45],[90,58,66,46],[90,59,66,47],[90,61,66,49,"$t2"],[90,64,66,52],[90,65,66,53,"shape"],[90,70,66,58],[90,71,66,59],[90,72,66,60],[90,73,66,61],[90,74,66,62],[90,75,66,63],[91,6,67,8],[91,12,67,14,"t1t2"],[91,16,67,18],[91,19,67,21],[91,23,67,21,"matMul"],[91,31,67,27],[91,32,67,27,"matMul"],[91,38,67,27],[91,40,67,28,"$t1"],[91,43,67,31],[91,45,67,33,"t22D"],[91,49,67,37],[91,50,67,38],[92,6,68,8],[92,13,68,15,"t1t2"],[92,17,68,19],[93,4,69,4],[94,2,70,0],[95,2,71,7],[95,8,71,13,"dot"],[95,11,71,16],[95,14,71,19],[95,29,71,35],[95,33,71,35,"op"],[95,43,71,37],[95,44,71,37,"op"],[95,46,71,37],[95,48,71,38],[96,4,71,40,"dot_"],[97,2,71,45],[97,3,71,46],[97,4,71,47],[98,0,71,48],[98,3]],"functionMap":{"names":["<global>","dot_","util.assert$argument_1"],"mappings":"AAA;ACsC;0FCG;sCDC;qCCG;oCDC;CDuB"},"hasCjsExports":false},"type":"js/module"}]}