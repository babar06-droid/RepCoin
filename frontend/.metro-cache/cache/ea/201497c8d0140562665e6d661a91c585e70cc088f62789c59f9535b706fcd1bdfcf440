{"dependencies":[{"name":"../../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":36,"index":739}}],"key":"OiLVMoS12Mp3xgHkQeTdnQIBX6Q=","exportNames":["*"],"imports":1}},{"name":"../complex","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":740},"end":{"line":18,"column":37,"index":777}}],"key":"mLYlivmOmk7bKZpyMobVbHCsTSs=","exportNames":["*"],"imports":1}},{"name":"../concat","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":778},"end":{"line":19,"column":35,"index":813}}],"key":"8dmOhxFyQCGQuh9RMUI5wgNlKFE=","exportNames":["*"],"imports":1}},{"name":"../imag","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":814},"end":{"line":20,"column":31,"index":845}}],"key":"MeyNJinw1gUiEP1vzhJjFyL/M+s=","exportNames":["*"],"imports":1}},{"name":"../operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":846},"end":{"line":21,"column":34,"index":880}}],"key":"fQilPqfSvhAHjyfKT0P4wel7jE4=","exportNames":["*"],"imports":1}},{"name":"../real","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":881},"end":{"line":22,"column":31,"index":912}}],"key":"v/cbYQII/TETiHBQtFbDQAbjQVw=","exportNames":["*"],"imports":1}},{"name":"../reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":913},"end":{"line":23,"column":37,"index":950}}],"key":"88jbakDJZT9IhaURceTSW5G0Dno=","exportNames":["*"],"imports":1}},{"name":"../slice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":951},"end":{"line":24,"column":33,"index":984}}],"key":"TS++/8q56H75VV2Ys/hdCARp41c=","exportNames":["*"],"imports":1}},{"name":"../split","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":985},"end":{"line":25,"column":33,"index":1018}}],"key":"Gh7trP/VKKW06k8CNRvoesiz1lY=","exportNames":["*"],"imports":1}},{"name":"../zeros","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":26,"column":0,"index":1019},"end":{"line":26,"column":33,"index":1052}}],"key":"+LDIiBOGknvGmfNT6+MRCfY3HBg=","exportNames":["*"],"imports":1}},{"name":"../zeros_like","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":27,"column":0,"index":1053},"end":{"line":27,"column":42,"index":1095}}],"key":"2KxD87+J2LEiOxOsI3XeK70xrdg=","exportNames":["*"],"imports":1}},{"name":"./fft","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":28,"column":0,"index":1096},"end":{"line":28,"column":28,"index":1124}}],"key":"u8yXJgjNXCSW+NGOAzaAi+3JapM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"rfft\", {\n    enumerable: true,\n    get: function () {\n      return rfft;\n    }\n  });\n  var _util = require(_dependencyMap[0], \"../../util\");\n  var _complex = require(_dependencyMap[1], \"../complex\");\n  var _concat = require(_dependencyMap[2], \"../concat\");\n  var _imag = require(_dependencyMap[3], \"../imag\");\n  var _operation = require(_dependencyMap[4], \"../operation\");\n  var _real = require(_dependencyMap[5], \"../real\");\n  var _reshape = require(_dependencyMap[6], \"../reshape\");\n  var _slice = require(_dependencyMap[7], \"../slice\");\n  var _split = require(_dependencyMap[8], \"../split\");\n  var _zeros = require(_dependencyMap[9], \"../zeros\");\n  var _zeros_like = require(_dependencyMap[10], \"../zeros_like\");\n  var _fft = require(_dependencyMap[11], \"./fft\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Real value input fast Fourier transform.\n   *\n   * Computes the 1-dimensional discrete Fourier transform over the\n   * inner-most dimension of the real input.\n   *\n   * ```js\n   * const real = tf.tensor1d([1, 2, 3]);\n   *\n   * real.rfft().print();\n   * ```\n   * @param input The real value input to compute an rfft over.\n   *\n   * @doc {heading: 'Operations', subheading: 'Spectral', namespace: 'spectral'}\n   */\n  function rfft_(input, fftLength) {\n    (0, _util.assert)(input.dtype === 'float32', () => `The dtype for rfft() must be real value but got ${input.dtype}`);\n    let innerDimensionSize = input.shape[input.shape.length - 1];\n    const batch = input.size / innerDimensionSize;\n    let adjustedInput;\n    if (fftLength != null && fftLength < innerDimensionSize) {\n      // Need to crop\n      const begin = input.shape.map(v => 0);\n      const size = input.shape.map(v => v);\n      size[input.shape.length - 1] = fftLength;\n      adjustedInput = (0, _slice.slice)(input, begin, size);\n      innerDimensionSize = fftLength;\n    } else if (fftLength != null && fftLength > innerDimensionSize) {\n      // Need to pad with zeros\n      const zerosShape = input.shape.map(v => v);\n      zerosShape[input.shape.length - 1] = fftLength - innerDimensionSize;\n      adjustedInput = (0, _concat.concat)([input, (0, _zeros.zeros)(zerosShape)], input.shape.length - 1);\n      innerDimensionSize = fftLength;\n    } else {\n      adjustedInput = input;\n    }\n    // Complement the input with zero imaginary numbers.\n    const zerosInput = (0, _zeros_like.zerosLike)(adjustedInput);\n    const complexInput = (0, _reshape.reshape)((0, _complex.complex)(adjustedInput, zerosInput), [batch, innerDimensionSize]);\n    const ret = (0, _fft.fft)(complexInput);\n    // Exclude complex conjugations. These conjugations are put symmetrically.\n    const half = Math.floor(innerDimensionSize / 2) + 1;\n    const realValues = (0, _real.real)(ret);\n    const imagValues = (0, _imag.imag)(ret);\n    const realComplexConjugate = (0, _split.split)(realValues, [half, innerDimensionSize - half], realValues.shape.length - 1);\n    const imagComplexConjugate = (0, _split.split)(imagValues, [half, innerDimensionSize - half], imagValues.shape.length - 1);\n    const outputShape = adjustedInput.shape.slice();\n    outputShape[adjustedInput.shape.length - 1] = half;\n    return (0, _reshape.reshape)((0, _complex.complex)(realComplexConjugate[0], imagComplexConjugate[0]), outputShape);\n  }\n  const rfft = /* @__PURE__ */(0, _operation.op)({\n    rfft_\n  });\n});","lineCount":95,"map":[[7,2,81,0,"Object"],[7,8,81,0],[7,9,81,0,"defineProperty"],[7,23,81,0],[7,24,81,0,"exports"],[7,31,81,0],[8,4,81,0,"enumerable"],[8,14,81,0],[9,4,81,0,"get"],[9,7,81,0],[9,18,81,0,"get"],[9,19,81,0],[10,6,81,0],[10,13,81,0,"rfft"],[10,17,81,0],[11,4,81,0],[12,2,81,0],[13,2,17,0],[13,6,17,0,"_util"],[13,11,17,0],[13,14,17,0,"require"],[13,21,17,0],[13,22,17,0,"_dependencyMap"],[13,36,17,0],[14,2,18,0],[14,6,18,0,"_complex"],[14,14,18,0],[14,17,18,0,"require"],[14,24,18,0],[14,25,18,0,"_dependencyMap"],[14,39,18,0],[15,2,19,0],[15,6,19,0,"_concat"],[15,13,19,0],[15,16,19,0,"require"],[15,23,19,0],[15,24,19,0,"_dependencyMap"],[15,38,19,0],[16,2,20,0],[16,6,20,0,"_imag"],[16,11,20,0],[16,14,20,0,"require"],[16,21,20,0],[16,22,20,0,"_dependencyMap"],[16,36,20,0],[17,2,21,0],[17,6,21,0,"_operation"],[17,16,21,0],[17,19,21,0,"require"],[17,26,21,0],[17,27,21,0,"_dependencyMap"],[17,41,21,0],[18,2,22,0],[18,6,22,0,"_real"],[18,11,22,0],[18,14,22,0,"require"],[18,21,22,0],[18,22,22,0,"_dependencyMap"],[18,36,22,0],[19,2,23,0],[19,6,23,0,"_reshape"],[19,14,23,0],[19,17,23,0,"require"],[19,24,23,0],[19,25,23,0,"_dependencyMap"],[19,39,23,0],[20,2,24,0],[20,6,24,0,"_slice"],[20,12,24,0],[20,15,24,0,"require"],[20,22,24,0],[20,23,24,0,"_dependencyMap"],[20,37,24,0],[21,2,25,0],[21,6,25,0,"_split"],[21,12,25,0],[21,15,25,0,"require"],[21,22,25,0],[21,23,25,0,"_dependencyMap"],[21,37,25,0],[22,2,26,0],[22,6,26,0,"_zeros"],[22,12,26,0],[22,15,26,0,"require"],[22,22,26,0],[22,23,26,0,"_dependencyMap"],[22,37,26,0],[23,2,27,0],[23,6,27,0,"_zeros_like"],[23,17,27,0],[23,20,27,0,"require"],[23,27,27,0],[23,28,27,0,"_dependencyMap"],[23,42,27,0],[24,2,28,0],[24,6,28,0,"_fft"],[24,10,28,0],[24,13,28,0,"require"],[24,20,28,0],[24,21,28,0,"_dependencyMap"],[24,35,28,0],[25,2,1,0],[26,0,2,0],[27,0,3,0],[28,0,4,0],[29,0,5,0],[30,0,6,0],[31,0,7,0],[32,0,8,0],[33,0,9,0],[34,0,10,0],[35,0,11,0],[36,0,12,0],[37,0,13,0],[38,0,14,0],[39,0,15,0],[40,0,16,0],[42,2,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,0,41,0],[55,0,42,0],[56,0,43,0],[57,2,44,0],[57,11,44,9,"rfft_"],[57,16,44,14,"rfft_"],[57,17,44,15,"input"],[57,22,44,20],[57,24,44,22,"fftLength"],[57,33,44,31],[57,35,44,33],[58,4,45,4],[58,8,45,4,"assert"],[58,13,45,10],[58,14,45,10,"assert"],[58,20,45,10],[58,22,45,11,"input"],[58,27,45,16],[58,28,45,17,"dtype"],[58,33,45,22],[58,38,45,27],[58,47,45,36],[58,49,45,38],[58,55,45,44],[58,106,45,95,"input"],[58,111,45,100],[58,112,45,101,"dtype"],[58,117,45,106],[58,119,45,108],[58,120,45,109],[59,4,46,4],[59,8,46,8,"innerDimensionSize"],[59,26,46,26],[59,29,46,29,"input"],[59,34,46,34],[59,35,46,35,"shape"],[59,40,46,40],[59,41,46,41,"input"],[59,46,46,46],[59,47,46,47,"shape"],[59,52,46,52],[59,53,46,53,"length"],[59,59,46,59],[59,62,46,62],[59,63,46,63],[59,64,46,64],[60,4,47,4],[60,10,47,10,"batch"],[60,15,47,15],[60,18,47,18,"input"],[60,23,47,23],[60,24,47,24,"size"],[60,28,47,28],[60,31,47,31,"innerDimensionSize"],[60,49,47,49],[61,4,48,4],[61,8,48,8,"adjustedInput"],[61,21,48,21],[62,4,49,4],[62,8,49,8,"fftLength"],[62,17,49,17],[62,21,49,21],[62,25,49,25],[62,29,49,29,"fftLength"],[62,38,49,38],[62,41,49,41,"innerDimensionSize"],[62,59,49,59],[62,61,49,61],[63,6,50,8],[64,6,51,8],[64,12,51,14,"begin"],[64,17,51,19],[64,20,51,22,"input"],[64,25,51,27],[64,26,51,28,"shape"],[64,31,51,33],[64,32,51,34,"map"],[64,35,51,37],[64,36,51,38,"v"],[64,37,51,39],[64,41,51,43],[64,42,51,44],[64,43,51,45],[65,6,52,8],[65,12,52,14,"size"],[65,16,52,18],[65,19,52,21,"input"],[65,24,52,26],[65,25,52,27,"shape"],[65,30,52,32],[65,31,52,33,"map"],[65,34,52,36],[65,35,52,37,"v"],[65,36,52,38],[65,40,52,42,"v"],[65,41,52,43],[65,42,52,44],[66,6,53,8,"size"],[66,10,53,12],[66,11,53,13,"input"],[66,16,53,18],[66,17,53,19,"shape"],[66,22,53,24],[66,23,53,25,"length"],[66,29,53,31],[66,32,53,34],[66,33,53,35],[66,34,53,36],[66,37,53,39,"fftLength"],[66,46,53,48],[67,6,54,8,"adjustedInput"],[67,19,54,21],[67,22,54,24],[67,26,54,24,"slice"],[67,32,54,29],[67,33,54,29,"slice"],[67,38,54,29],[67,40,54,30,"input"],[67,45,54,35],[67,47,54,37,"begin"],[67,52,54,42],[67,54,54,44,"size"],[67,58,54,48],[67,59,54,49],[68,6,55,8,"innerDimensionSize"],[68,24,55,26],[68,27,55,29,"fftLength"],[68,36,55,38],[69,4,56,4],[69,5,56,5],[69,11,57,9],[69,15,57,13,"fftLength"],[69,24,57,22],[69,28,57,26],[69,32,57,30],[69,36,57,34,"fftLength"],[69,45,57,43],[69,48,57,46,"innerDimensionSize"],[69,66,57,64],[69,68,57,66],[70,6,58,8],[71,6,59,8],[71,12,59,14,"zerosShape"],[71,22,59,24],[71,25,59,27,"input"],[71,30,59,32],[71,31,59,33,"shape"],[71,36,59,38],[71,37,59,39,"map"],[71,40,59,42],[71,41,59,43,"v"],[71,42,59,44],[71,46,59,48,"v"],[71,47,59,49],[71,48,59,50],[72,6,60,8,"zerosShape"],[72,16,60,18],[72,17,60,19,"input"],[72,22,60,24],[72,23,60,25,"shape"],[72,28,60,30],[72,29,60,31,"length"],[72,35,60,37],[72,38,60,40],[72,39,60,41],[72,40,60,42],[72,43,60,45,"fftLength"],[72,52,60,54],[72,55,60,57,"innerDimensionSize"],[72,73,60,75],[73,6,61,8,"adjustedInput"],[73,19,61,21],[73,22,61,24],[73,26,61,24,"concat"],[73,33,61,30],[73,34,61,30,"concat"],[73,40,61,30],[73,42,61,31],[73,43,61,32,"input"],[73,48,61,37],[73,50,61,39],[73,54,61,39,"zeros"],[73,60,61,44],[73,61,61,44,"zeros"],[73,66,61,44],[73,68,61,45,"zerosShape"],[73,78,61,55],[73,79,61,56],[73,80,61,57],[73,82,61,59,"input"],[73,87,61,64],[73,88,61,65,"shape"],[73,93,61,70],[73,94,61,71,"length"],[73,100,61,77],[73,103,61,80],[73,104,61,81],[73,105,61,82],[74,6,62,8,"innerDimensionSize"],[74,24,62,26],[74,27,62,29,"fftLength"],[74,36,62,38],[75,4,63,4],[75,5,63,5],[75,11,64,9],[76,6,65,8,"adjustedInput"],[76,19,65,21],[76,22,65,24,"input"],[76,27,65,29],[77,4,66,4],[78,4,67,4],[79,4,68,4],[79,10,68,10,"zerosInput"],[79,20,68,20],[79,23,68,23],[79,27,68,23,"zerosLike"],[79,38,68,32],[79,39,68,32,"zerosLike"],[79,48,68,32],[79,50,68,33,"adjustedInput"],[79,63,68,46],[79,64,68,47],[80,4,69,4],[80,10,69,10,"complexInput"],[80,22,69,22],[80,25,69,25],[80,29,69,25,"reshape"],[80,37,69,32],[80,38,69,32,"reshape"],[80,45,69,32],[80,47,69,33],[80,51,69,33,"complex"],[80,59,69,40],[80,60,69,40,"complex"],[80,67,69,40],[80,69,69,41,"adjustedInput"],[80,82,69,54],[80,84,69,56,"zerosInput"],[80,94,69,66],[80,95,69,67],[80,97,69,69],[80,98,69,70,"batch"],[80,103,69,75],[80,105,69,77,"innerDimensionSize"],[80,123,69,95],[80,124,69,96],[80,125,69,97],[81,4,70,4],[81,10,70,10,"ret"],[81,13,70,13],[81,16,70,16],[81,20,70,16,"fft"],[81,24,70,19],[81,25,70,19,"fft"],[81,28,70,19],[81,30,70,20,"complexInput"],[81,42,70,32],[81,43,70,33],[82,4,71,4],[83,4,72,4],[83,10,72,10,"half"],[83,14,72,14],[83,17,72,17,"Math"],[83,21,72,21],[83,22,72,22,"floor"],[83,27,72,27],[83,28,72,28,"innerDimensionSize"],[83,46,72,46],[83,49,72,49],[83,50,72,50],[83,51,72,51],[83,54,72,54],[83,55,72,55],[84,4,73,4],[84,10,73,10,"realValues"],[84,20,73,20],[84,23,73,23],[84,27,73,23,"real"],[84,32,73,27],[84,33,73,27,"real"],[84,37,73,27],[84,39,73,28,"ret"],[84,42,73,31],[84,43,73,32],[85,4,74,4],[85,10,74,10,"imagValues"],[85,20,74,20],[85,23,74,23],[85,27,74,23,"imag"],[85,32,74,27],[85,33,74,27,"imag"],[85,37,74,27],[85,39,74,28,"ret"],[85,42,74,31],[85,43,74,32],[86,4,75,4],[86,10,75,10,"realComplexConjugate"],[86,30,75,30],[86,33,75,33],[86,37,75,33,"split"],[86,43,75,38],[86,44,75,38,"split"],[86,49,75,38],[86,51,75,39,"realValues"],[86,61,75,49],[86,63,75,51],[86,64,75,52,"half"],[86,68,75,56],[86,70,75,58,"innerDimensionSize"],[86,88,75,76],[86,91,75,79,"half"],[86,95,75,83],[86,96,75,84],[86,98,75,86,"realValues"],[86,108,75,96],[86,109,75,97,"shape"],[86,114,75,102],[86,115,75,103,"length"],[86,121,75,109],[86,124,75,112],[86,125,75,113],[86,126,75,114],[87,4,76,4],[87,10,76,10,"imagComplexConjugate"],[87,30,76,30],[87,33,76,33],[87,37,76,33,"split"],[87,43,76,38],[87,44,76,38,"split"],[87,49,76,38],[87,51,76,39,"imagValues"],[87,61,76,49],[87,63,76,51],[87,64,76,52,"half"],[87,68,76,56],[87,70,76,58,"innerDimensionSize"],[87,88,76,76],[87,91,76,79,"half"],[87,95,76,83],[87,96,76,84],[87,98,76,86,"imagValues"],[87,108,76,96],[87,109,76,97,"shape"],[87,114,76,102],[87,115,76,103,"length"],[87,121,76,109],[87,124,76,112],[87,125,76,113],[87,126,76,114],[88,4,77,4],[88,10,77,10,"outputShape"],[88,21,77,21],[88,24,77,24,"adjustedInput"],[88,37,77,37],[88,38,77,38,"shape"],[88,43,77,43],[88,44,77,44,"slice"],[88,49,77,49],[88,50,77,50],[88,51,77,51],[89,4,78,4,"outputShape"],[89,15,78,15],[89,16,78,16,"adjustedInput"],[89,29,78,29],[89,30,78,30,"shape"],[89,35,78,35],[89,36,78,36,"length"],[89,42,78,42],[89,45,78,45],[89,46,78,46],[89,47,78,47],[89,50,78,50,"half"],[89,54,78,54],[90,4,79,4],[90,11,79,11],[90,15,79,11,"reshape"],[90,23,79,18],[90,24,79,18,"reshape"],[90,31,79,18],[90,33,79,19],[90,37,79,19,"complex"],[90,45,79,26],[90,46,79,26,"complex"],[90,53,79,26],[90,55,79,27,"realComplexConjugate"],[90,75,79,47],[90,76,79,48],[90,77,79,49],[90,78,79,50],[90,80,79,52,"imagComplexConjugate"],[90,100,79,72],[90,101,79,73],[90,102,79,74],[90,103,79,75],[90,104,79,76],[90,106,79,78,"outputShape"],[90,117,79,89],[90,118,79,90],[91,2,80,0],[92,2,81,7],[92,8,81,13,"rfft"],[92,12,81,17],[92,15,81,20],[92,30,81,36],[92,34,81,36,"op"],[92,44,81,38],[92,45,81,38,"op"],[92,47,81,38],[92,49,81,39],[93,4,81,41,"rfft_"],[94,2,81,47],[94,3,81,48],[94,4,81,49],[95,0,81,50],[95,3]],"functionMap":{"names":["<global>","rfft_","assert$argument_1","input.shape.map$argument_0"],"mappings":"AAA;AC2C;sCCC,sED;sCEM,MF;qCEC,MF;2CEO,MF;CDqB"},"hasCjsExports":false},"type":"js/module"}]}