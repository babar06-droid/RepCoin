{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":706},"end":{"line":18,"column":45,"index":751}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"./file_chunk_iterator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":752},"end":{"line":19,"column":58,"index":810}}],"key":"K9W01YaPRhkqa9QAh1mXQZYnM/k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.urlChunkIterator = urlChunkIterator;\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _file_chunk_iterator = require(_dependencyMap[1], \"./file_chunk_iterator\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * =============================================================================\n   */\n\n  /**\n   * Provide a stream of chunks from a URL.\n   *\n   * Note this class first downloads the entire file into memory before providing\n   * the first element from the stream.  This is because the Fetch API does not\n   * yet reliably provide a reader stream for the response body.\n   */\n  async function urlChunkIterator(url, options = {}, fetchFunc) {\n    let urlString;\n    let requestInit;\n    if (typeof url === 'string') {\n      urlString = url;\n    } else {\n      urlString = url.url;\n      requestInit = getRequestInitFromRequest(url);\n    }\n    const response = await (fetchFunc || _tensorflowTfjsCore.util.fetch)(urlString, requestInit);\n    if (response.ok) {\n      const uint8Array = new Uint8Array(await response.arrayBuffer());\n      return new _file_chunk_iterator.FileChunkIterator(uint8Array, options);\n    } else {\n      throw new Error(response.statusText);\n    }\n  }\n  // Generate RequestInit from Request to match tf.util.fetch signature.\n  const getRequestInitFromRequest = request => {\n    const init = {\n      method: request.method,\n      headers: request.headers,\n      body: request.body,\n      mode: request.mode,\n      credentials: request.credentials,\n      cache: request.cache,\n      redirect: request.redirect,\n      referrer: request.referrer,\n      integrity: request.integrity\n    };\n    return init;\n  };\n});","lineCount":67,"map":[[7,2,27,0,"exports"],[7,9,27,0],[7,10,27,0,"urlChunkIterator"],[7,26,27,0],[7,29,27,0,"urlChunkIterator"],[7,45,27,0],[8,2,18,0],[8,6,18,0,"_tensorflowTfjsCore"],[8,25,18,0],[8,28,18,0,"require"],[8,35,18,0],[8,36,18,0,"_dependencyMap"],[8,50,18,0],[9,2,19,0],[9,6,19,0,"_file_chunk_iterator"],[9,26,19,0],[9,29,19,0,"require"],[9,36,19,0],[9,37,19,0,"_dependencyMap"],[9,51,19,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[19,0,10,0],[20,0,11,0],[21,0,12,0],[22,0,13,0],[23,0,14,0],[24,0,15,0],[25,0,16,0],[26,0,17,0],[28,2,20,0],[29,0,21,0],[30,0,22,0],[31,0,23,0],[32,0,24,0],[33,0,25,0],[34,0,26,0],[35,2,27,7],[35,17,27,22,"urlChunkIterator"],[35,33,27,38,"urlChunkIterator"],[35,34,27,39,"url"],[35,37,27,42],[35,39,27,44,"options"],[35,46,27,51],[35,49,27,54],[35,50,27,55],[35,51,27,56],[35,53,27,58,"fetchFunc"],[35,62,27,67],[35,64,27,69],[36,4,28,4],[36,8,28,8,"urlString"],[36,17,28,17],[37,4,29,4],[37,8,29,8,"requestInit"],[37,19,29,19],[38,4,30,4],[38,8,30,9],[38,15,30,16,"url"],[38,18,30,19],[38,23,30,25],[38,31,30,33],[38,33,30,35],[39,6,31,8,"urlString"],[39,15,31,17],[39,18,31,20,"url"],[39,21,31,23],[40,4,32,4],[40,5,32,5],[40,11,33,9],[41,6,34,8,"urlString"],[41,15,34,17],[41,18,34,20,"url"],[41,21,34,23],[41,22,34,24,"url"],[41,25,34,27],[42,6,35,8,"requestInit"],[42,17,35,19],[42,20,35,22,"getRequestInitFromRequest"],[42,45,35,47],[42,46,35,48,"url"],[42,49,35,51],[42,50,35,52],[43,4,36,4],[44,4,37,4],[44,10,37,10,"response"],[44,18,37,18],[44,21,37,21],[44,27,37,27],[44,28,37,28,"fetchFunc"],[44,37,37,37],[44,41,37,41,"util"],[44,60,37,45],[44,61,37,45,"util"],[44,65,37,45],[44,66,37,46,"fetch"],[44,71,37,51],[44,73,37,53,"urlString"],[44,82,37,62],[44,84,37,64,"requestInit"],[44,95,37,75],[44,96,37,76],[45,4,38,4],[45,8,38,8,"response"],[45,16,38,16],[45,17,38,17,"ok"],[45,19,38,19],[45,21,38,21],[46,6,39,8],[46,12,39,14,"uint8Array"],[46,22,39,24],[46,25,39,27],[46,29,39,31,"Uint8Array"],[46,39,39,41],[46,40,39,42],[46,46,39,48,"response"],[46,54,39,56],[46,55,39,57,"arrayBuffer"],[46,66,39,68],[46,67,39,69],[46,68,39,70],[46,69,39,71],[47,6,40,8],[47,13,40,15],[47,17,40,19,"FileChunkIterator"],[47,37,40,36],[47,38,40,36,"FileChunkIterator"],[47,55,40,36],[47,56,40,37,"uint8Array"],[47,66,40,47],[47,68,40,49,"options"],[47,75,40,56],[47,76,40,57],[48,4,41,4],[48,5,41,5],[48,11,42,9],[49,6,43,8],[49,12,43,14],[49,16,43,18,"Error"],[49,21,43,23],[49,22,43,24,"response"],[49,30,43,32],[49,31,43,33,"statusText"],[49,41,43,43],[49,42,43,44],[50,4,44,4],[51,2,45,0],[52,2,46,0],[53,2,47,0],[53,8,47,6,"getRequestInitFromRequest"],[53,33,47,31],[53,36,47,35,"request"],[53,43,47,42],[53,47,47,47],[54,4,48,4],[54,10,48,10,"init"],[54,14,48,14],[54,17,48,17],[55,6,49,8,"method"],[55,12,49,14],[55,14,49,16,"request"],[55,21,49,23],[55,22,49,24,"method"],[55,28,49,30],[56,6,50,8,"headers"],[56,13,50,15],[56,15,50,17,"request"],[56,22,50,24],[56,23,50,25,"headers"],[56,30,50,32],[57,6,51,8,"body"],[57,10,51,12],[57,12,51,14,"request"],[57,19,51,21],[57,20,51,22,"body"],[57,24,51,26],[58,6,52,8,"mode"],[58,10,52,12],[58,12,52,14,"request"],[58,19,52,21],[58,20,52,22,"mode"],[58,24,52,26],[59,6,53,8,"credentials"],[59,17,53,19],[59,19,53,21,"request"],[59,26,53,28],[59,27,53,29,"credentials"],[59,38,53,40],[60,6,54,8,"cache"],[60,11,54,13],[60,13,54,15,"request"],[60,20,54,22],[60,21,54,23,"cache"],[60,26,54,28],[61,6,55,8,"redirect"],[61,14,55,16],[61,16,55,18,"request"],[61,23,55,25],[61,24,55,26,"redirect"],[61,32,55,34],[62,6,56,8,"referrer"],[62,14,56,16],[62,16,56,18,"request"],[62,23,56,25],[62,24,56,26,"referrer"],[62,32,56,34],[63,6,57,8,"integrity"],[63,15,57,17],[63,17,57,19,"request"],[63,24,57,26],[63,25,57,27,"integrity"],[64,4,58,4],[64,5,58,5],[65,4,59,4],[65,11,59,11,"init"],[65,15,59,15],[66,2,60,0],[66,3,60,1],[67,0,60,2],[67,3]],"functionMap":{"names":["<global>","urlChunkIterator","getRequestInitFromRequest"],"mappings":"AAA;OC0B;CDkB;kCEE;CFa"},"hasCjsExports":false},"type":"js/module"}]}