{"dependencies":[{"name":"../../engine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"v39fFCcPTN6kCKPiVEOA5hKbvfQ=","exportNames":["*"],"imports":1}},{"name":"../../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":742},"end":{"line":18,"column":59,"index":801}}],"key":"rL3QmnnDJzxi3tNgrJ9K3IiMDQ8=","exportNames":["*"],"imports":1}},{"name":"../../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":802},"end":{"line":19,"column":56,"index":858}}],"key":"xfSGNGkCJdZhfQ673y/6d+no2yU=","exportNames":["*"],"imports":1}},{"name":"../../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":859},"end":{"line":20,"column":35,"index":894}}],"key":"OiLVMoS12Mp3xgHkQeTdnQIBX6Q=","exportNames":["*"],"imports":1}},{"name":"../operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":895},"end":{"line":21,"column":34,"index":929}}],"key":"fQilPqfSvhAHjyfKT0P4wel7jE4=","exportNames":["*"],"imports":1}},{"name":"../reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":930},"end":{"line":22,"column":37,"index":967}}],"key":"88jbakDJZT9IhaURceTSW5G0Dno=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"resizeNearestNeighbor\", {\n    enumerable: true,\n    get: function () {\n      return resizeNearestNeighbor;\n    }\n  });\n  var _engine = require(_dependencyMap[0], \"../../engine\");\n  var _kernel_names = require(_dependencyMap[1], \"../../kernel_names\");\n  var _tensor_util_env = require(_dependencyMap[2], \"../../tensor_util_env\");\n  var _util = require(_dependencyMap[3], \"../../util\");\n  var util = _interopNamespace(_util);\n  var _operation = require(_dependencyMap[4], \"../operation\");\n  var _reshape = require(_dependencyMap[5], \"../reshape\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * NearestNeighbor resize a batch of 3D images to a new shape.\n   *\n   * @param images The images, of rank 4 or rank 3, of shape\n   *     `[batch, height, width, inChannels]`. If rank 3, batch of 1 is assumed.\n   * @param size The new shape `[newHeight, newWidth]` to resize the\n   *     images to. Each channel is resized individually.\n   * @param alignCorners Defaults to False. If true, rescale\n   *     input by `(new_height - 1) / (height - 1)`, which exactly aligns the 4\n   *     corners of images and resized images. If false, rescale by\n   *     `new_height / height`. Treat similarly the width dimension.\n   * @param halfPixelCenters Defaults to `false`. Whether to assume pixels are of\n   *      half the actual dimensions, and yield more accurate resizes. This flag\n   *      would also make the floating point coordinates of the top left pixel\n   *      0.5, 0.5.\n   *\n   * @doc {heading: 'Operations', subheading: 'Images', namespace: 'image'}\n   */\n  function resizeNearestNeighbor_(images, size, alignCorners = false, halfPixelCenters = false) {\n    const $images = (0, _tensor_util_env.convertToTensor)(images, 'images', 'resizeNearestNeighbor');\n    util.assert($images.rank === 3 || $images.rank === 4, () => `Error in resizeNearestNeighbor: x must be rank 3 or 4, but got ` + `rank ${$images.rank}.`);\n    util.assert(size.length === 2, () => `Error in resizeNearestNeighbor: new shape must 2D, but got shape ` + `${size}.`);\n    util.assert($images.dtype === 'float32' || $images.dtype === 'int32', () => '`images` must have `int32` or `float32` as dtype');\n    util.assert(halfPixelCenters === false || alignCorners === false, () => `Error in resizeNearestNeighbor: If halfPixelCenters is true, ` + `alignCorners must be false.`);\n    let batchImages = $images;\n    let reshapedTo4D = false;\n    if ($images.rank === 3) {\n      reshapedTo4D = true;\n      batchImages = (0, _reshape.reshape)($images, [1, $images.shape[0], $images.shape[1], $images.shape[2]]);\n    }\n    const [] = size;\n    const inputs = {\n      images: batchImages\n    };\n    const attrs = {\n      alignCorners,\n      halfPixelCenters,\n      size\n    };\n    // tslint:disable-next-line: no-unnecessary-type-assertion\n    const res = _engine.ENGINE.runKernel(_kernel_names.ResizeNearestNeighbor, inputs, attrs);\n    if (reshapedTo4D) {\n      return (0, _reshape.reshape)(res, [res.shape[1], res.shape[2], res.shape[3]]);\n    }\n    return res;\n  }\n  const resizeNearestNeighbor = /* @__PURE__ */(0, _operation.op)({\n    resizeNearestNeighbor_\n  });\n});","lineCount":101,"map":[[22,2,66,0,"Object"],[22,8,66,0],[22,9,66,0,"defineProperty"],[22,23,66,0],[22,24,66,0,"exports"],[22,31,66,0],[23,4,66,0,"enumerable"],[23,14,66,0],[24,4,66,0,"get"],[24,7,66,0],[24,18,66,0,"get"],[24,19,66,0],[25,6,66,0],[25,13,66,0,"resizeNearestNeighbor"],[25,34,66,0],[26,4,66,0],[27,2,66,0],[28,2,17,0],[28,6,17,0,"_engine"],[28,13,17,0],[28,16,17,0,"require"],[28,23,17,0],[28,24,17,0,"_dependencyMap"],[28,38,17,0],[29,2,18,0],[29,6,18,0,"_kernel_names"],[29,19,18,0],[29,22,18,0,"require"],[29,29,18,0],[29,30,18,0,"_dependencyMap"],[29,44,18,0],[30,2,19,0],[30,6,19,0,"_tensor_util_env"],[30,22,19,0],[30,25,19,0,"require"],[30,32,19,0],[30,33,19,0,"_dependencyMap"],[30,47,19,0],[31,2,20,0],[31,6,20,0,"_util"],[31,11,20,0],[31,14,20,0,"require"],[31,21,20,0],[31,22,20,0,"_dependencyMap"],[31,36,20,0],[32,2,20,0],[32,6,20,0,"util"],[32,10,20,0],[32,13,20,0,"_interopNamespace"],[32,30,20,0],[32,31,20,0,"_util"],[32,36,20,0],[33,2,21,0],[33,6,21,0,"_operation"],[33,16,21,0],[33,19,21,0,"require"],[33,26,21,0],[33,27,21,0,"_dependencyMap"],[33,41,21,0],[34,2,22,0],[34,6,22,0,"_reshape"],[34,14,22,0],[34,17,22,0,"require"],[34,24,22,0],[34,25,22,0,"_dependencyMap"],[34,39,22,0],[35,2,1,0],[36,0,2,0],[37,0,3,0],[38,0,4,0],[39,0,5,0],[40,0,6,0],[41,0,7,0],[42,0,8,0],[43,0,9,0],[44,0,10,0],[45,0,11,0],[46,0,12,0],[47,0,13,0],[48,0,14,0],[49,0,15,0],[50,0,16,0],[52,2,23,0],[53,0,24,0],[54,0,25,0],[55,0,26,0],[56,0,27,0],[57,0,28,0],[58,0,29,0],[59,0,30,0],[60,0,31,0],[61,0,32,0],[62,0,33,0],[63,0,34,0],[64,0,35,0],[65,0,36,0],[66,0,37,0],[67,0,38,0],[68,0,39,0],[69,0,40,0],[70,2,41,0],[70,11,41,9,"resizeNearestNeighbor_"],[70,33,41,31,"resizeNearestNeighbor_"],[70,34,41,32,"images"],[70,40,41,38],[70,42,41,40,"size"],[70,46,41,44],[70,48,41,46,"alignCorners"],[70,60,41,58],[70,63,41,61],[70,68,41,66],[70,70,41,68,"halfPixelCenters"],[70,86,41,84],[70,89,41,87],[70,94,41,92],[70,96,41,94],[71,4,42,4],[71,10,42,10,"$images"],[71,17,42,17],[71,20,42,20],[71,24,42,20,"convertToTensor"],[71,40,42,35],[71,41,42,35,"convertToTensor"],[71,56,42,35],[71,58,42,36,"images"],[71,64,42,42],[71,66,42,44],[71,74,42,52],[71,76,42,54],[71,99,42,77],[71,100,42,78],[72,4,43,4,"util"],[72,8,43,8],[72,9,43,9,"assert"],[72,15,43,15],[72,16,43,16,"$images"],[72,23,43,23],[72,24,43,24,"rank"],[72,28,43,28],[72,33,43,33],[72,34,43,34],[72,38,43,38,"$images"],[72,45,43,45],[72,46,43,46,"rank"],[72,50,43,50],[72,55,43,55],[72,56,43,56],[72,58,43,58],[72,64,43,64],[72,129,43,129],[72,132,44,8],[72,140,44,16,"$images"],[72,147,44,23],[72,148,44,24,"rank"],[72,152,44,28],[72,155,44,31],[72,156,44,32],[73,4,45,4,"util"],[73,8,45,8],[73,9,45,9,"assert"],[73,15,45,15],[73,16,45,16,"size"],[73,20,45,20],[73,21,45,21,"length"],[73,27,45,27],[73,32,45,32],[73,33,45,33],[73,35,45,35],[73,41,45,41],[73,108,45,108],[73,111,46,8],[73,114,46,11,"size"],[73,118,46,15],[73,121,46,18],[73,122,46,19],[74,4,47,4,"util"],[74,8,47,8],[74,9,47,9,"assert"],[74,15,47,15],[74,16,47,16,"$images"],[74,23,47,23],[74,24,47,24,"dtype"],[74,29,47,29],[74,34,47,34],[74,43,47,43],[74,47,47,47,"$images"],[74,54,47,54],[74,55,47,55,"dtype"],[74,60,47,60],[74,65,47,65],[74,72,47,72],[74,74,47,74],[74,80,47,80],[74,130,47,130],[74,131,47,131],[75,4,48,4,"util"],[75,8,48,8],[75,9,48,9,"assert"],[75,15,48,15],[75,16,48,16,"halfPixelCenters"],[75,32,48,32],[75,37,48,37],[75,42,48,42],[75,46,48,46,"alignCorners"],[75,58,48,58],[75,63,48,63],[75,68,48,68],[75,70,48,70],[75,76,48,76],[75,139,48,139],[75,142,49,8],[75,171,49,37],[75,172,49,38],[76,4,50,4],[76,8,50,8,"batchImages"],[76,19,50,19],[76,22,50,22,"$images"],[76,29,50,29],[77,4,51,4],[77,8,51,8,"reshapedTo4D"],[77,20,51,20],[77,23,51,23],[77,28,51,28],[78,4,52,4],[78,8,52,8,"$images"],[78,15,52,15],[78,16,52,16,"rank"],[78,20,52,20],[78,25,52,25],[78,26,52,26],[78,28,52,28],[79,6,53,8,"reshapedTo4D"],[79,18,53,20],[79,21,53,23],[79,25,53,27],[80,6,54,8,"batchImages"],[80,17,54,19],[80,20,54,22],[80,24,54,22,"reshape"],[80,32,54,29],[80,33,54,29,"reshape"],[80,40,54,29],[80,42,54,30,"$images"],[80,49,54,37],[80,51,54,39],[80,52,54,40],[80,53,54,41],[80,55,54,43,"$images"],[80,62,54,50],[80,63,54,51,"shape"],[80,68,54,56],[80,69,54,57],[80,70,54,58],[80,71,54,59],[80,73,54,61,"$images"],[80,80,54,68],[80,81,54,69,"shape"],[80,86,54,74],[80,87,54,75],[80,88,54,76],[80,89,54,77],[80,91,54,79,"$images"],[80,98,54,86],[80,99,54,87,"shape"],[80,104,54,92],[80,105,54,93],[80,106,54,94],[80,107,54,95],[80,108,54,96],[80,109,54,97],[81,4,55,4],[82,4,56,4],[82,10,56,10],[82,12,56,12],[82,15,56,15,"size"],[82,19,56,19],[83,4,57,4],[83,10,57,10,"inputs"],[83,16,57,16],[83,19,57,19],[84,6,57,21,"images"],[84,12,57,27],[84,14,57,29,"batchImages"],[85,4,57,41],[85,5,57,42],[86,4,58,4],[86,10,58,10,"attrs"],[86,15,58,15],[86,18,58,18],[87,6,58,20,"alignCorners"],[87,18,58,32],[88,6,58,34,"halfPixelCenters"],[88,22,58,50],[89,6,58,52,"size"],[90,4,58,57],[90,5,58,58],[91,4,59,4],[92,4,60,4],[92,10,60,10,"res"],[92,13,60,13],[92,16,60,16,"ENGINE"],[92,23,60,22],[92,24,60,22,"ENGINE"],[92,30,60,22],[92,31,60,23,"runKernel"],[92,40,60,32],[92,41,60,33,"ResizeNearestNeighbor"],[92,54,60,54],[92,55,60,54,"ResizeNearestNeighbor"],[92,76,60,54],[92,78,60,56,"inputs"],[92,84,60,62],[92,86,60,64,"attrs"],[92,91,60,69],[92,92,60,70],[93,4,61,4],[93,8,61,8,"reshapedTo4D"],[93,20,61,20],[93,22,61,22],[94,6,62,8],[94,13,62,15],[94,17,62,15,"reshape"],[94,25,62,22],[94,26,62,22,"reshape"],[94,33,62,22],[94,35,62,23,"res"],[94,38,62,26],[94,40,62,28],[94,41,62,29,"res"],[94,44,62,32],[94,45,62,33,"shape"],[94,50,62,38],[94,51,62,39],[94,52,62,40],[94,53,62,41],[94,55,62,43,"res"],[94,58,62,46],[94,59,62,47,"shape"],[94,64,62,52],[94,65,62,53],[94,66,62,54],[94,67,62,55],[94,69,62,57,"res"],[94,72,62,60],[94,73,62,61,"shape"],[94,78,62,66],[94,79,62,67],[94,80,62,68],[94,81,62,69],[94,82,62,70],[94,83,62,71],[95,4,63,4],[96,4,64,4],[96,11,64,11,"res"],[96,14,64,14],[97,2,65,0],[98,2,66,7],[98,8,66,13,"resizeNearestNeighbor"],[98,29,66,34],[98,32,66,37],[98,47,66,53],[98,51,66,53,"op"],[98,61,66,55],[98,62,66,55,"op"],[98,64,66,55],[98,66,66,56],[99,4,66,58,"resizeNearestNeighbor_"],[100,2,66,81],[100,3,66,82],[100,4,66,83],[101,0,66,84],[101,3]],"functionMap":{"names":["<global>","resizeNearestNeighbor_","util.assert$argument_1"],"mappings":"AAA;ACwC;0DCE;+BDC;mCCC;kBDC;0ECC,wDD;sECC;qCDC;CDgB"},"hasCjsExports":false},"type":"js/module"}]}