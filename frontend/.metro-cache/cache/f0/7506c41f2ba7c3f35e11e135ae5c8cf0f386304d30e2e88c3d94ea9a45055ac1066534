{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":45,"index":748}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/reduce","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":749},"end":{"line":18,"column":48,"index":797}}],"key":"jfnNBpzwIopyFjddGB5/poFfoDQ=","exportNames":["*"],"imports":1}},{"name":"../kernels/Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":798},"end":{"line":19,"column":45,"index":843}}],"key":"Euk1espgreD86zJkDNw3XIlxeRk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.maxImpl = maxImpl;\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _kernel_utilsReduce = require(_dependencyMap[1], \"../kernel_utils/reduce\");\n  var _kernelsReshape = require(_dependencyMap[2], \"../kernels/Reshape\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function maxImpl(x, reduceShape, outShape, backend) {\n    const inSize = _tensorflowTfjsCore.util.sizeFromShape(reduceShape);\n    const xSize = _tensorflowTfjsCore.util.sizeFromShape(x.shape);\n    const batchSize = xSize / inSize;\n    const reshapedInput = (0, _kernelsReshape.reshape)({\n      inputs: {\n        x\n      },\n      attrs: {\n        shape: [batchSize, inSize]\n      },\n      backend\n    });\n    const reduced = (0, _kernel_utilsReduce.reduce)(reshapedInput, x.dtype, 'max', backend);\n    const reshapedOutput = (0, _kernelsReshape.reshape)({\n      inputs: {\n        x: reduced\n      },\n      attrs: {\n        shape: outShape\n      },\n      backend\n    });\n    backend.disposeIntermediateTensorInfo(reshapedInput);\n    backend.disposeIntermediateTensorInfo(reduced);\n    return reshapedOutput;\n  }\n});","lineCount":55,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"maxImpl"],[7,17,20,0],[7,20,20,0,"maxImpl"],[7,27,20,0],[8,2,17,0],[8,6,17,0,"_tensorflowTfjsCore"],[8,25,17,0],[8,28,17,0,"require"],[8,35,17,0],[8,36,17,0,"_dependencyMap"],[8,50,17,0],[9,2,18,0],[9,6,18,0,"_kernel_utilsReduce"],[9,25,18,0],[9,28,18,0,"require"],[9,35,18,0],[9,36,18,0,"_dependencyMap"],[9,50,18,0],[10,2,19,0],[10,6,19,0,"_kernelsReshape"],[10,21,19,0],[10,24,19,0,"require"],[10,31,19,0],[10,32,19,0,"_dependencyMap"],[10,46,19,0],[11,2,1,0],[12,0,2,0],[13,0,3,0],[14,0,4,0],[15,0,5,0],[16,0,6,0],[17,0,7,0],[18,0,8,0],[19,0,9,0],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[28,2,20,7],[28,11,20,16,"maxImpl"],[28,18,20,23,"maxImpl"],[28,19,20,24,"x"],[28,20,20,25],[28,22,20,27,"reduceShape"],[28,33,20,38],[28,35,20,40,"outShape"],[28,43,20,48],[28,45,20,50,"backend"],[28,52,20,57],[28,54,20,59],[29,4,21,4],[29,10,21,10,"inSize"],[29,16,21,16],[29,19,21,19,"util"],[29,38,21,23],[29,39,21,23,"util"],[29,43,21,23],[29,44,21,24,"sizeFromShape"],[29,57,21,37],[29,58,21,38,"reduceShape"],[29,69,21,49],[29,70,21,50],[30,4,22,4],[30,10,22,10,"xSize"],[30,15,22,15],[30,18,22,18,"util"],[30,37,22,22],[30,38,22,22,"util"],[30,42,22,22],[30,43,22,23,"sizeFromShape"],[30,56,22,36],[30,57,22,37,"x"],[30,58,22,38],[30,59,22,39,"shape"],[30,64,22,44],[30,65,22,45],[31,4,23,4],[31,10,23,10,"batchSize"],[31,19,23,19],[31,22,23,22,"xSize"],[31,27,23,27],[31,30,23,30,"inSize"],[31,36,23,36],[32,4,24,4],[32,10,24,10,"reshapedInput"],[32,23,24,23],[32,26,24,26],[32,30,24,26,"reshape"],[32,45,24,33],[32,46,24,33,"reshape"],[32,53,24,33],[32,55,24,34],[33,6,24,36,"inputs"],[33,12,24,42],[33,14,24,44],[34,8,24,46,"x"],[35,6,24,48],[35,7,24,49],[36,6,24,51,"attrs"],[36,11,24,56],[36,13,24,58],[37,8,24,60,"shape"],[37,13,24,65],[37,15,24,67],[37,16,24,68,"batchSize"],[37,25,24,77],[37,27,24,79,"inSize"],[37,33,24,85],[38,6,24,87],[38,7,24,88],[39,6,24,90,"backend"],[40,4,24,98],[40,5,24,99],[40,6,24,100],[41,4,25,4],[41,10,25,10,"reduced"],[41,17,25,17],[41,20,25,20],[41,24,25,20,"reduce"],[41,43,25,26],[41,44,25,26,"reduce"],[41,50,25,26],[41,52,25,27,"reshapedInput"],[41,65,25,40],[41,67,25,42,"x"],[41,68,25,43],[41,69,25,44,"dtype"],[41,74,25,49],[41,76,25,51],[41,81,25,56],[41,83,25,58,"backend"],[41,90,25,65],[41,91,25,66],[42,4,26,4],[42,10,26,10,"reshapedOutput"],[42,24,26,24],[42,27,26,27],[42,31,26,27,"reshape"],[42,46,26,34],[42,47,26,34,"reshape"],[42,54,26,34],[42,56,26,35],[43,6,26,37,"inputs"],[43,12,26,43],[43,14,26,45],[44,8,26,47,"x"],[44,9,26,48],[44,11,26,50,"reduced"],[45,6,26,58],[45,7,26,59],[46,6,26,61,"attrs"],[46,11,26,66],[46,13,26,68],[47,8,26,70,"shape"],[47,13,26,75],[47,15,26,77,"outShape"],[48,6,26,86],[48,7,26,87],[49,6,26,89,"backend"],[50,4,26,97],[50,5,26,98],[50,6,26,99],[51,4,27,4,"backend"],[51,11,27,11],[51,12,27,12,"disposeIntermediateTensorInfo"],[51,41,27,41],[51,42,27,42,"reshapedInput"],[51,55,27,55],[51,56,27,56],[52,4,28,4,"backend"],[52,11,28,11],[52,12,28,12,"disposeIntermediateTensorInfo"],[52,41,28,41],[52,42,28,42,"reduced"],[52,49,28,49],[52,50,28,50],[53,4,29,4],[53,11,29,11,"reshapedOutput"],[53,25,29,25],[54,2,30,0],[55,0,30,1],[55,3]],"functionMap":{"names":["<global>","maxImpl"],"mappings":"AAA;OCmB;CDU"},"hasCjsExports":false},"type":"js/module"}]}