{"dependencies":[{"name":"./shader_compiler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":54,"index":757}}],"key":"yVSKlvZSxQn3Ck2puzGVWEYPzq8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"StridedSliceProgram\", {\n    enumerable: true,\n    get: function () {\n      return StridedSliceProgram;\n    }\n  });\n  var _shader_compiler = require(_dependencyMap[0], \"./shader_compiler\");\n  /**\n   * @license\n   * Copyright 2017 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  class StridedSliceProgram {\n    constructor(begin, strides, size) {\n      this.variableNames = ['x'];\n      this.outputShape = size;\n      const rank = size.length;\n      const inputDtype = (0, _shader_compiler.getCoordsDataType)(size.length);\n      const dtype = (0, _shader_compiler.getCoordsDataType)(size.length);\n      let newCoords = '';\n      if (rank === 1) {\n        newCoords = 'coords * strides + begin';\n      } else {\n        let outputAxis = 0;\n        newCoords = size.map((_, i) => {\n          outputAxis++;\n          return size.length === 1 ? `coords * strides[${i}] + begin[${i}]` : `coords[${outputAxis - 1}] * strides[${i}] + begin[${i}]`;\n        }).join(',');\n      }\n      this.userCode = `\n      ${inputDtype} begin = ${inputDtype}(${begin});\n      ${inputDtype} strides = ${inputDtype}(${strides});\n\n      void main() {\n        ${dtype} coords = getOutputCoords();\n        setOutput(getX(${newCoords}));\n      }\n    `;\n    }\n  }\n});","lineCount":59,"map":[[7,2,18,0,"Object"],[7,8,18,0],[7,9,18,0,"defineProperty"],[7,23,18,0],[7,24,18,0,"exports"],[7,31,18,0],[8,4,18,0,"enumerable"],[8,14,18,0],[9,4,18,0,"get"],[9,7,18,0],[9,18,18,0,"get"],[9,19,18,0],[10,6,18,0],[10,13,18,0,"StridedSliceProgram"],[10,32,18,0],[11,4,18,0],[12,2,18,0],[13,2,17,0],[13,6,17,0,"_shader_compiler"],[13,22,17,0],[13,25,17,0,"require"],[13,32,17,0],[13,33,17,0,"_dependencyMap"],[13,47,17,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,0,5,0],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,0,12,0],[26,0,13,0],[27,0,14,0],[28,0,15,0],[29,0,16,0],[31,2,18,7],[31,8,18,13,"StridedSliceProgram"],[31,27,18,32],[31,28,18,33],[32,4,19,4,"constructor"],[32,15,19,15,"constructor"],[32,16,19,16,"begin"],[32,21,19,21],[32,23,19,23,"strides"],[32,30,19,30],[32,32,19,32,"size"],[32,36,19,36],[32,38,19,38],[33,6,20,8],[33,10,20,12],[33,11,20,13,"variableNames"],[33,24,20,26],[33,27,20,29],[33,28,20,30],[33,31,20,33],[33,32,20,34],[34,6,21,8],[34,10,21,12],[34,11,21,13,"outputShape"],[34,22,21,24],[34,25,21,27,"size"],[34,29,21,31],[35,6,22,8],[35,12,22,14,"rank"],[35,16,22,18],[35,19,22,21,"size"],[35,23,22,25],[35,24,22,26,"length"],[35,30,22,32],[36,6,23,8],[36,12,23,14,"inputDtype"],[36,22,23,24],[36,25,23,27],[36,29,23,27,"getCoordsDataType"],[36,45,23,44],[36,46,23,44,"getCoordsDataType"],[36,63,23,44],[36,65,23,45,"size"],[36,69,23,49],[36,70,23,50,"length"],[36,76,23,56],[36,77,23,57],[37,6,24,8],[37,12,24,14,"dtype"],[37,17,24,19],[37,20,24,22],[37,24,24,22,"getCoordsDataType"],[37,40,24,39],[37,41,24,39,"getCoordsDataType"],[37,58,24,39],[37,60,24,40,"size"],[37,64,24,44],[37,65,24,45,"length"],[37,71,24,51],[37,72,24,52],[38,6,25,8],[38,10,25,12,"newCoords"],[38,19,25,21],[38,22,25,24],[38,24,25,26],[39,6,26,8],[39,10,26,12,"rank"],[39,14,26,16],[39,19,26,21],[39,20,26,22],[39,22,26,24],[40,8,27,12,"newCoords"],[40,17,27,21],[40,20,27,24],[40,46,27,50],[41,6,28,8],[41,7,28,9],[41,13,29,13],[42,8,30,12],[42,12,30,16,"outputAxis"],[42,22,30,26],[42,25,30,29],[42,26,30,30],[43,8,31,12,"newCoords"],[43,17,31,21],[43,20,32,16,"size"],[43,24,32,20],[43,25,32,21,"map"],[43,28,32,24],[43,29,32,25],[43,30,32,26,"_"],[43,31,32,27],[43,33,32,29,"i"],[43,34,32,30],[43,39,32,35],[44,10,33,20,"outputAxis"],[44,20,33,30],[44,22,33,32],[45,10,34,20],[45,17,34,27,"size"],[45,21,34,31],[45,22,34,32,"length"],[45,28,34,38],[45,33,34,43],[45,34,34,44],[45,37,35,24],[45,57,35,44,"i"],[45,58,35,45],[45,71,35,58,"i"],[45,72,35,59],[45,75,35,62],[45,78,36,24],[45,88,36,34,"outputAxis"],[45,98,36,44],[45,101,36,47],[45,102,36,48],[45,117,36,63,"i"],[45,118,36,64],[45,131,36,77,"i"],[45,132,36,78],[45,135,36,81],[46,8,37,16],[46,9,37,17],[46,10,37,18],[46,11,38,21,"join"],[46,15,38,25],[46,16,38,26],[46,19,38,29],[46,20,38,30],[47,6,39,8],[48,6,40,8],[48,10,40,12],[48,11,40,13,"userCode"],[48,19,40,21],[48,22,40,24],[49,0,41,0],[49,8,41,8,"inputDtype"],[49,18,41,18],[49,30,41,30,"inputDtype"],[49,40,41,40],[49,44,41,44,"begin"],[49,49,41,49],[50,0,42,0],[50,8,42,8,"inputDtype"],[50,18,42,18],[50,32,42,32,"inputDtype"],[50,42,42,42],[50,46,42,46,"strides"],[50,53,42,53],[51,0,43,0],[52,0,44,0],[53,0,45,0],[53,10,45,10,"dtype"],[53,15,45,15],[54,0,46,0],[54,25,46,25,"newCoords"],[54,34,46,34],[55,0,47,0],[56,0,48,0],[56,5,48,5],[57,4,49,4],[58,2,50,0],[59,0,50,1],[59,3]],"functionMap":{"names":["<global>","StridedSliceProgram","StridedSliceProgram#constructor","size.map$argument_0"],"mappings":"AAA;OCiB;ICC;yBCa;iBDK;KDY;CDC"},"hasCjsExports":false},"type":"js/module"}]}