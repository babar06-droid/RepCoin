{"dependencies":[{"name":"../engine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":35,"index":738}}],"key":"zbTTi8rtwr8rjl75PzEo829Yvss=","exportNames":["*"],"imports":1}},{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":739},"end":{"line":18,"column":41,"index":780}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":781},"end":{"line":19,"column":53,"index":834}}],"key":"UCKDOr/oOGi3nbD26ZhyAVW61qk=","exportNames":["*"],"imports":1}},{"name":"./broadcast_to","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":835},"end":{"line":20,"column":45,"index":880}}],"key":"GUKHVZHz0Cw5L7PllnRzdpxM1bQ=","exportNames":["*"],"imports":1}},{"name":"./broadcast_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":881},"end":{"line":21,"column":62,"index":943}}],"key":"lgDbDB8RRwl2tZf6kU21ceWf6rA=","exportNames":["*"],"imports":1}},{"name":"./operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":944},"end":{"line":22,"column":33,"index":977}}],"key":"lmmEAb6oR3TWnrsrETceKUovfkM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"where\", {\n    enumerable: true,\n    get: function () {\n      return where;\n    }\n  });\n  var _engine = require(_dependencyMap[0], \"../engine\");\n  var _kernel_names = require(_dependencyMap[1], \"../kernel_names\");\n  var _tensor_util_env = require(_dependencyMap[2], \"../tensor_util_env\");\n  var _broadcast_to = require(_dependencyMap[3], \"./broadcast_to\");\n  var _broadcast_util = require(_dependencyMap[4], \"./broadcast_util\");\n  var _operation = require(_dependencyMap[5], \"./operation\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Returns the elements, either `a` or `b` depending on the `condition`.\n   *\n   * If the condition is true, select from `a`, otherwise select from `b`.\n   *\n   * ```js\n   * const cond = tf.tensor1d([false, false, true], 'bool');\n   * const a = tf.tensor1d([1 , 2, 3]);\n   * const b = tf.tensor1d([-1, -2, -3]);\n   *\n   * a.where(cond, b).print();\n   * ```\n   *\n   * @param condition The input condition. Must be of dtype bool.\n   * @param a If `condition` is rank 1, `a` may have a higher rank but\n   *     its first dimension must match the size of `condition`.\n   * @param b A tensor with the same dtype as `a` and with shape that is\n   *     compatible with `a`.\n   * @return A tensor with same dtype as `a` and `b`, and shape that is\n   *     broadcastable from `a` and `b`.\n   *\n   * @doc {heading: 'Operations', subheading: 'Logical'}\n   */\n  function where_(condition, a, b) {\n    const $a = (0, _tensor_util_env.convertToTensor)(a, 'a', 'where');\n    const $b = (0, _tensor_util_env.convertToTensor)(b, 'b', 'where');\n    const $condition = (0, _tensor_util_env.convertToTensor)(condition, 'condition', 'where', 'bool');\n    // TODO: move this logic to forward function when the broadcastTo op is\n    // implemented in WASM.\n    // Find the broadcastable shape for $condition, $a, and $b.\n    const broadcastShape = (0, _broadcast_util.assertAndGetBroadcastShape)((0, _broadcast_util.assertAndGetBroadcastShape)($condition.shape, $a.shape), $b.shape);\n    const $broadcastedCondition = (0, _broadcast_to.broadcastTo)($condition, broadcastShape);\n    const $broadcastedA = (0, _broadcast_to.broadcastTo)($a, broadcastShape);\n    const $broadcastedB = (0, _broadcast_to.broadcastTo)($b, broadcastShape);\n    const inputs = {\n      condition: $broadcastedCondition,\n      t: $broadcastedA,\n      e: $broadcastedB\n    };\n    return _engine.ENGINE.runKernel(_kernel_names.Select, inputs);\n  }\n  const where = /* @__PURE__ */(0, _operation.op)({\n    where_\n  });\n});","lineCount":80,"map":[[7,2,64,0,"Object"],[7,8,64,0],[7,9,64,0,"defineProperty"],[7,23,64,0],[7,24,64,0,"exports"],[7,31,64,0],[8,4,64,0,"enumerable"],[8,14,64,0],[9,4,64,0,"get"],[9,7,64,0],[9,18,64,0,"get"],[9,19,64,0],[10,6,64,0],[10,13,64,0,"where"],[10,18,64,0],[11,4,64,0],[12,2,64,0],[13,2,17,0],[13,6,17,0,"_engine"],[13,13,17,0],[13,16,17,0,"require"],[13,23,17,0],[13,24,17,0,"_dependencyMap"],[13,38,17,0],[14,2,18,0],[14,6,18,0,"_kernel_names"],[14,19,18,0],[14,22,18,0,"require"],[14,29,18,0],[14,30,18,0,"_dependencyMap"],[14,44,18,0],[15,2,19,0],[15,6,19,0,"_tensor_util_env"],[15,22,19,0],[15,25,19,0,"require"],[15,32,19,0],[15,33,19,0,"_dependencyMap"],[15,47,19,0],[16,2,20,0],[16,6,20,0,"_broadcast_to"],[16,19,20,0],[16,22,20,0,"require"],[16,29,20,0],[16,30,20,0,"_dependencyMap"],[16,44,20,0],[17,2,21,0],[17,6,21,0,"_broadcast_util"],[17,21,21,0],[17,24,21,0,"require"],[17,31,21,0],[17,32,21,0,"_dependencyMap"],[17,46,21,0],[18,2,22,0],[18,6,22,0,"_operation"],[18,16,22,0],[18,19,22,0,"require"],[18,26,22,0],[18,27,22,0,"_dependencyMap"],[18,41,22,0],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[29,0,11,0],[30,0,12,0],[31,0,13,0],[32,0,14,0],[33,0,15,0],[34,0,16,0],[36,2,23,0],[37,0,24,0],[38,0,25,0],[39,0,26,0],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,0,41,0],[55,0,42,0],[56,0,43,0],[57,0,44,0],[58,0,45,0],[59,2,46,0],[59,11,46,9,"where_"],[59,17,46,15,"where_"],[59,18,46,16,"condition"],[59,27,46,25],[59,29,46,27,"a"],[59,30,46,28],[59,32,46,30,"b"],[59,33,46,31],[59,35,46,33],[60,4,47,4],[60,10,47,10,"$a"],[60,12,47,12],[60,15,47,15],[60,19,47,15,"convertToTensor"],[60,35,47,30],[60,36,47,30,"convertToTensor"],[60,51,47,30],[60,53,47,31,"a"],[60,54,47,32],[60,56,47,34],[60,59,47,37],[60,61,47,39],[60,68,47,46],[60,69,47,47],[61,4,48,4],[61,10,48,10,"$b"],[61,12,48,12],[61,15,48,15],[61,19,48,15,"convertToTensor"],[61,35,48,30],[61,36,48,30,"convertToTensor"],[61,51,48,30],[61,53,48,31,"b"],[61,54,48,32],[61,56,48,34],[61,59,48,37],[61,61,48,39],[61,68,48,46],[61,69,48,47],[62,4,49,4],[62,10,49,10,"$condition"],[62,20,49,20],[62,23,49,23],[62,27,49,23,"convertToTensor"],[62,43,49,38],[62,44,49,38,"convertToTensor"],[62,59,49,38],[62,61,49,39,"condition"],[62,70,49,48],[62,72,49,50],[62,83,49,61],[62,85,49,63],[62,92,49,70],[62,94,49,72],[62,100,49,78],[62,101,49,79],[63,4,50,4],[64,4,51,4],[65,4,52,4],[66,4,53,4],[66,10,53,10,"broadcastShape"],[66,24,53,24],[66,27,53,27],[66,31,53,27,"assertAndGetBroadcastShape"],[66,46,53,53],[66,47,53,53,"assertAndGetBroadcastShape"],[66,73,53,53],[66,75,53,54],[66,79,53,54,"assertAndGetBroadcastShape"],[66,94,53,80],[66,95,53,80,"assertAndGetBroadcastShape"],[66,121,53,80],[66,123,53,81,"$condition"],[66,133,53,91],[66,134,53,92,"shape"],[66,139,53,97],[66,141,53,99,"$a"],[66,143,53,101],[66,144,53,102,"shape"],[66,149,53,107],[66,150,53,108],[66,152,53,110,"$b"],[66,154,53,112],[66,155,53,113,"shape"],[66,160,53,118],[66,161,53,119],[67,4,54,4],[67,10,54,10,"$broadcastedCondition"],[67,31,54,31],[67,34,54,34],[67,38,54,34,"broadcastTo"],[67,51,54,45],[67,52,54,45,"broadcastTo"],[67,63,54,45],[67,65,54,46,"$condition"],[67,75,54,56],[67,77,54,58,"broadcastShape"],[67,91,54,72],[67,92,54,73],[68,4,55,4],[68,10,55,10,"$broadcastedA"],[68,23,55,23],[68,26,55,26],[68,30,55,26,"broadcastTo"],[68,43,55,37],[68,44,55,37,"broadcastTo"],[68,55,55,37],[68,57,55,38,"$a"],[68,59,55,40],[68,61,55,42,"broadcastShape"],[68,75,55,56],[68,76,55,57],[69,4,56,4],[69,10,56,10,"$broadcastedB"],[69,23,56,23],[69,26,56,26],[69,30,56,26,"broadcastTo"],[69,43,56,37],[69,44,56,37,"broadcastTo"],[69,55,56,37],[69,57,56,38,"$b"],[69,59,56,40],[69,61,56,42,"broadcastShape"],[69,75,56,56],[69,76,56,57],[70,4,57,4],[70,10,57,10,"inputs"],[70,16,57,16],[70,19,57,19],[71,6,58,8,"condition"],[71,15,58,17],[71,17,58,19,"$broadcastedCondition"],[71,38,58,40],[72,6,59,8,"t"],[72,7,59,9],[72,9,59,11,"$broadcastedA"],[72,22,59,24],[73,6,60,8,"e"],[73,7,60,9],[73,9,60,11,"$broadcastedB"],[74,4,61,4],[74,5,61,5],[75,4,62,4],[75,11,62,11,"ENGINE"],[75,18,62,17],[75,19,62,17,"ENGINE"],[75,25,62,17],[75,26,62,18,"runKernel"],[75,35,62,27],[75,36,62,28,"Select"],[75,49,62,34],[75,50,62,34,"Select"],[75,56,62,34],[75,58,62,36,"inputs"],[75,64,62,42],[75,65,62,43],[76,2,63,0],[77,2,64,7],[77,8,64,13,"where"],[77,13,64,18],[77,16,64,21],[77,31,64,37],[77,35,64,37,"op"],[77,45,64,39],[77,46,64,39,"op"],[77,48,64,39],[77,50,64,40],[78,4,64,42,"where_"],[79,2,64,49],[79,3,64,50],[79,4,64,51],[80,0,64,52],[80,3]],"functionMap":{"names":["<global>","where_"],"mappings":"AAA;AC6C;CDiB"},"hasCjsExports":false},"type":"js/module"}]}