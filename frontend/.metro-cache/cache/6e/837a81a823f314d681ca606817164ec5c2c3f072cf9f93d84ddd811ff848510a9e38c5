{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":54,"index":757}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/shared","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":758},"end":{"line":18,"column":62,"index":820}}],"key":"JzS9qfQGP0NvwhobUV8d6bPV3h4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.sparseReshape = sparseReshape;\n  Object.defineProperty(exports, \"sparseReshapeConfig\", {\n    enumerable: true,\n    get: function () {\n      return sparseReshapeConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _kernel_utilsShared = require(_dependencyMap[1], \"../kernel_utils/shared\");\n  /**\n   * @license\n   * Copyright 2021 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function sparseReshape(args) {\n    const {\n      inputs,\n      backend\n    } = args;\n    const {\n      inputIndices,\n      inputShape,\n      newShape\n    } = inputs;\n    if (inputIndices.shape.length !== 2) {\n      throw new Error(`Input indices should be a matrix but received shape ${inputIndices.shape}`);\n    }\n    if (inputShape.shape.length !== 1) {\n      throw new Error(`Input shape should be a vector but received shape ${inputShape.shape}`);\n    }\n    if (newShape.shape.length !== 1) {\n      throw new Error(`Target shape should be a vector but received shape ${newShape.shape}`);\n    }\n    const $inputShape = Array.from(backend.readSync(inputShape.dataId));\n    const $inputIndices = backend.readSync(inputIndices.dataId);\n    const targetShape = Array.from(backend.readSync(newShape.dataId));\n    const [newIndices, indicesShape, outputShape] = (0, _kernel_utilsShared.sparseReshapeImplCPU)($inputIndices, inputIndices.shape, inputIndices.dtype, $inputShape, targetShape);\n    return [backend.makeTensorInfo(indicesShape, inputIndices.dtype, newIndices), backend.makeTensorInfo([outputShape.length], newShape.dtype, new Int32Array(outputShape))];\n  }\n  const sparseReshapeConfig = {\n    kernelName: _tensorflowTfjsCore.SparseReshape,\n    backendName: 'webgl',\n    kernelFunc: sparseReshape\n  };\n});","lineCount":63,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"sparseReshape"],[7,23,19,0],[7,26,19,0,"sparseReshape"],[7,39,19,0],[8,2,40,0,"Object"],[8,8,40,0],[8,9,40,0,"defineProperty"],[8,23,40,0],[8,24,40,0,"exports"],[8,31,40,0],[9,4,40,0,"enumerable"],[9,14,40,0],[10,4,40,0,"get"],[10,7,40,0],[10,18,40,0,"get"],[10,19,40,0],[11,6,40,0],[11,13,40,0,"sparseReshapeConfig"],[11,32,40,0],[12,4,40,0],[13,2,40,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_kernel_utilsShared"],[15,25,18,0],[15,28,18,0,"require"],[15,35,18,0],[15,36,18,0,"_dependencyMap"],[15,50,18,0],[16,2,1,0],[17,0,2,0],[18,0,3,0],[19,0,4,0],[20,0,5,0],[21,0,6,0],[22,0,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,0,14,0],[30,0,15,0],[31,0,16,0],[33,2,19,7],[33,11,19,16,"sparseReshape"],[33,24,19,29,"sparseReshape"],[33,25,19,30,"args"],[33,29,19,34],[33,31,19,36],[34,4,20,4],[34,10,20,10],[35,6,20,12,"inputs"],[35,12,20,18],[36,6,20,20,"backend"],[37,4,20,28],[37,5,20,29],[37,8,20,32,"args"],[37,12,20,36],[38,4,21,4],[38,10,21,10],[39,6,21,12,"inputIndices"],[39,18,21,24],[40,6,21,26,"inputShape"],[40,16,21,36],[41,6,21,38,"newShape"],[42,4,21,47],[42,5,21,48],[42,8,21,51,"inputs"],[42,14,21,57],[43,4,22,4],[43,8,22,8,"inputIndices"],[43,20,22,20],[43,21,22,21,"shape"],[43,26,22,26],[43,27,22,27,"length"],[43,33,22,33],[43,38,22,38],[43,39,22,39],[43,41,22,41],[44,6,23,8],[44,12,23,14],[44,16,23,18,"Error"],[44,21,23,23],[44,22,23,24],[44,77,23,79,"inputIndices"],[44,89,23,91],[44,90,23,92,"shape"],[44,95,23,97],[44,97,23,99],[44,98,23,100],[45,4,24,4],[46,4,25,4],[46,8,25,8,"inputShape"],[46,18,25,18],[46,19,25,19,"shape"],[46,24,25,24],[46,25,25,25,"length"],[46,31,25,31],[46,36,25,36],[46,37,25,37],[46,39,25,39],[47,6,26,8],[47,12,26,14],[47,16,26,18,"Error"],[47,21,26,23],[47,22,26,24],[47,75,26,77,"inputShape"],[47,85,26,87],[47,86,26,88,"shape"],[47,91,26,93],[47,93,26,95],[47,94,26,96],[48,4,27,4],[49,4,28,4],[49,8,28,8,"newShape"],[49,16,28,16],[49,17,28,17,"shape"],[49,22,28,22],[49,23,28,23,"length"],[49,29,28,29],[49,34,28,34],[49,35,28,35],[49,37,28,37],[50,6,29,8],[50,12,29,14],[50,16,29,18,"Error"],[50,21,29,23],[50,22,29,24],[50,76,29,78,"newShape"],[50,84,29,86],[50,85,29,87,"shape"],[50,90,29,92],[50,92,29,94],[50,93,29,95],[51,4,30,4],[52,4,31,4],[52,10,31,10,"$inputShape"],[52,21,31,21],[52,24,31,24,"Array"],[52,29,31,29],[52,30,31,30,"from"],[52,34,31,34],[52,35,31,35,"backend"],[52,42,31,42],[52,43,31,43,"readSync"],[52,51,31,51],[52,52,31,52,"inputShape"],[52,62,31,62],[52,63,31,63,"dataId"],[52,69,31,69],[52,70,31,70],[52,71,31,71],[53,4,32,4],[53,10,32,10,"$inputIndices"],[53,23,32,23],[53,26,32,26,"backend"],[53,33,32,33],[53,34,32,34,"readSync"],[53,42,32,42],[53,43,32,43,"inputIndices"],[53,55,32,55],[53,56,32,56,"dataId"],[53,62,32,62],[53,63,32,63],[54,4,33,4],[54,10,33,10,"targetShape"],[54,21,33,21],[54,24,33,24,"Array"],[54,29,33,29],[54,30,33,30,"from"],[54,34,33,34],[54,35,33,35,"backend"],[54,42,33,42],[54,43,33,43,"readSync"],[54,51,33,51],[54,52,33,52,"newShape"],[54,60,33,60],[54,61,33,61,"dataId"],[54,67,33,67],[54,68,33,68],[54,69,33,69],[55,4,34,4],[55,10,34,10],[55,11,34,11,"newIndices"],[55,21,34,21],[55,23,34,23,"indicesShape"],[55,35,34,35],[55,37,34,37,"outputShape"],[55,48,34,48],[55,49,34,49],[55,52,34,52],[55,56,34,52,"sparseReshapeImplCPU"],[55,75,34,72],[55,76,34,72,"sparseReshapeImplCPU"],[55,96,34,72],[55,98,34,73,"$inputIndices"],[55,111,34,86],[55,113,34,88,"inputIndices"],[55,125,34,100],[55,126,34,101,"shape"],[55,131,34,106],[55,133,34,108,"inputIndices"],[55,145,34,120],[55,146,34,121,"dtype"],[55,151,34,126],[55,153,34,128,"$inputShape"],[55,164,34,139],[55,166,34,141,"targetShape"],[55,177,34,152],[55,178,34,153],[56,4,35,4],[56,11,35,11],[56,12,36,8,"backend"],[56,19,36,15],[56,20,36,16,"makeTensorInfo"],[56,34,36,30],[56,35,36,31,"indicesShape"],[56,47,36,43],[56,49,36,45,"inputIndices"],[56,61,36,57],[56,62,36,58,"dtype"],[56,67,36,63],[56,69,36,65,"newIndices"],[56,79,36,75],[56,80,36,76],[56,82,37,8,"backend"],[56,89,37,15],[56,90,37,16,"makeTensorInfo"],[56,104,37,30],[56,105,37,31],[56,106,37,32,"outputShape"],[56,117,37,43],[56,118,37,44,"length"],[56,124,37,50],[56,125,37,51],[56,127,37,53,"newShape"],[56,135,37,61],[56,136,37,62,"dtype"],[56,141,37,67],[56,143,37,69],[56,147,37,73,"Int32Array"],[56,157,37,83],[56,158,37,84,"outputShape"],[56,169,37,95],[56,170,37,96],[56,171,37,97],[56,172,38,5],[57,2,39,0],[58,2,40,7],[58,8,40,13,"sparseReshapeConfig"],[58,27,40,32],[58,30,40,35],[59,4,41,4,"kernelName"],[59,14,41,14],[59,16,41,16,"SparseReshape"],[59,35,41,29],[59,36,41,29,"SparseReshape"],[59,49,41,29],[60,4,42,4,"backendName"],[60,15,42,15],[60,17,42,17],[60,24,42,24],[61,4,43,4,"kernelFunc"],[61,14,43,14],[61,16,43,16,"sparseReshape"],[62,2,44,0],[62,3,44,1],[63,0,44,2],[63,3]],"functionMap":{"names":["<global>","sparseReshape"],"mappings":"AAA;OCkB;CDoB"},"hasCjsExports":false},"type":"js/module"}]}