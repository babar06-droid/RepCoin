{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":107,"index":810}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"./tensor_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":811},"end":{"line":18,"column":69,"index":880}}],"key":"B/LqNSKW71rOHR5V9CZnoNBnmr4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"TensorArray\", {\n    enumerable: true,\n    get: function () {\n      return TensorArray;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _tensor_utils = require(_dependencyMap[1], \"./tensor_utils\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * The TensorArray object keeps an array of Tensors.  It\n   * allows reading from the array and writing to the array.\n   */\n  class TensorArray {\n    constructor(name, dtype, maxSize, elementShape, identicalElementShapes, dynamicSize, clearAfterRead) {\n      this.name = name;\n      this.dtype = dtype;\n      this.maxSize = maxSize;\n      this.elementShape = elementShape;\n      this.identicalElementShapes = identicalElementShapes;\n      this.dynamicSize = dynamicSize;\n      this.clearAfterRead = clearAfterRead;\n      this.tensors = [];\n      this.closed_ = false;\n      this.idTensor = (0, _tensorflowTfjsCore.scalar)(0);\n      (0, _tensorflowTfjsCore.keep)(this.idTensor);\n    }\n    get id() {\n      return this.idTensor.id;\n    }\n    get closed() {\n      return this.closed_;\n    }\n    /**\n     * Dispose the tensors and idTensor and mark the TensoryArray as closed.\n     */\n    clearAndClose(keepIds) {\n      this.tensors.forEach(tensor => {\n        if (keepIds == null || !keepIds.has(tensor.tensor.id)) {\n          tensor.tensor.dispose();\n        }\n      });\n      this.tensors = [];\n      this.closed_ = true;\n      this.idTensor.dispose();\n    }\n    size() {\n      return this.tensors.length;\n    }\n    /**\n     * Read the value at location index in the TensorArray.\n     * @param index Number the index to read from.\n     */\n    read(index) {\n      if (this.closed_) {\n        throw new Error(`TensorArray ${this.name} has already been closed.`);\n      }\n      if (index < 0 || index >= this.size()) {\n        throw new Error(`Tried to read from index ${index}, but array size is: ${this.size()}`);\n      }\n      const tensorWithState = this.tensors[index];\n      if (tensorWithState.cleared) {\n        throw new Error(`TensorArray ${this.name}: Could not read index ${index} twice because it was cleared after a previous read ` + `(perhaps try setting clear_after_read = false?).`);\n      }\n      if (this.clearAfterRead) {\n        tensorWithState.cleared = true;\n      }\n      tensorWithState.read = true;\n      return tensorWithState.tensor;\n    }\n    /**\n     * Helper method to read multiple tensors from the specified indices.\n     */\n    readMany(indices) {\n      return indices.map(index => this.read(index));\n    }\n    /**\n     * Write value into the index of the TensorArray.\n     * @param index number the index to write to.\n     * @param tensor\n     */\n    write(index, tensor) {\n      if (this.closed_) {\n        throw new Error(`TensorArray ${this.name} has already been closed.`);\n      }\n      if (index < 0 || !this.dynamicSize && index >= this.maxSize) {\n        throw new Error(`Tried to write to index ${index}, but array is not resizeable and size is: ${this.maxSize}`);\n      }\n      const t = this.tensors[index] || {};\n      if (tensor.dtype !== this.dtype) {\n        throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${index},\n          because the value dtype is ${tensor.dtype}, but TensorArray dtype is ${this.dtype}.`);\n      }\n      // Set the shape for the first time write to unknow shape tensor array\n      if (this.size() === 0 && (this.elementShape == null || this.elementShape.length === 0)) {\n        this.elementShape = tensor.shape;\n      }\n      (0, _tensor_utils.assertShapesMatchAllowUndefinedSize)(this.elementShape, tensor.shape, `TensorArray ${this.name}: Could not write to TensorArray index ${index}.`);\n      if (t.read) {\n        throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${index}, because it has already been read.`);\n      }\n      if (t.written) {\n        throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${index}, because it has already been written.`);\n      }\n      t.tensor = tensor;\n      (0, _tensorflowTfjsCore.keep)(tensor);\n      t.written = true;\n      this.tensors[index] = t;\n    }\n    /**\n     * Helper method to write multiple tensors to the specified indices.\n     */\n    writeMany(indices, tensors) {\n      if (indices.length !== tensors.length) {\n        throw new Error(`TensorArray ${this.name}: could not write multiple tensors,` + `because the index size: ${indices.length} is not the same as tensors size: ${tensors.length}.`);\n      }\n      indices.forEach((i, index) => this.write(i, tensors[index]));\n    }\n    /**\n     * Return selected values in the TensorArray as a packed Tensor. All of\n     * selected values must have been written and their shapes must all match.\n     * @param [indices] number[] Optional. Taking values in [0, max_value). If the\n     *    TensorArray is not dynamic, max_value=size(). If not specified returns\n     *    all tensors in the original order.\n     * @param [dtype]\n     */\n    gather(indices, dtype) {\n      if (!!dtype && dtype !== this.dtype) {\n        throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${dtype}`);\n      }\n      if (!indices) {\n        indices = [];\n        for (let i = 0; i < this.size(); i++) {\n          indices.push(i);\n        }\n      } else {\n        indices = indices.slice(0, this.size());\n      }\n      if (indices.length === 0) {\n        return (0, _tensorflowTfjsCore.tensor)([], [0].concat(this.elementShape));\n      }\n      // Read all the PersistentTensors into a vector to keep track of\n      // their memory.\n      const tensors = this.readMany(indices);\n      (0, _tensor_utils.assertShapesMatchAllowUndefinedSize)(this.elementShape, tensors[0].shape, 'TensorArray shape mismatch: ');\n      return (0, _tensorflowTfjsCore.stack)(tensors, 0);\n    }\n    /**\n     * Return the values in the TensorArray as a concatenated Tensor.\n     */\n    concat(dtype) {\n      if (!!dtype && dtype !== this.dtype) {\n        throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${dtype}`);\n      }\n      if (this.size() === 0) {\n        return (0, _tensorflowTfjsCore.tensor)([], [0].concat(this.elementShape));\n      }\n      const indices = [];\n      for (let i = 0; i < this.size(); i++) {\n        indices.push(i);\n      }\n      // Collect all the tensors from the tensors array.\n      const tensors = this.readMany(indices);\n      (0, _tensor_utils.assertShapesMatchAllowUndefinedSize)(this.elementShape, tensors[0].shape, `TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${tensors[0].shape})`);\n      return (0, _tensorflowTfjsCore.concat)(tensors, 0);\n    }\n    /**\n     * Scatter the values of a Tensor in specific indices of a TensorArray.\n     * @param indices number[] values in [0, max_value). If the\n     *    TensorArray is not dynamic, max_value=size().\n     * @param tensor Tensor input tensor.\n     */\n    scatter(indices, tensor) {\n      if (tensor.dtype !== this.dtype) {\n        throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${tensor.dtype}`);\n      }\n      if (indices.length !== tensor.shape[0]) {\n        throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${indices.length} vs. ${tensor.shape[0]}`);\n      }\n      const maxIndex = Math.max(...indices);\n      if (!this.dynamicSize && maxIndex >= this.maxSize) {\n        throw new Error(`Max index must be < array size (${maxIndex}  vs. ${this.maxSize})`);\n      }\n      this.writeMany(indices, (0, _tensorflowTfjsCore.unstack)(tensor, 0));\n    }\n    /**\n     * Split the values of a Tensor into the TensorArray.\n     * @param length number[] with the lengths to use when splitting value along\n     *    its first dimension.\n     * @param tensor Tensor, the tensor to split.\n     */\n    split(length, tensor) {\n      if (tensor.dtype !== this.dtype) {\n        throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${tensor.dtype}`);\n      }\n      let totalLength = 0;\n      const cumulativeLengths = length.map(len => {\n        totalLength += len;\n        return totalLength;\n      });\n      if (totalLength !== tensor.shape[0]) {\n        throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${totalLength}, and tensor's shape is: ${tensor.shape}`);\n      }\n      if (!this.dynamicSize && length.length !== this.maxSize) {\n        throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${length.length}), ` + 'and the TensorArray is not marked as dynamically resizeable');\n      }\n      const elementPerRow = totalLength === 0 ? 0 : tensor.size / totalLength;\n      const tensors = [];\n      (0, _tensorflowTfjsCore.tidy)(() => {\n        tensor = (0, _tensorflowTfjsCore.reshape)(tensor, [1, totalLength, elementPerRow]);\n        for (let i = 0; i < length.length; ++i) {\n          const previousLength = i === 0 ? 0 : cumulativeLengths[i - 1];\n          const indices = [0, previousLength, 0];\n          const sizes = [1, length[i], elementPerRow];\n          tensors[i] = (0, _tensorflowTfjsCore.reshape)((0, _tensorflowTfjsCore.slice)(tensor, indices, sizes), this.elementShape);\n        }\n        return tensors;\n      });\n      const indices = [];\n      for (let i = 0; i < length.length; i++) {\n        indices[i] = i;\n      }\n      this.writeMany(indices, tensors);\n    }\n  }\n});","lineCount":250,"map":[[7,2,23,0,"Object"],[7,8,23,0],[7,9,23,0,"defineProperty"],[7,23,23,0],[7,24,23,0,"exports"],[7,31,23,0],[8,4,23,0,"enumerable"],[8,14,23,0],[9,4,23,0,"get"],[9,7,23,0],[9,18,23,0,"get"],[9,19,23,0],[10,6,23,0],[10,13,23,0,"TensorArray"],[10,24,23,0],[11,4,23,0],[12,2,23,0],[13,2,17,0],[13,6,17,0,"_tensorflowTfjsCore"],[13,25,17,0],[13,28,17,0,"require"],[13,35,17,0],[13,36,17,0,"_dependencyMap"],[13,50,17,0],[14,2,18,0],[14,6,18,0,"_tensor_utils"],[14,19,18,0],[14,22,18,0,"require"],[14,29,18,0],[14,30,18,0,"_dependencyMap"],[14,44,18,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[32,2,19,0],[33,0,20,0],[34,0,21,0],[35,0,22,0],[36,2,23,7],[36,8,23,13,"TensorArray"],[36,19,23,24],[36,20,23,25],[37,4,24,4,"constructor"],[37,15,24,15,"constructor"],[37,16,24,16,"name"],[37,20,24,20],[37,22,24,22,"dtype"],[37,27,24,27],[37,29,24,29,"maxSize"],[37,36,24,36],[37,38,24,38,"elementShape"],[37,50,24,50],[37,52,24,52,"identicalElementShapes"],[37,74,24,74],[37,76,24,76,"dynamicSize"],[37,87,24,87],[37,89,24,89,"clearAfterRead"],[37,103,24,103],[37,105,24,105],[38,6,25,8],[38,10,25,12],[38,11,25,13,"name"],[38,15,25,17],[38,18,25,20,"name"],[38,22,25,24],[39,6,26,8],[39,10,26,12],[39,11,26,13,"dtype"],[39,16,26,18],[39,19,26,21,"dtype"],[39,24,26,26],[40,6,27,8],[40,10,27,12],[40,11,27,13,"maxSize"],[40,18,27,20],[40,21,27,23,"maxSize"],[40,28,27,30],[41,6,28,8],[41,10,28,12],[41,11,28,13,"elementShape"],[41,23,28,25],[41,26,28,28,"elementShape"],[41,38,28,40],[42,6,29,8],[42,10,29,12],[42,11,29,13,"identicalElementShapes"],[42,33,29,35],[42,36,29,38,"identicalElementShapes"],[42,58,29,60],[43,6,30,8],[43,10,30,12],[43,11,30,13,"dynamicSize"],[43,22,30,24],[43,25,30,27,"dynamicSize"],[43,36,30,38],[44,6,31,8],[44,10,31,12],[44,11,31,13,"clearAfterRead"],[44,25,31,27],[44,28,31,30,"clearAfterRead"],[44,42,31,44],[45,6,32,8],[45,10,32,12],[45,11,32,13,"tensors"],[45,18,32,20],[45,21,32,23],[45,23,32,25],[46,6,33,8],[46,10,33,12],[46,11,33,13,"closed_"],[46,18,33,20],[46,21,33,23],[46,26,33,28],[47,6,34,8],[47,10,34,12],[47,11,34,13,"idTensor"],[47,19,34,21],[47,22,34,24],[47,26,34,24,"scalar"],[47,45,34,30],[47,46,34,30,"scalar"],[47,52,34,30],[47,54,34,31],[47,55,34,32],[47,56,34,33],[48,6,35,8],[48,10,35,8,"keep"],[48,29,35,12],[48,30,35,12,"keep"],[48,34,35,12],[48,36,35,13],[48,40,35,17],[48,41,35,18,"idTensor"],[48,49,35,26],[48,50,35,27],[49,4,36,4],[50,4,37,4],[50,8,37,8,"id"],[50,10,37,10,"id"],[50,11,37,10],[50,13,37,13],[51,6,38,8],[51,13,38,15],[51,17,38,19],[51,18,38,20,"idTensor"],[51,26,38,28],[51,27,38,29,"id"],[51,29,38,31],[52,4,39,4],[53,4,40,4],[53,8,40,8,"closed"],[53,14,40,14,"closed"],[53,15,40,14],[53,17,40,17],[54,6,41,8],[54,13,41,15],[54,17,41,19],[54,18,41,20,"closed_"],[54,25,41,27],[55,4,42,4],[56,4,43,4],[57,0,44,0],[58,0,45,0],[59,4,46,4,"clearAndClose"],[59,17,46,17,"clearAndClose"],[59,18,46,18,"keepIds"],[59,25,46,25],[59,27,46,27],[60,6,47,8],[60,10,47,12],[60,11,47,13,"tensors"],[60,18,47,20],[60,19,47,21,"forEach"],[60,26,47,28],[60,27,47,29,"tensor"],[60,33,47,35],[60,37,47,39],[61,8,48,12],[61,12,48,16,"keepIds"],[61,19,48,23],[61,23,48,27],[61,27,48,31],[61,31,48,35],[61,32,48,36,"keepIds"],[61,39,48,43],[61,40,48,44,"has"],[61,43,48,47],[61,44,48,48,"tensor"],[61,50,48,54],[61,51,48,55,"tensor"],[61,57,48,61],[61,58,48,62,"id"],[61,60,48,64],[61,61,48,65],[61,63,48,67],[62,10,49,16,"tensor"],[62,16,49,22],[62,17,49,23,"tensor"],[62,23,49,29],[62,24,49,30,"dispose"],[62,31,49,37],[62,32,49,38],[62,33,49,39],[63,8,50,12],[64,6,51,8],[64,7,51,9],[64,8,51,10],[65,6,52,8],[65,10,52,12],[65,11,52,13,"tensors"],[65,18,52,20],[65,21,52,23],[65,23,52,25],[66,6,53,8],[66,10,53,12],[66,11,53,13,"closed_"],[66,18,53,20],[66,21,53,23],[66,25,53,27],[67,6,54,8],[67,10,54,12],[67,11,54,13,"idTensor"],[67,19,54,21],[67,20,54,22,"dispose"],[67,27,54,29],[67,28,54,30],[67,29,54,31],[68,4,55,4],[69,4,56,4,"size"],[69,8,56,8,"size"],[69,9,56,8],[69,11,56,11],[70,6,57,8],[70,13,57,15],[70,17,57,19],[70,18,57,20,"tensors"],[70,25,57,27],[70,26,57,28,"length"],[70,32,57,34],[71,4,58,4],[72,4,59,4],[73,0,60,0],[74,0,61,0],[75,0,62,0],[76,4,63,4,"read"],[76,8,63,8,"read"],[76,9,63,9,"index"],[76,14,63,14],[76,16,63,16],[77,6,64,8],[77,10,64,12],[77,14,64,16],[77,15,64,17,"closed_"],[77,22,64,24],[77,24,64,26],[78,8,65,12],[78,14,65,18],[78,18,65,22,"Error"],[78,23,65,27],[78,24,65,28],[78,39,65,43],[78,43,65,47],[78,44,65,48,"name"],[78,48,65,52],[78,75,65,79],[78,76,65,80],[79,6,66,8],[80,6,67,8],[80,10,67,12,"index"],[80,15,67,17],[80,18,67,20],[80,19,67,21],[80,23,67,25,"index"],[80,28,67,30],[80,32,67,34],[80,36,67,38],[80,37,67,39,"size"],[80,41,67,43],[80,42,67,44],[80,43,67,45],[80,45,67,47],[81,8,68,12],[81,14,68,18],[81,18,68,22,"Error"],[81,23,68,27],[81,24,68,28],[81,52,68,56,"index"],[81,57,68,61],[81,81,68,85],[81,85,68,89],[81,86,68,90,"size"],[81,90,68,94],[81,91,68,95],[81,92,68,96],[81,94,68,98],[81,95,68,99],[82,6,69,8],[83,6,70,8],[83,12,70,14,"tensorWithState"],[83,27,70,29],[83,30,70,32],[83,34,70,36],[83,35,70,37,"tensors"],[83,42,70,44],[83,43,70,45,"index"],[83,48,70,50],[83,49,70,51],[84,6,71,8],[84,10,71,12,"tensorWithState"],[84,25,71,27],[84,26,71,28,"cleared"],[84,33,71,35],[84,35,71,37],[85,8,72,12],[85,14,72,18],[85,18,72,22,"Error"],[85,23,72,27],[85,24,72,28],[85,39,72,43],[85,43,72,47],[85,44,72,48,"name"],[85,48,72,52],[85,74,72,78,"index"],[85,79,72,83],[85,133,72,137],[85,136,73,16],[85,186,73,66],[85,187,73,67],[86,6,74,8],[87,6,75,8],[87,10,75,12],[87,14,75,16],[87,15,75,17,"clearAfterRead"],[87,29,75,31],[87,31,75,33],[88,8,76,12,"tensorWithState"],[88,23,76,27],[88,24,76,28,"cleared"],[88,31,76,35],[88,34,76,38],[88,38,76,42],[89,6,77,8],[90,6,78,8,"tensorWithState"],[90,21,78,23],[90,22,78,24,"read"],[90,26,78,28],[90,29,78,31],[90,33,78,35],[91,6,79,8],[91,13,79,15,"tensorWithState"],[91,28,79,30],[91,29,79,31,"tensor"],[91,35,79,37],[92,4,80,4],[93,4,81,4],[94,0,82,0],[95,0,83,0],[96,4,84,4,"readMany"],[96,12,84,12,"readMany"],[96,13,84,13,"indices"],[96,20,84,20],[96,22,84,22],[97,6,85,8],[97,13,85,15,"indices"],[97,20,85,22],[97,21,85,23,"map"],[97,24,85,26],[97,25,85,27,"index"],[97,30,85,32],[97,34,85,36],[97,38,85,40],[97,39,85,41,"read"],[97,43,85,45],[97,44,85,46,"index"],[97,49,85,51],[97,50,85,52],[97,51,85,53],[98,4,86,4],[99,4,87,4],[100,0,88,0],[101,0,89,0],[102,0,90,0],[103,0,91,0],[104,4,92,4,"write"],[104,9,92,9,"write"],[104,10,92,10,"index"],[104,15,92,15],[104,17,92,17,"tensor"],[104,23,92,23],[104,25,92,25],[105,6,93,8],[105,10,93,12],[105,14,93,16],[105,15,93,17,"closed_"],[105,22,93,24],[105,24,93,26],[106,8,94,12],[106,14,94,18],[106,18,94,22,"Error"],[106,23,94,27],[106,24,94,28],[106,39,94,43],[106,43,94,47],[106,44,94,48,"name"],[106,48,94,52],[106,75,94,79],[106,76,94,80],[107,6,95,8],[108,6,96,8],[108,10,96,12,"index"],[108,15,96,17],[108,18,96,20],[108,19,96,21],[108,23,96,25],[108,24,96,26],[108,28,96,30],[108,29,96,31,"dynamicSize"],[108,40,96,42],[108,44,96,46,"index"],[108,49,96,51],[108,53,96,55],[108,57,96,59],[108,58,96,60,"maxSize"],[108,65,96,67],[108,67,96,69],[109,8,97,12],[109,14,97,18],[109,18,97,22,"Error"],[109,23,97,27],[109,24,97,28],[109,51,97,55,"index"],[109,56,97,60],[109,102,97,106],[109,106,97,110],[109,107,97,111,"maxSize"],[109,114,97,118],[109,116,97,120],[109,117,97,121],[110,6,98,8],[111,6,99,8],[111,12,99,14,"t"],[111,13,99,15],[111,16,99,18],[111,20,99,22],[111,21,99,23,"tensors"],[111,28,99,30],[111,29,99,31,"index"],[111,34,99,36],[111,35,99,37],[111,39,99,41],[111,40,99,42],[111,41,99,43],[112,6,100,8],[112,10,100,12,"tensor"],[112,16,100,18],[112,17,100,19,"dtype"],[112,22,100,24],[112,27,100,29],[112,31,100,33],[112,32,100,34,"dtype"],[112,37,100,39],[112,39,100,41],[113,8,101,12],[113,14,101,18],[113,18,101,22,"Error"],[113,23,101,27],[113,24,101,28],[113,39,101,43],[113,43,101,47],[113,44,101,48,"name"],[113,48,101,52],[113,90,101,94,"index"],[113,95,101,99],[114,0,102,0],[114,39,102,39,"tensor"],[114,45,102,45],[114,46,102,46,"dtype"],[114,51,102,51],[114,81,102,81],[114,85,102,85],[114,86,102,86,"dtype"],[114,91,102,91],[114,94,102,94],[114,95,102,95],[115,6,103,8],[116,6,104,8],[117,6,105,8],[117,10,105,12],[117,14,105,16],[117,15,105,17,"size"],[117,19,105,21],[117,20,105,22],[117,21,105,23],[117,26,105,28],[117,27,105,29],[117,32,106,13],[117,36,106,17],[117,37,106,18,"elementShape"],[117,49,106,30],[117,53,106,34],[117,57,106,38],[117,61,106,42],[117,65,106,46],[117,66,106,47,"elementShape"],[117,78,106,59],[117,79,106,60,"length"],[117,85,106,66],[117,90,106,71],[117,91,106,72],[117,92,106,73],[117,94,106,75],[118,8,107,12],[118,12,107,16],[118,13,107,17,"elementShape"],[118,25,107,29],[118,28,107,32,"tensor"],[118,34,107,38],[118,35,107,39,"shape"],[118,40,107,44],[119,6,108,8],[120,6,109,8],[120,10,109,8,"assertShapesMatchAllowUndefinedSize"],[120,23,109,43],[120,24,109,43,"assertShapesMatchAllowUndefinedSize"],[120,59,109,43],[120,61,109,44],[120,65,109,48],[120,66,109,49,"elementShape"],[120,78,109,61],[120,80,109,63,"tensor"],[120,86,109,69],[120,87,109,70,"shape"],[120,92,109,75],[120,94,109,77],[120,109,109,92],[120,113,109,96],[120,114,109,97,"name"],[120,118,109,101],[120,160,109,143,"index"],[120,165,109,148],[120,168,109,151],[120,169,109,152],[121,6,110,8],[121,10,110,12,"t"],[121,11,110,13],[121,12,110,14,"read"],[121,16,110,18],[121,18,110,20],[122,8,111,12],[122,14,111,18],[122,18,111,22,"Error"],[122,23,111,27],[122,24,111,28],[122,39,111,43],[122,43,111,47],[122,44,111,48,"name"],[122,48,111,52],[122,90,111,94,"index"],[122,95,111,99],[122,132,111,136],[122,133,111,137],[123,6,112,8],[124,6,113,8],[124,10,113,12,"t"],[124,11,113,13],[124,12,113,14,"written"],[124,19,113,21],[124,21,113,23],[125,8,114,12],[125,14,114,18],[125,18,114,22,"Error"],[125,23,114,27],[125,24,114,28],[125,39,114,43],[125,43,114,47],[125,44,114,48,"name"],[125,48,114,52],[125,90,114,94,"index"],[125,95,114,99],[125,135,114,139],[125,136,114,140],[126,6,115,8],[127,6,116,8,"t"],[127,7,116,9],[127,8,116,10,"tensor"],[127,14,116,16],[127,17,116,19,"tensor"],[127,23,116,25],[128,6,117,8],[128,10,117,8,"keep"],[128,29,117,12],[128,30,117,12,"keep"],[128,34,117,12],[128,36,117,13,"tensor"],[128,42,117,19],[128,43,117,20],[129,6,118,8,"t"],[129,7,118,9],[129,8,118,10,"written"],[129,15,118,17],[129,18,118,20],[129,22,118,24],[130,6,119,8],[130,10,119,12],[130,11,119,13,"tensors"],[130,18,119,20],[130,19,119,21,"index"],[130,24,119,26],[130,25,119,27],[130,28,119,30,"t"],[130,29,119,31],[131,4,120,4],[132,4,121,4],[133,0,122,0],[134,0,123,0],[135,4,124,4,"writeMany"],[135,13,124,13,"writeMany"],[135,14,124,14,"indices"],[135,21,124,21],[135,23,124,23,"tensors"],[135,30,124,30],[135,32,124,32],[136,6,125,8],[136,10,125,12,"indices"],[136,17,125,19],[136,18,125,20,"length"],[136,24,125,26],[136,29,125,31,"tensors"],[136,36,125,38],[136,37,125,39,"length"],[136,43,125,45],[136,45,125,47],[137,8,126,12],[137,14,126,18],[137,18,126,22,"Error"],[137,23,126,27],[137,24,126,28],[137,39,126,43],[137,43,126,47],[137,44,126,48,"name"],[137,48,126,52],[137,85,126,89],[137,88,127,16],[137,115,127,43,"indices"],[137,122,127,50],[137,123,127,51,"length"],[137,129,127,57],[137,166,127,94,"tensors"],[137,173,127,101],[137,174,127,102,"length"],[137,180,127,108],[137,183,127,111],[137,184,127,112],[138,6,128,8],[139,6,129,8,"indices"],[139,13,129,15],[139,14,129,16,"forEach"],[139,21,129,23],[139,22,129,24],[139,23,129,25,"i"],[139,24,129,26],[139,26,129,28,"index"],[139,31,129,33],[139,36,129,38],[139,40,129,42],[139,41,129,43,"write"],[139,46,129,48],[139,47,129,49,"i"],[139,48,129,50],[139,50,129,52,"tensors"],[139,57,129,59],[139,58,129,60,"index"],[139,63,129,65],[139,64,129,66],[139,65,129,67],[139,66,129,68],[140,4,130,4],[141,4,131,4],[142,0,132,0],[143,0,133,0],[144,0,134,0],[145,0,135,0],[146,0,136,0],[147,0,137,0],[148,0,138,0],[149,4,139,4,"gather"],[149,10,139,10,"gather"],[149,11,139,11,"indices"],[149,18,139,18],[149,20,139,20,"dtype"],[149,25,139,25],[149,27,139,27],[150,6,140,8],[150,10,140,12],[150,11,140,13],[150,12,140,14,"dtype"],[150,17,140,19],[150,21,140,23,"dtype"],[150,26,140,28],[150,31,140,33],[150,35,140,37],[150,36,140,38,"dtype"],[150,41,140,43],[150,43,140,45],[151,8,141,12],[151,14,141,18],[151,18,141,22,"Error"],[151,23,141,27],[151,24,141,28],[151,48,141,52],[151,52,141,56],[151,53,141,57,"dtype"],[151,58,141,62],[151,89,141,93,"dtype"],[151,94,141,98],[151,96,141,100],[151,97,141,101],[152,6,142,8],[153,6,143,8],[153,10,143,12],[153,11,143,13,"indices"],[153,18,143,20],[153,20,143,22],[154,8,144,12,"indices"],[154,15,144,19],[154,18,144,22],[154,20,144,24],[155,8,145,12],[155,13,145,17],[155,17,145,21,"i"],[155,18,145,22],[155,21,145,25],[155,22,145,26],[155,24,145,28,"i"],[155,25,145,29],[155,28,145,32],[155,32,145,36],[155,33,145,37,"size"],[155,37,145,41],[155,38,145,42],[155,39,145,43],[155,41,145,45,"i"],[155,42,145,46],[155,44,145,48],[155,46,145,50],[156,10,146,16,"indices"],[156,17,146,23],[156,18,146,24,"push"],[156,22,146,28],[156,23,146,29,"i"],[156,24,146,30],[156,25,146,31],[157,8,147,12],[158,6,148,8],[158,7,148,9],[158,13,149,13],[159,8,150,12,"indices"],[159,15,150,19],[159,18,150,22,"indices"],[159,25,150,29],[159,26,150,30,"slice"],[159,31,150,35],[159,32,150,36],[159,33,150,37],[159,35,150,39],[159,39,150,43],[159,40,150,44,"size"],[159,44,150,48],[159,45,150,49],[159,46,150,50],[159,47,150,51],[160,6,151,8],[161,6,152,8],[161,10,152,12,"indices"],[161,17,152,19],[161,18,152,20,"length"],[161,24,152,26],[161,29,152,31],[161,30,152,32],[161,32,152,34],[162,8,153,12],[162,15,153,19],[162,19,153,19,"tensor"],[162,38,153,25],[162,39,153,25,"tensor"],[162,45,153,25],[162,47,153,26],[162,49,153,28],[162,51,153,30],[162,52,153,31],[162,53,153,32],[162,54,153,33],[162,55,153,34,"concat"],[162,61,153,40],[162,62,153,41],[162,66,153,45],[162,67,153,46,"elementShape"],[162,79,153,58],[162,80,153,59],[162,81,153,60],[163,6,154,8],[164,6,155,8],[165,6,156,8],[166,6,157,8],[166,12,157,14,"tensors"],[166,19,157,21],[166,22,157,24],[166,26,157,28],[166,27,157,29,"readMany"],[166,35,157,37],[166,36,157,38,"indices"],[166,43,157,45],[166,44,157,46],[167,6,158,8],[167,10,158,8,"assertShapesMatchAllowUndefinedSize"],[167,23,158,43],[167,24,158,43,"assertShapesMatchAllowUndefinedSize"],[167,59,158,43],[167,61,158,44],[167,65,158,48],[167,66,158,49,"elementShape"],[167,78,158,61],[167,80,158,63,"tensors"],[167,87,158,70],[167,88,158,71],[167,89,158,72],[167,90,158,73],[167,91,158,74,"shape"],[167,96,158,79],[167,98,158,81],[167,128,158,111],[167,129,158,112],[168,6,159,8],[168,13,159,15],[168,17,159,15,"stack"],[168,36,159,20],[168,37,159,20,"stack"],[168,42,159,20],[168,44,159,21,"tensors"],[168,51,159,28],[168,53,159,30],[168,54,159,31],[168,55,159,32],[169,4,160,4],[170,4,161,4],[171,0,162,0],[172,0,163,0],[173,4,164,4,"concat"],[173,10,164,10,"concat"],[173,11,164,11,"dtype"],[173,16,164,16],[173,18,164,18],[174,6,165,8],[174,10,165,12],[174,11,165,13],[174,12,165,14,"dtype"],[174,17,165,19],[174,21,165,23,"dtype"],[174,26,165,28],[174,31,165,33],[174,35,165,37],[174,36,165,38,"dtype"],[174,41,165,43],[174,43,165,45],[175,8,166,12],[175,14,166,18],[175,18,166,22,"Error"],[175,23,166,27],[175,24,166,28],[175,48,166,52],[175,52,166,56],[175,53,166,57,"dtype"],[175,58,166,62],[175,89,166,93,"dtype"],[175,94,166,98],[175,96,166,100],[175,97,166,101],[176,6,167,8],[177,6,168,8],[177,10,168,12],[177,14,168,16],[177,15,168,17,"size"],[177,19,168,21],[177,20,168,22],[177,21,168,23],[177,26,168,28],[177,27,168,29],[177,29,168,31],[178,8,169,12],[178,15,169,19],[178,19,169,19,"tensor"],[178,38,169,25],[178,39,169,25,"tensor"],[178,45,169,25],[178,47,169,26],[178,49,169,28],[178,51,169,30],[178,52,169,31],[178,53,169,32],[178,54,169,33],[178,55,169,34,"concat"],[178,61,169,40],[178,62,169,41],[178,66,169,45],[178,67,169,46,"elementShape"],[178,79,169,58],[178,80,169,59],[178,81,169,60],[179,6,170,8],[180,6,171,8],[180,12,171,14,"indices"],[180,19,171,21],[180,22,171,24],[180,24,171,26],[181,6,172,8],[181,11,172,13],[181,15,172,17,"i"],[181,16,172,18],[181,19,172,21],[181,20,172,22],[181,22,172,24,"i"],[181,23,172,25],[181,26,172,28],[181,30,172,32],[181,31,172,33,"size"],[181,35,172,37],[181,36,172,38],[181,37,172,39],[181,39,172,41,"i"],[181,40,172,42],[181,42,172,44],[181,44,172,46],[182,8,173,12,"indices"],[182,15,173,19],[182,16,173,20,"push"],[182,20,173,24],[182,21,173,25,"i"],[182,22,173,26],[182,23,173,27],[183,6,174,8],[184,6,175,8],[185,6,176,8],[185,12,176,14,"tensors"],[185,19,176,21],[185,22,176,24],[185,26,176,28],[185,27,176,29,"readMany"],[185,35,176,37],[185,36,176,38,"indices"],[185,43,176,45],[185,44,176,46],[186,6,177,8],[186,10,177,8,"assertShapesMatchAllowUndefinedSize"],[186,23,177,43],[186,24,177,43,"assertShapesMatchAllowUndefinedSize"],[186,59,177,43],[186,61,177,44],[186,65,177,48],[186,66,177,49,"elementShape"],[186,78,177,61],[186,80,177,63,"tensors"],[186,87,177,70],[186,88,177,71],[186,89,177,72],[186,90,177,73],[186,91,177,74,"shape"],[186,96,177,79],[186,98,177,81],[186,149,177,132],[186,153,177,136],[186,154,177,137,"elementShape"],[186,166,177,149],[186,194,177,177,"tensors"],[186,201,177,184],[186,202,177,185],[186,203,177,186],[186,204,177,187],[186,205,177,188,"shape"],[186,210,177,193],[186,213,177,196],[186,214,177,197],[187,6,178,8],[187,13,178,15],[187,17,178,15,"concat"],[187,36,178,21],[187,37,178,21,"concat"],[187,43,178,21],[187,45,178,22,"tensors"],[187,52,178,29],[187,54,178,31],[187,55,178,32],[187,56,178,33],[188,4,179,4],[189,4,180,4],[190,0,181,0],[191,0,182,0],[192,0,183,0],[193,0,184,0],[194,0,185,0],[195,4,186,4,"scatter"],[195,11,186,11,"scatter"],[195,12,186,12,"indices"],[195,19,186,19],[195,21,186,21,"tensor"],[195,27,186,27],[195,29,186,29],[196,6,187,8],[196,10,187,12,"tensor"],[196,16,187,18],[196,17,187,19,"dtype"],[196,22,187,24],[196,27,187,29],[196,31,187,33],[196,32,187,34,"dtype"],[196,37,187,39],[196,39,187,41],[197,8,188,12],[197,14,188,18],[197,18,188,22,"Error"],[197,23,188,27],[197,24,188,28],[197,48,188,52],[197,52,188,56],[197,53,188,57,"dtype"],[197,58,188,62],[197,83,188,87,"tensor"],[197,89,188,93],[197,90,188,94,"dtype"],[197,95,188,99],[197,97,188,101],[197,98,188,102],[198,6,189,8],[199,6,190,8],[199,10,190,12,"indices"],[199,17,190,19],[199,18,190,20,"length"],[199,24,190,26],[199,29,190,31,"tensor"],[199,35,190,37],[199,36,190,38,"shape"],[199,41,190,43],[199,42,190,44],[199,43,190,45],[199,44,190,46],[199,46,190,48],[200,8,191,12],[200,14,191,18],[200,18,191,22,"Error"],[200,23,191,27],[200,24,191,28],[200,78,191,82,"indices"],[200,85,191,89],[200,86,191,90,"length"],[200,92,191,96],[200,100,191,104,"tensor"],[200,106,191,110],[200,107,191,111,"shape"],[200,112,191,116],[200,113,191,117],[200,114,191,118],[200,115,191,119],[200,117,191,121],[200,118,191,122],[201,6,192,8],[202,6,193,8],[202,12,193,14,"maxIndex"],[202,20,193,22],[202,23,193,25,"Math"],[202,27,193,29],[202,28,193,30,"max"],[202,31,193,33],[202,32,193,34],[202,35,193,37,"indices"],[202,42,193,44],[202,43,193,45],[203,6,194,8],[203,10,194,12],[203,11,194,13],[203,15,194,17],[203,16,194,18,"dynamicSize"],[203,27,194,29],[203,31,194,33,"maxIndex"],[203,39,194,41],[203,43,194,45],[203,47,194,49],[203,48,194,50,"maxSize"],[203,55,194,57],[203,57,194,59],[204,8,195,12],[204,14,195,18],[204,18,195,22,"Error"],[204,23,195,27],[204,24,195,28],[204,59,195,63,"maxIndex"],[204,67,195,71],[204,76,195,80],[204,80,195,84],[204,81,195,85,"maxSize"],[204,88,195,92],[204,91,195,95],[204,92,195,96],[205,6,196,8],[206,6,197,8],[206,10,197,12],[206,11,197,13,"writeMany"],[206,20,197,22],[206,21,197,23,"indices"],[206,28,197,30],[206,30,197,32],[206,34,197,32,"unstack"],[206,53,197,39],[206,54,197,39,"unstack"],[206,61,197,39],[206,63,197,40,"tensor"],[206,69,197,46],[206,71,197,48],[206,72,197,49],[206,73,197,50],[206,74,197,51],[207,4,198,4],[208,4,199,4],[209,0,200,0],[210,0,201,0],[211,0,202,0],[212,0,203,0],[213,0,204,0],[214,4,205,4,"split"],[214,9,205,9,"split"],[214,10,205,10,"length"],[214,16,205,16],[214,18,205,18,"tensor"],[214,24,205,24],[214,26,205,26],[215,6,206,8],[215,10,206,12,"tensor"],[215,16,206,18],[215,17,206,19,"dtype"],[215,22,206,24],[215,27,206,29],[215,31,206,33],[215,32,206,34,"dtype"],[215,37,206,39],[215,39,206,41],[216,8,207,12],[216,14,207,18],[216,18,207,22,"Error"],[216,23,207,27],[216,24,207,28],[216,48,207,52],[216,52,207,56],[216,53,207,57,"dtype"],[216,58,207,62],[216,83,207,87,"tensor"],[216,89,207,93],[216,90,207,94,"dtype"],[216,95,207,99],[216,97,207,101],[216,98,207,102],[217,6,208,8],[218,6,209,8],[218,10,209,12,"totalLength"],[218,21,209,23],[218,24,209,26],[218,25,209,27],[219,6,210,8],[219,12,210,14,"cumulativeLengths"],[219,29,210,31],[219,32,210,34,"length"],[219,38,210,40],[219,39,210,41,"map"],[219,42,210,44],[219,43,210,45,"len"],[219,46,210,48],[219,50,210,52],[220,8,211,12,"totalLength"],[220,19,211,23],[220,23,211,27,"len"],[220,26,211,30],[221,8,212,12],[221,15,212,19,"totalLength"],[221,26,212,30],[222,6,213,8],[222,7,213,9],[222,8,213,10],[223,6,214,8],[223,10,214,12,"totalLength"],[223,21,214,23],[223,26,214,28,"tensor"],[223,32,214,34],[223,33,214,35,"shape"],[223,38,214,40],[223,39,214,41],[223,40,214,42],[223,41,214,43],[223,43,214,45],[224,8,215,12],[224,14,215,18],[224,18,215,22,"Error"],[224,23,215,27],[224,24,215,28],[225,0,216,0],[226,0,217,0],[226,10,217,10,"totalLength"],[226,21,217,21],[226,49,217,49,"tensor"],[226,55,217,55],[226,56,217,56,"shape"],[226,61,217,61],[226,63,217,63],[226,64,217,64],[227,6,218,8],[228,6,219,8],[228,10,219,12],[228,11,219,13],[228,15,219,17],[228,16,219,18,"dynamicSize"],[228,27,219,29],[228,31,219,33,"length"],[228,37,219,39],[228,38,219,40,"length"],[228,44,219,46],[228,49,219,51],[228,53,219,55],[228,54,219,56,"maxSize"],[228,61,219,63],[228,63,219,65],[229,8,220,12],[229,14,220,18],[229,18,220,22,"Error"],[229,23,220,27],[229,24,220,28],[229,83,220,87],[229,87,220,91],[229,88,220,92,"maxSize"],[229,95,220,99],[229,103,220,107,"length"],[229,109,220,113],[229,110,220,114,"length"],[229,116,220,120],[229,121,220,125],[229,124,221,16],[229,185,221,77],[229,186,221,78],[230,6,222,8],[231,6,223,8],[231,12,223,14,"elementPerRow"],[231,25,223,27],[231,28,223,30,"totalLength"],[231,39,223,41],[231,44,223,46],[231,45,223,47],[231,48,223,50],[231,49,223,51],[231,52,223,54,"tensor"],[231,58,223,60],[231,59,223,61,"size"],[231,63,223,65],[231,66,223,68,"totalLength"],[231,77,223,79],[232,6,224,8],[232,12,224,14,"tensors"],[232,19,224,21],[232,22,224,24],[232,24,224,26],[233,6,225,8],[233,10,225,8,"tidy"],[233,29,225,12],[233,30,225,12,"tidy"],[233,34,225,12],[233,36,225,13],[233,42,225,19],[234,8,226,12,"tensor"],[234,14,226,18],[234,17,226,21],[234,21,226,21,"reshape"],[234,40,226,28],[234,41,226,28,"reshape"],[234,48,226,28],[234,50,226,29,"tensor"],[234,56,226,35],[234,58,226,37],[234,59,226,38],[234,60,226,39],[234,62,226,41,"totalLength"],[234,73,226,52],[234,75,226,54,"elementPerRow"],[234,88,226,67],[234,89,226,68],[234,90,226,69],[235,8,227,12],[235,13,227,17],[235,17,227,21,"i"],[235,18,227,22],[235,21,227,25],[235,22,227,26],[235,24,227,28,"i"],[235,25,227,29],[235,28,227,32,"length"],[235,34,227,38],[235,35,227,39,"length"],[235,41,227,45],[235,43,227,47],[235,45,227,49,"i"],[235,46,227,50],[235,48,227,52],[236,10,228,16],[236,16,228,22,"previousLength"],[236,30,228,36],[236,33,228,40,"i"],[236,34,228,41],[236,39,228,46],[236,40,228,47],[236,43,228,51],[236,44,228,52],[236,47,228,55,"cumulativeLengths"],[236,64,228,72],[236,65,228,73,"i"],[236,66,228,74],[236,69,228,77],[236,70,228,78],[236,71,228,79],[237,10,229,16],[237,16,229,22,"indices"],[237,23,229,29],[237,26,229,32],[237,27,229,33],[237,28,229,34],[237,30,229,36,"previousLength"],[237,44,229,50],[237,46,229,52],[237,47,229,53],[237,48,229,54],[238,10,230,16],[238,16,230,22,"sizes"],[238,21,230,27],[238,24,230,30],[238,25,230,31],[238,26,230,32],[238,28,230,34,"length"],[238,34,230,40],[238,35,230,41,"i"],[238,36,230,42],[238,37,230,43],[238,39,230,45,"elementPerRow"],[238,52,230,58],[238,53,230,59],[239,10,231,16,"tensors"],[239,17,231,23],[239,18,231,24,"i"],[239,19,231,25],[239,20,231,26],[239,23,231,29],[239,27,231,29,"reshape"],[239,46,231,36],[239,47,231,36,"reshape"],[239,54,231,36],[239,56,231,37],[239,60,231,37,"slice"],[239,79,231,42],[239,80,231,42,"slice"],[239,85,231,42],[239,87,231,43,"tensor"],[239,93,231,49],[239,95,231,51,"indices"],[239,102,231,58],[239,104,231,60,"sizes"],[239,109,231,65],[239,110,231,66],[239,112,231,68],[239,116,231,72],[239,117,231,73,"elementShape"],[239,129,231,85],[239,130,231,86],[240,8,232,12],[241,8,233,12],[241,15,233,19,"tensors"],[241,22,233,26],[242,6,234,8],[242,7,234,9],[242,8,234,10],[243,6,235,8],[243,12,235,14,"indices"],[243,19,235,21],[243,22,235,24],[243,24,235,26],[244,6,236,8],[244,11,236,13],[244,15,236,17,"i"],[244,16,236,18],[244,19,236,21],[244,20,236,22],[244,22,236,24,"i"],[244,23,236,25],[244,26,236,28,"length"],[244,32,236,34],[244,33,236,35,"length"],[244,39,236,41],[244,41,236,43,"i"],[244,42,236,44],[244,44,236,46],[244,46,236,48],[245,8,237,12,"indices"],[245,15,237,19],[245,16,237,20,"i"],[245,17,237,21],[245,18,237,22],[245,21,237,25,"i"],[245,22,237,26],[246,6,238,8],[247,6,239,8],[247,10,239,12],[247,11,239,13,"writeMany"],[247,20,239,22],[247,21,239,23,"indices"],[247,28,239,30],[247,30,239,32,"tensors"],[247,37,239,39],[247,38,239,40],[248,4,240,4],[249,2,241,0],[250,0,241,1],[250,3]],"functionMap":{"names":["<global>","TensorArray","TensorArray#constructor","TensorArray#get__id","TensorArray#get__closed","TensorArray#clearAndClose","tensors.forEach$argument_0","TensorArray#size","TensorArray#read","TensorArray#readMany","indices.map$argument_0","TensorArray#write","TensorArray#writeMany","indices.forEach$argument_0","TensorArray#gather","TensorArray#concat","TensorArray#scatter","TensorArray#split","length.map$argument_0","tidy$argument_0"],"mappings":"AAA;OCsB;ICC;KDY;IEC;KFE;IGC;KHE;III;6BCC;SDI;KJI;IMC;KNE;IOK;KPiB;IQI;2BCC,yBD;KRC;IUM;KV4B;IWI;wBCK,2CD;KXC;IaS;KbqB;IcI;Kde;IeO;KfY;IgBO;6CCK;SDG;aEY;SFS;KhBM;CDC"},"hasCjsExports":false},"type":"js/module"}]}