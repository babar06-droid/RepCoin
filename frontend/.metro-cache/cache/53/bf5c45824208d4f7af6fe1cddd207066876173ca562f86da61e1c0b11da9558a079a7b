{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":68,"index":771}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../cpu_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":772},"end":{"line":18,"column":47,"index":819}}],"key":"5L5S4GXlh/uJh1MrXQbkPSVOWm4=","exportNames":["*"],"imports":1}},{"name":"../utils/pool_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":820},"end":{"line":19,"column":43,"index":863}}],"key":"GoGtPjcyECC/LiGq99QBE0/eHC0=","exportNames":["*"],"imports":1}},{"name":"./Identity","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":864},"end":{"line":20,"column":38,"index":902}}],"key":"fmoGkMbvl3R/HMlCKK1PD8/q2lc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.maxPool = maxPool;\n  Object.defineProperty(exports, \"maxPoolConfig\", {\n    enumerable: true,\n    get: function () {\n      return maxPoolConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _cpu_util = require(_dependencyMap[1], \"../cpu_util\");\n  var _utilsPool_utils = require(_dependencyMap[2], \"../utils/pool_utils\");\n  var _Identity = require(_dependencyMap[3], \"./Identity\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function maxPool(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    (0, _cpu_util.assertNotComplex)(x, 'maxPool');\n    const {\n      filterSize,\n      strides,\n      pad,\n      dimRoundingMode\n    } = attrs;\n    const dilations = 1;\n    _tensorflowTfjsCore.util.assert(_tensorflowTfjsCore.backend_util.eitherStridesOrDilationsAreOne(strides, dilations), () => 'Error in maxPool: Either strides or dilations must be 1. ' + `Got strides ${strides} and dilations '${dilations}'`);\n    const convInfo = _tensorflowTfjsCore.backend_util.computePool2DInfo(x.shape, filterSize, strides, dilations, pad, dimRoundingMode);\n    let res;\n    if (convInfo.filterWidth === 1 && convInfo.filterHeight === 1 && _tensorflowTfjsCore.util.arraysEqual(convInfo.inShape, convInfo.outShape)) {\n      res = (0, _Identity.identity)({\n        inputs: {\n          x\n        },\n        backend\n      });\n    } else {\n      const xValues = backend.data.get(x.dataId).values;\n      const strides = _tensorflowTfjsCore.util.computeStrides(x.shape);\n      const buffer = (0, _utilsPool_utils.pool)(xValues, x.shape, x.dtype, strides, convInfo, 'max');\n      res = backend.makeTensorInfo(convInfo.outShape, x.dtype, buffer.values);\n    }\n    return res;\n  }\n  const maxPoolConfig = {\n    kernelName: _tensorflowTfjsCore.MaxPool,\n    backendName: 'cpu',\n    kernelFunc: maxPool\n  };\n});","lineCount":75,"map":[[7,2,21,0,"exports"],[7,9,21,0],[7,10,21,0,"maxPool"],[7,17,21,0],[7,20,21,0,"maxPool"],[7,27,21,0],[8,2,43,0,"Object"],[8,8,43,0],[8,9,43,0,"defineProperty"],[8,23,43,0],[8,24,43,0,"exports"],[8,31,43,0],[9,4,43,0,"enumerable"],[9,14,43,0],[10,4,43,0,"get"],[10,7,43,0],[10,18,43,0,"get"],[10,19,43,0],[11,6,43,0],[11,13,43,0,"maxPoolConfig"],[11,26,43,0],[12,4,43,0],[13,2,43,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_cpu_util"],[15,15,18,0],[15,18,18,0,"require"],[15,25,18,0],[15,26,18,0,"_dependencyMap"],[15,40,18,0],[16,2,19,0],[16,6,19,0,"_utilsPool_utils"],[16,22,19,0],[16,25,19,0,"require"],[16,32,19,0],[16,33,19,0,"_dependencyMap"],[16,47,19,0],[17,2,20,0],[17,6,20,0,"_Identity"],[17,15,20,0],[17,18,20,0,"require"],[17,25,20,0],[17,26,20,0,"_dependencyMap"],[17,40,20,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[35,2,21,7],[35,11,21,16,"maxPool"],[35,18,21,23,"maxPool"],[35,19,21,24,"args"],[35,23,21,28],[35,25,21,30],[36,4,22,4],[36,10,22,10],[37,6,22,12,"inputs"],[37,12,22,18],[38,6,22,20,"backend"],[38,13,22,27],[39,6,22,29,"attrs"],[40,4,22,35],[40,5,22,36],[40,8,22,39,"args"],[40,12,22,43],[41,4,23,4],[41,10,23,10],[42,6,23,12,"x"],[43,4,23,14],[43,5,23,15],[43,8,23,18,"inputs"],[43,14,23,24],[44,4,24,4],[44,8,24,4,"assertNotComplex"],[44,17,24,20],[44,18,24,20,"assertNotComplex"],[44,34,24,20],[44,36,24,21,"x"],[44,37,24,22],[44,39,24,24],[44,48,24,33],[44,49,24,34],[45,4,25,4],[45,10,25,10],[46,6,25,12,"filterSize"],[46,16,25,22],[47,6,25,24,"strides"],[47,13,25,31],[48,6,25,33,"pad"],[48,9,25,36],[49,6,25,38,"dimRoundingMode"],[50,4,25,54],[50,5,25,55],[50,8,25,58,"attrs"],[50,13,25,63],[51,4,26,4],[51,10,26,10,"dilations"],[51,19,26,19],[51,22,26,22],[51,23,26,23],[52,4,27,4,"util"],[52,23,27,8],[52,24,27,8,"util"],[52,28,27,8],[52,29,27,9,"assert"],[52,35,27,15],[52,36,27,16,"backend_util"],[52,55,27,28],[52,56,27,28,"backend_util"],[52,68,27,28],[52,69,27,29,"eitherStridesOrDilationsAreOne"],[52,99,27,59],[52,100,27,60,"strides"],[52,107,27,67],[52,109,27,69,"dilations"],[52,118,27,78],[52,119,27,79],[52,121,27,81],[52,127,27,87],[52,186,27,146],[52,189,28,8],[52,204,28,23,"strides"],[52,211,28,30],[52,230,28,49,"dilations"],[52,239,28,58],[52,242,28,61],[52,243,28,62],[53,4,29,4],[53,10,29,10,"convInfo"],[53,18,29,18],[53,21,29,21,"backend_util"],[53,40,29,33],[53,41,29,33,"backend_util"],[53,53,29,33],[53,54,29,34,"computePool2DInfo"],[53,71,29,51],[53,72,29,52,"x"],[53,73,29,53],[53,74,29,54,"shape"],[53,79,29,59],[53,81,29,61,"filterSize"],[53,91,29,71],[53,93,29,73,"strides"],[53,100,29,80],[53,102,29,82,"dilations"],[53,111,29,91],[53,113,29,93,"pad"],[53,116,29,96],[53,118,29,98,"dimRoundingMode"],[53,133,29,113],[53,134,29,114],[54,4,30,4],[54,8,30,8,"res"],[54,11,30,11],[55,4,31,4],[55,8,31,8,"convInfo"],[55,16,31,16],[55,17,31,17,"filterWidth"],[55,28,31,28],[55,33,31,33],[55,34,31,34],[55,38,31,38,"convInfo"],[55,46,31,46],[55,47,31,47,"filterHeight"],[55,59,31,59],[55,64,31,64],[55,65,31,65],[55,69,32,8,"util"],[55,88,32,12],[55,89,32,12,"util"],[55,93,32,12],[55,94,32,13,"arraysEqual"],[55,105,32,24],[55,106,32,25,"convInfo"],[55,114,32,33],[55,115,32,34,"inShape"],[55,122,32,41],[55,124,32,43,"convInfo"],[55,132,32,51],[55,133,32,52,"outShape"],[55,141,32,60],[55,142,32,61],[55,144,32,63],[56,6,33,8,"res"],[56,9,33,11],[56,12,33,14],[56,16,33,14,"identity"],[56,25,33,22],[56,26,33,22,"identity"],[56,34,33,22],[56,36,33,23],[57,8,33,25,"inputs"],[57,14,33,31],[57,16,33,33],[58,10,33,35,"x"],[59,8,33,37],[59,9,33,38],[60,8,33,40,"backend"],[61,6,33,48],[61,7,33,49],[61,8,33,50],[62,4,34,4],[62,5,34,5],[62,11,35,9],[63,6,36,8],[63,12,36,14,"xValues"],[63,19,36,21],[63,22,36,24,"backend"],[63,29,36,31],[63,30,36,32,"data"],[63,34,36,36],[63,35,36,37,"get"],[63,38,36,40],[63,39,36,41,"x"],[63,40,36,42],[63,41,36,43,"dataId"],[63,47,36,49],[63,48,36,50],[63,49,36,51,"values"],[63,55,36,57],[64,6,37,8],[64,12,37,14,"strides"],[64,19,37,21],[64,22,37,24,"util"],[64,41,37,28],[64,42,37,28,"util"],[64,46,37,28],[64,47,37,29,"computeStrides"],[64,61,37,43],[64,62,37,44,"x"],[64,63,37,45],[64,64,37,46,"shape"],[64,69,37,51],[64,70,37,52],[65,6,38,8],[65,12,38,14,"buffer"],[65,18,38,20],[65,21,38,23],[65,25,38,23,"pool"],[65,41,38,27],[65,42,38,27,"pool"],[65,46,38,27],[65,48,38,28,"xValues"],[65,55,38,35],[65,57,38,37,"x"],[65,58,38,38],[65,59,38,39,"shape"],[65,64,38,44],[65,66,38,46,"x"],[65,67,38,47],[65,68,38,48,"dtype"],[65,73,38,53],[65,75,38,55,"strides"],[65,82,38,62],[65,84,38,64,"convInfo"],[65,92,38,72],[65,94,38,74],[65,99,38,79],[65,100,38,80],[66,6,39,8,"res"],[66,9,39,11],[66,12,39,14,"backend"],[66,19,39,21],[66,20,39,22,"makeTensorInfo"],[66,34,39,36],[66,35,39,37,"convInfo"],[66,43,39,45],[66,44,39,46,"outShape"],[66,52,39,54],[66,54,39,56,"x"],[66,55,39,57],[66,56,39,58,"dtype"],[66,61,39,63],[66,63,39,65,"buffer"],[66,69,39,71],[66,70,39,72,"values"],[66,76,39,78],[66,77,39,79],[67,4,40,4],[68,4,41,4],[68,11,41,11,"res"],[68,14,41,14],[69,2,42,0],[70,2,43,7],[70,8,43,13,"maxPoolConfig"],[70,21,43,26],[70,24,43,29],[71,4,44,4,"kernelName"],[71,14,44,14],[71,16,44,16,"MaxPool"],[71,35,44,23],[71,36,44,23,"MaxPool"],[71,43,44,23],[72,4,45,4,"backendName"],[72,15,45,15],[72,17,45,17],[72,22,45,22],[73,4,46,4,"kernelFunc"],[73,14,46,14],[73,16,46,16,"maxPool"],[74,2,47,0],[74,3,47,1],[75,0,47,2],[75,3]],"functionMap":{"names":["<global>","maxPool","util.assert$argument_1"],"mappings":"AAA;OCoB;iFCM;6DDC;CDc"},"hasCjsExports":false},"type":"js/module"}]}