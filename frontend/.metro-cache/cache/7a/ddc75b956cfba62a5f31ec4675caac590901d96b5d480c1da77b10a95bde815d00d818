{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":742},"end":{"line":18,"column":33,"index":775}}],"key":"8VMM/o0r3nOvGtT2jgKf2KxknFk=","exportNames":["*"],"imports":1}},{"name":"../ops/ones","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":776},"end":{"line":19,"column":35,"index":811}}],"key":"bZaEZrfr42lrPP7Nlij13+rxuxE=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":812},"end":{"line":20,"column":41,"index":853}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}},{"name":"../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":854},"end":{"line":21,"column":41,"index":895}}],"key":"DTmef1GE5grNQfsvpIzpBlINy9c=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"sumGradConfig\", {\n    enumerable: true,\n    get: function () {\n      return sumGradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsMul = require(_dependencyMap[1], \"../ops/mul\");\n  var _opsOnes = require(_dependencyMap[2], \"../ops/ones\");\n  var _opsReshape = require(_dependencyMap[3], \"../ops/reshape\");\n  var _util = require(_dependencyMap[4], \"../util\");\n  /**\n   * @license\n   * Copyright 2020 Google Inc. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const sumGradConfig = {\n    kernelName: _kernel_names.Sum,\n    inputsToSave: ['x'],\n    gradFunc: (dy, saved, attrs) => {\n      const [x] = saved;\n      const expandedDyShape = x.shape.slice();\n      const {\n        axis\n      } = attrs;\n      const axes = (0, _util.parseAxisParam)(axis, x.shape);\n      axes.forEach(axis => {\n        expandedDyShape[axis] = 1;\n      });\n      const expandedDy = (0, _opsReshape.reshape)(dy, expandedDyShape);\n      const derX = (0, _opsMul.mul)(expandedDy, (0, _opsOnes.ones)(x.shape, 'float32'));\n      return {\n        x: () => derX\n      };\n    }\n  };\n});","lineCount":55,"map":[[7,2,22,0,"Object"],[7,8,22,0],[7,9,22,0,"defineProperty"],[7,23,22,0],[7,24,22,0,"exports"],[7,31,22,0],[8,4,22,0,"enumerable"],[8,14,22,0],[9,4,22,0,"get"],[9,7,22,0],[9,18,22,0,"get"],[9,19,22,0],[10,6,22,0],[10,13,22,0,"sumGradConfig"],[10,26,22,0],[11,4,22,0],[12,2,22,0],[13,2,17,0],[13,6,17,0,"_kernel_names"],[13,19,17,0],[13,22,17,0,"require"],[13,29,17,0],[13,30,17,0,"_dependencyMap"],[13,44,17,0],[14,2,18,0],[14,6,18,0,"_opsMul"],[14,13,18,0],[14,16,18,0,"require"],[14,23,18,0],[14,24,18,0,"_dependencyMap"],[14,38,18,0],[15,2,19,0],[15,6,19,0,"_opsOnes"],[15,14,19,0],[15,17,19,0,"require"],[15,24,19,0],[15,25,19,0,"_dependencyMap"],[15,39,19,0],[16,2,20,0],[16,6,20,0,"_opsReshape"],[16,17,20,0],[16,20,20,0,"require"],[16,27,20,0],[16,28,20,0,"_dependencyMap"],[16,42,20,0],[17,2,21,0],[17,6,21,0,"_util"],[17,11,21,0],[17,14,21,0,"require"],[17,21,21,0],[17,22,21,0,"_dependencyMap"],[17,36,21,0],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[22,0,5,0],[23,0,6,0],[24,0,7,0],[25,0,8,0],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[35,2,22,7],[35,8,22,13,"sumGradConfig"],[35,21,22,26],[35,24,22,29],[36,4,23,4,"kernelName"],[36,14,23,14],[36,16,23,16,"Sum"],[36,29,23,19],[36,30,23,19,"Sum"],[36,33,23,19],[37,4,24,4,"inputsToSave"],[37,16,24,16],[37,18,24,18],[37,19,24,19],[37,22,24,22],[37,23,24,23],[38,4,25,4,"gradFunc"],[38,12,25,12],[38,14,25,14,"gradFunc"],[38,15,25,15,"dy"],[38,17,25,17],[38,19,25,19,"saved"],[38,24,25,24],[38,26,25,26,"attrs"],[38,31,25,31],[38,36,25,36],[39,6,26,8],[39,12,26,14],[39,13,26,15,"x"],[39,14,26,16],[39,15,26,17],[39,18,26,20,"saved"],[39,23,26,25],[40,6,27,8],[40,12,27,14,"expandedDyShape"],[40,27,27,29],[40,30,27,32,"x"],[40,31,27,33],[40,32,27,34,"shape"],[40,37,27,39],[40,38,27,40,"slice"],[40,43,27,45],[40,44,27,46],[40,45,27,47],[41,6,28,8],[41,12,28,14],[42,8,28,16,"axis"],[43,6,28,21],[43,7,28,22],[43,10,28,25,"attrs"],[43,15,28,30],[44,6,29,8],[44,12,29,14,"axes"],[44,16,29,18],[44,19,29,21],[44,23,29,21,"parseAxisParam"],[44,28,29,35],[44,29,29,35,"parseAxisParam"],[44,43,29,35],[44,45,29,36,"axis"],[44,49,29,40],[44,51,29,42,"x"],[44,52,29,43],[44,53,29,44,"shape"],[44,58,29,49],[44,59,29,50],[45,6,30,8,"axes"],[45,10,30,12],[45,11,30,13,"forEach"],[45,18,30,20],[45,19,30,21,"axis"],[45,23,30,25],[45,27,30,29],[46,8,31,12,"expandedDyShape"],[46,23,31,27],[46,24,31,28,"axis"],[46,28,31,32],[46,29,31,33],[46,32,31,36],[46,33,31,37],[47,6,32,8],[47,7,32,9],[47,8,32,10],[48,6,33,8],[48,12,33,14,"expandedDy"],[48,22,33,24],[48,25,33,27],[48,29,33,27,"reshape"],[48,40,33,34],[48,41,33,34,"reshape"],[48,48,33,34],[48,50,33,35,"dy"],[48,52,33,37],[48,54,33,39,"expandedDyShape"],[48,69,33,54],[48,70,33,55],[49,6,34,8],[49,12,34,14,"derX"],[49,16,34,18],[49,19,34,21],[49,23,34,21,"mul"],[49,30,34,24],[49,31,34,24,"mul"],[49,34,34,24],[49,36,34,25,"expandedDy"],[49,46,34,35],[49,48,34,37],[49,52,34,37,"ones"],[49,60,34,41],[49,61,34,41,"ones"],[49,65,34,41],[49,67,34,42,"x"],[49,68,34,43],[49,69,34,44,"shape"],[49,74,34,49],[49,76,34,51],[49,85,34,60],[49,86,34,61],[49,87,34,62],[50,6,35,8],[50,13,35,15],[51,8,35,17,"x"],[51,9,35,18],[51,11,35,20,"x"],[51,12,35,20],[51,17,35,26,"derX"],[52,6,35,31],[52,7,35,32],[53,4,36,4],[54,2,37,0],[54,3,37,1],[55,0,37,2],[55,3]],"functionMap":{"names":["<global>","sumGradConfig.gradFunc","axes.forEach$argument_0","x"],"mappings":"AAA;cCwB;qBCK;SDE;oBEG,UF;KDC"},"hasCjsExports":false},"type":"js/module"}]}