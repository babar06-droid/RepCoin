{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":682},"end":{"line":17,"column":45,"index":727}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.draw = draw;\n  Object.defineProperty(exports, \"drawConfig\", {\n    enumerable: true,\n    get: function () {\n      return drawConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  /**\n   * @license\n   * Copyright 2023 Google LLC.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function draw(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      image\n    } = inputs;\n    const {\n      canvas,\n      options\n    } = attrs;\n    const {\n      contextOptions,\n      imageOptions\n    } = options || {};\n    const alpha = (imageOptions === null || imageOptions === void 0 ? void 0 : imageOptions.alpha) || 1;\n    const contextType = (contextOptions === null || contextOptions === void 0 ? void 0 : contextOptions.contextType) || '2d';\n    if (contextType !== '2d') {\n      throw new Error(`Context type ${contextOptions.contextType} is not supported by the CPU backend.`);\n    }\n    const ctx = canvas.getContext(contextType, (contextOptions === null || contextOptions === void 0 ? void 0 : contextOptions.contextAttributes) || {});\n    if (ctx == null) {\n      throw new Error(`Could not get the context with ${contextType} type.`);\n    }\n    const [height, width] = image.shape.slice(0, 2);\n    const depth = image.shape.length === 2 ? 1 : image.shape[2];\n    const data = backend.data.get(image.dataId).values;\n    const multiplier = image.dtype === 'float32' ? 255 : 1;\n    const bytes = new Uint8ClampedArray(width * height * 4);\n    for (let i = 0; i < height * width; ++i) {\n      const rgba = [0, 0, 0, 255 * alpha];\n      for (let d = 0; d < depth; d++) {\n        const value = data[i * depth + d];\n        if (image.dtype === 'float32') {\n          if (value < 0 || value > 1) {\n            throw new Error(`Tensor values for a float32 Tensor must be in the ` + `range [0 - 1] but encountered ${value}.`);\n          }\n        } else if (image.dtype === 'int32') {\n          if (value < 0 || value > 255) {\n            throw new Error(`Tensor values for a int32 Tensor must be in the ` + `range [0 - 255] but encountered ${value}.`);\n          }\n        }\n        if (depth === 1) {\n          rgba[0] = value * multiplier;\n          rgba[1] = value * multiplier;\n          rgba[2] = value * multiplier;\n        } else {\n          rgba[d] = value * multiplier;\n        }\n      }\n      const j = i * 4;\n      bytes[j + 0] = Math.round(rgba[0]);\n      bytes[j + 1] = Math.round(rgba[1]);\n      bytes[j + 2] = Math.round(rgba[2]);\n      bytes[j + 3] = Math.round(rgba[3]);\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const imageData = new ImageData(bytes, width, height);\n    ctx.putImageData(imageData, 0, 0);\n    return image;\n  }\n  const drawConfig = {\n    kernelName: _tensorflowTfjsCore.Draw,\n    backendName: 'cpu',\n    kernelFunc: draw\n  };\n});","lineCount":101,"map":[[7,2,18,0,"exports"],[7,9,18,0],[7,10,18,0,"draw"],[7,14,18,0],[7,17,18,0,"draw"],[7,21,18,0],[8,2,74,0,"Object"],[8,8,74,0],[8,9,74,0,"defineProperty"],[8,23,74,0],[8,24,74,0,"exports"],[8,31,74,0],[9,4,74,0,"enumerable"],[9,14,74,0],[10,4,74,0,"get"],[10,7,74,0],[10,18,74,0,"get"],[10,19,74,0],[11,6,74,0],[11,13,74,0,"drawConfig"],[11,23,74,0],[12,4,74,0],[13,2,74,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,0,14,0],[29,0,15,0],[30,0,16,0],[32,2,18,7],[32,11,18,16,"draw"],[32,15,18,20,"draw"],[32,16,18,21,"args"],[32,20,18,25],[32,22,18,27],[33,4,19,4],[33,10,19,10],[34,6,19,12,"inputs"],[34,12,19,18],[35,6,19,20,"backend"],[35,13,19,27],[36,6,19,29,"attrs"],[37,4,19,35],[37,5,19,36],[37,8,19,39,"args"],[37,12,19,43],[38,4,20,4],[38,10,20,10],[39,6,20,12,"image"],[40,4,20,18],[40,5,20,19],[40,8,20,22,"inputs"],[40,14,20,28],[41,4,21,4],[41,10,21,10],[42,6,21,12,"canvas"],[42,12,21,18],[43,6,21,20,"options"],[44,4,21,28],[44,5,21,29],[44,8,21,32,"attrs"],[44,13,21,37],[45,4,22,4],[45,10,22,10],[46,6,22,12,"contextOptions"],[46,20,22,26],[47,6,22,28,"imageOptions"],[48,4,22,41],[48,5,22,42],[48,8,22,45,"options"],[48,15,22,52],[48,19,22,56],[48,20,22,57],[48,21,22,58],[49,4,23,4],[49,10,23,10,"alpha"],[49,15,23,15],[49,18,23,18],[49,19,23,19,"imageOptions"],[49,31,23,31],[49,36,23,36],[49,40,23,40],[49,44,23,44,"imageOptions"],[49,56,23,56],[49,61,23,61],[49,66,23,66],[49,67,23,67],[49,70,23,70],[49,75,23,75],[49,76,23,76],[49,79,23,79,"imageOptions"],[49,91,23,91],[49,92,23,92,"alpha"],[49,97,23,97],[49,102,23,102],[49,103,23,103],[50,4,24,4],[50,10,24,10,"contextType"],[50,21,24,21],[50,24,24,24],[50,25,24,25,"contextOptions"],[50,39,24,39],[50,44,24,44],[50,48,24,48],[50,52,24,52,"contextOptions"],[50,66,24,66],[50,71,24,71],[50,76,24,76],[50,77,24,77],[50,80,24,80],[50,85,24,85],[50,86,24,86],[50,89,24,89,"contextOptions"],[50,103,24,103],[50,104,24,104,"contextType"],[50,115,24,115],[50,120,24,120],[50,124,24,124],[51,4,25,4],[51,8,25,8,"contextType"],[51,19,25,19],[51,24,25,24],[51,28,25,28],[51,30,25,30],[52,6,26,8],[52,12,26,14],[52,16,26,18,"Error"],[52,21,26,23],[52,22,26,24],[52,38,26,40,"contextOptions"],[52,52,26,54],[52,53,26,55,"contextType"],[52,64,26,66],[52,103,26,105],[52,104,26,106],[53,4,27,4],[54,4,28,4],[54,10,28,10,"ctx"],[54,13,28,13],[54,16,28,16,"canvas"],[54,22,28,22],[54,23,28,23,"getContext"],[54,33,28,33],[54,34,28,34,"contextType"],[54,45,28,45],[54,47,28,47],[54,48,28,48,"contextOptions"],[54,62,28,62],[54,67,28,67],[54,71,28,71],[54,75,28,75,"contextOptions"],[54,89,28,89],[54,94,28,94],[54,99,28,99],[54,100,28,100],[54,103,28,103],[54,108,28,108],[54,109,28,109],[54,112,28,112,"contextOptions"],[54,126,28,126],[54,127,28,127,"contextAttributes"],[54,144,28,144],[54,149,28,149],[54,150,28,150],[54,151,28,151],[54,152,28,152],[55,4,29,4],[55,8,29,8,"ctx"],[55,11,29,11],[55,15,29,15],[55,19,29,19],[55,21,29,21],[56,6,30,8],[56,12,30,14],[56,16,30,18,"Error"],[56,21,30,23],[56,22,30,24],[56,56,30,58,"contextType"],[56,67,30,69],[56,75,30,77],[56,76,30,78],[57,4,31,4],[58,4,32,4],[58,10,32,10],[58,11,32,11,"height"],[58,17,32,17],[58,19,32,19,"width"],[58,24,32,24],[58,25,32,25],[58,28,32,28,"image"],[58,33,32,33],[58,34,32,34,"shape"],[58,39,32,39],[58,40,32,40,"slice"],[58,45,32,45],[58,46,32,46],[58,47,32,47],[58,49,32,49],[58,50,32,50],[58,51,32,51],[59,4,33,4],[59,10,33,10,"depth"],[59,15,33,15],[59,18,33,18,"image"],[59,23,33,23],[59,24,33,24,"shape"],[59,29,33,29],[59,30,33,30,"length"],[59,36,33,36],[59,41,33,41],[59,42,33,42],[59,45,33,45],[59,46,33,46],[59,49,33,49,"image"],[59,54,33,54],[59,55,33,55,"shape"],[59,60,33,60],[59,61,33,61],[59,62,33,62],[59,63,33,63],[60,4,34,4],[60,10,34,10,"data"],[60,14,34,14],[60,17,34,17,"backend"],[60,24,34,24],[60,25,34,25,"data"],[60,29,34,29],[60,30,34,30,"get"],[60,33,34,33],[60,34,34,34,"image"],[60,39,34,39],[60,40,34,40,"dataId"],[60,46,34,46],[60,47,34,47],[60,48,34,48,"values"],[60,54,34,54],[61,4,35,4],[61,10,35,10,"multiplier"],[61,20,35,20],[61,23,35,23,"image"],[61,28,35,28],[61,29,35,29,"dtype"],[61,34,35,34],[61,39,35,39],[61,48,35,48],[61,51,35,51],[61,54,35,54],[61,57,35,57],[61,58,35,58],[62,4,36,4],[62,10,36,10,"bytes"],[62,15,36,15],[62,18,36,18],[62,22,36,22,"Uint8ClampedArray"],[62,39,36,39],[62,40,36,40,"width"],[62,45,36,45],[62,48,36,48,"height"],[62,54,36,54],[62,57,36,57],[62,58,36,58],[62,59,36,59],[63,4,37,4],[63,9,37,9],[63,13,37,13,"i"],[63,14,37,14],[63,17,37,17],[63,18,37,18],[63,20,37,20,"i"],[63,21,37,21],[63,24,37,24,"height"],[63,30,37,30],[63,33,37,33,"width"],[63,38,37,38],[63,40,37,40],[63,42,37,42,"i"],[63,43,37,43],[63,45,37,45],[64,6,38,8],[64,12,38,14,"rgba"],[64,16,38,18],[64,19,38,21],[64,20,38,22],[64,21,38,23],[64,23,38,25],[64,24,38,26],[64,26,38,28],[64,27,38,29],[64,29,38,31],[64,32,38,34],[64,35,38,37,"alpha"],[64,40,38,42],[64,41,38,43],[65,6,39,8],[65,11,39,13],[65,15,39,17,"d"],[65,16,39,18],[65,19,39,21],[65,20,39,22],[65,22,39,24,"d"],[65,23,39,25],[65,26,39,28,"depth"],[65,31,39,33],[65,33,39,35,"d"],[65,34,39,36],[65,36,39,38],[65,38,39,40],[66,8,40,12],[66,14,40,18,"value"],[66,19,40,23],[66,22,40,26,"data"],[66,26,40,30],[66,27,40,31,"i"],[66,28,40,32],[66,31,40,35,"depth"],[66,36,40,40],[66,39,40,43,"d"],[66,40,40,44],[66,41,40,45],[67,8,41,12],[67,12,41,16,"image"],[67,17,41,21],[67,18,41,22,"dtype"],[67,23,41,27],[67,28,41,32],[67,37,41,41],[67,39,41,43],[68,10,42,16],[68,14,42,20,"value"],[68,19,42,25],[68,22,42,28],[68,23,42,29],[68,27,42,33,"value"],[68,32,42,38],[68,35,42,41],[68,36,42,42],[68,38,42,44],[69,12,43,20],[69,18,43,26],[69,22,43,30,"Error"],[69,27,43,35],[69,28,43,36],[69,80,43,88],[69,83,44,24],[69,116,44,57,"value"],[69,121,44,62],[69,124,44,65],[69,125,44,66],[70,10,45,16],[71,8,46,12],[71,9,46,13],[71,15,47,17],[71,19,47,21,"image"],[71,24,47,26],[71,25,47,27,"dtype"],[71,30,47,32],[71,35,47,37],[71,42,47,44],[71,44,47,46],[72,10,48,16],[72,14,48,20,"value"],[72,19,48,25],[72,22,48,28],[72,23,48,29],[72,27,48,33,"value"],[72,32,48,38],[72,35,48,41],[72,38,48,44],[72,40,48,46],[73,12,49,20],[73,18,49,26],[73,22,49,30,"Error"],[73,27,49,35],[73,28,49,36],[73,78,49,86],[73,81,50,24],[73,116,50,59,"value"],[73,121,50,64],[73,124,50,67],[73,125,50,68],[74,10,51,16],[75,8,52,12],[76,8,53,12],[76,12,53,16,"depth"],[76,17,53,21],[76,22,53,26],[76,23,53,27],[76,25,53,29],[77,10,54,16,"rgba"],[77,14,54,20],[77,15,54,21],[77,16,54,22],[77,17,54,23],[77,20,54,26,"value"],[77,25,54,31],[77,28,54,34,"multiplier"],[77,38,54,44],[78,10,55,16,"rgba"],[78,14,55,20],[78,15,55,21],[78,16,55,22],[78,17,55,23],[78,20,55,26,"value"],[78,25,55,31],[78,28,55,34,"multiplier"],[78,38,55,44],[79,10,56,16,"rgba"],[79,14,56,20],[79,15,56,21],[79,16,56,22],[79,17,56,23],[79,20,56,26,"value"],[79,25,56,31],[79,28,56,34,"multiplier"],[79,38,56,44],[80,8,57,12],[80,9,57,13],[80,15,58,17],[81,10,59,16,"rgba"],[81,14,59,20],[81,15,59,21,"d"],[81,16,59,22],[81,17,59,23],[81,20,59,26,"value"],[81,25,59,31],[81,28,59,34,"multiplier"],[81,38,59,44],[82,8,60,12],[83,6,61,8],[84,6,62,8],[84,12,62,14,"j"],[84,13,62,15],[84,16,62,18,"i"],[84,17,62,19],[84,20,62,22],[84,21,62,23],[85,6,63,8,"bytes"],[85,11,63,13],[85,12,63,14,"j"],[85,13,63,15],[85,16,63,18],[85,17,63,19],[85,18,63,20],[85,21,63,23,"Math"],[85,25,63,27],[85,26,63,28,"round"],[85,31,63,33],[85,32,63,34,"rgba"],[85,36,63,38],[85,37,63,39],[85,38,63,40],[85,39,63,41],[85,40,63,42],[86,6,64,8,"bytes"],[86,11,64,13],[86,12,64,14,"j"],[86,13,64,15],[86,16,64,18],[86,17,64,19],[86,18,64,20],[86,21,64,23,"Math"],[86,25,64,27],[86,26,64,28,"round"],[86,31,64,33],[86,32,64,34,"rgba"],[86,36,64,38],[86,37,64,39],[86,38,64,40],[86,39,64,41],[86,40,64,42],[87,6,65,8,"bytes"],[87,11,65,13],[87,12,65,14,"j"],[87,13,65,15],[87,16,65,18],[87,17,65,19],[87,18,65,20],[87,21,65,23,"Math"],[87,25,65,27],[87,26,65,28,"round"],[87,31,65,33],[87,32,65,34,"rgba"],[87,36,65,38],[87,37,65,39],[87,38,65,40],[87,39,65,41],[87,40,65,42],[88,6,66,8,"bytes"],[88,11,66,13],[88,12,66,14,"j"],[88,13,66,15],[88,16,66,18],[88,17,66,19],[88,18,66,20],[88,21,66,23,"Math"],[88,25,66,27],[88,26,66,28,"round"],[88,31,66,33],[88,32,66,34,"rgba"],[88,36,66,38],[88,37,66,39],[88,38,66,40],[88,39,66,41],[88,40,66,42],[89,4,67,4],[90,4,68,4,"canvas"],[90,10,68,10],[90,11,68,11,"width"],[90,16,68,16],[90,19,68,19,"width"],[90,24,68,24],[91,4,69,4,"canvas"],[91,10,69,10],[91,11,69,11,"height"],[91,17,69,17],[91,20,69,20,"height"],[91,26,69,26],[92,4,70,4],[92,10,70,10,"imageData"],[92,19,70,19],[92,22,70,22],[92,26,70,26,"ImageData"],[92,35,70,35],[92,36,70,36,"bytes"],[92,41,70,41],[92,43,70,43,"width"],[92,48,70,48],[92,50,70,50,"height"],[92,56,70,56],[92,57,70,57],[93,4,71,4,"ctx"],[93,7,71,7],[93,8,71,8,"putImageData"],[93,20,71,20],[93,21,71,21,"imageData"],[93,30,71,30],[93,32,71,32],[93,33,71,33],[93,35,71,35],[93,36,71,36],[93,37,71,37],[94,4,72,4],[94,11,72,11,"image"],[94,16,72,16],[95,2,73,0],[96,2,74,7],[96,8,74,13,"drawConfig"],[96,18,74,23],[96,21,74,26],[97,4,75,4,"kernelName"],[97,14,75,14],[97,16,75,16,"Draw"],[97,35,75,20],[97,36,75,20,"Draw"],[97,40,75,20],[98,4,76,4,"backendName"],[98,15,76,15],[98,17,76,17],[98,22,76,22],[99,4,77,4,"kernelFunc"],[99,14,77,14],[99,16,77,16,"draw"],[100,2,78,0],[100,3,78,1],[101,0,78,2],[101,3]],"functionMap":{"names":["<global>","draw"],"mappings":"AAA;OCiB;CDuD"},"hasCjsExports":false},"type":"js/module"}]}