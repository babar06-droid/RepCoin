{"dependencies":[{"name":"../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":32,"index":735}}],"key":"DTmef1GE5grNQfsvpIzpBlINy9c=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.getNoiseShape = getNoiseShape;\n  var _util = require(_dependencyMap[0], \"../util\");\n  var util = _interopNamespace(_util);\n  /**\n   * @license\n   * Copyright 2019 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Normalize noise shape based on provided tensor and noise shape.\n   *\n   * @param x Tensor.\n   * @param noiseShape The shape for the randomly generated keep/drop flags, as\n   *   an array of numbers. Optional.\n   * @returns Normalized noise shape.\n   */\n  function getNoiseShape(x, noiseShape) {\n    if (noiseShape == null) {\n      return x.shape.slice();\n    }\n    if (util.arraysEqual(x.shape, noiseShape)) {\n      return noiseShape;\n    }\n    if (x.shape.length === noiseShape.length) {\n      const newDimension = [];\n      for (let i = 0; i < x.shape.length; i++) {\n        if (noiseShape[i] == null && x.shape[i] != null) {\n          newDimension.push(x.shape[i]);\n        } else {\n          newDimension.push(noiseShape[i]);\n        }\n      }\n      return newDimension;\n    }\n    return noiseShape;\n  }\n});","lineCount":70,"map":[[22,2,26,0,"exports"],[22,9,26,0],[22,10,26,0,"getNoiseShape"],[22,23,26,0],[22,26,26,0,"getNoiseShape"],[22,39,26,0],[23,2,17,0],[23,6,17,0,"_util"],[23,11,17,0],[23,14,17,0,"require"],[23,21,17,0],[23,22,17,0,"_dependencyMap"],[23,36,17,0],[24,2,17,0],[24,6,17,0,"util"],[24,10,17,0],[24,13,17,0,"_interopNamespace"],[24,30,17,0],[24,31,17,0,"_util"],[24,36,17,0],[25,2,1,0],[26,0,2,0],[27,0,3,0],[28,0,4,0],[29,0,5,0],[30,0,6,0],[31,0,7,0],[32,0,8,0],[33,0,9,0],[34,0,10,0],[35,0,11,0],[36,0,12,0],[37,0,13,0],[38,0,14,0],[39,0,15,0],[40,0,16,0],[42,2,18,0],[43,0,19,0],[44,0,20,0],[45,0,21,0],[46,0,22,0],[47,0,23,0],[48,0,24,0],[49,0,25,0],[50,2,26,7],[50,11,26,16,"getNoiseShape"],[50,24,26,29,"getNoiseShape"],[50,25,26,30,"x"],[50,26,26,31],[50,28,26,33,"noiseShape"],[50,38,26,43],[50,40,26,45],[51,4,27,4],[51,8,27,8,"noiseShape"],[51,18,27,18],[51,22,27,22],[51,26,27,26],[51,28,27,28],[52,6,28,8],[52,13,28,15,"x"],[52,14,28,16],[52,15,28,17,"shape"],[52,20,28,22],[52,21,28,23,"slice"],[52,26,28,28],[52,27,28,29],[52,28,28,30],[53,4,29,4],[54,4,30,4],[54,8,30,8,"util"],[54,12,30,12],[54,13,30,13,"arraysEqual"],[54,24,30,24],[54,25,30,25,"x"],[54,26,30,26],[54,27,30,27,"shape"],[54,32,30,32],[54,34,30,34,"noiseShape"],[54,44,30,44],[54,45,30,45],[54,47,30,47],[55,6,31,8],[55,13,31,15,"noiseShape"],[55,23,31,25],[56,4,32,4],[57,4,33,4],[57,8,33,8,"x"],[57,9,33,9],[57,10,33,10,"shape"],[57,15,33,15],[57,16,33,16,"length"],[57,22,33,22],[57,27,33,27,"noiseShape"],[57,37,33,37],[57,38,33,38,"length"],[57,44,33,44],[57,46,33,46],[58,6,34,8],[58,12,34,14,"newDimension"],[58,24,34,26],[58,27,34,29],[58,29,34,31],[59,6,35,8],[59,11,35,13],[59,15,35,17,"i"],[59,16,35,18],[59,19,35,21],[59,20,35,22],[59,22,35,24,"i"],[59,23,35,25],[59,26,35,28,"x"],[59,27,35,29],[59,28,35,30,"shape"],[59,33,35,35],[59,34,35,36,"length"],[59,40,35,42],[59,42,35,44,"i"],[59,43,35,45],[59,45,35,47],[59,47,35,49],[60,8,36,12],[60,12,36,16,"noiseShape"],[60,22,36,26],[60,23,36,27,"i"],[60,24,36,28],[60,25,36,29],[60,29,36,33],[60,33,36,37],[60,37,36,41,"x"],[60,38,36,42],[60,39,36,43,"shape"],[60,44,36,48],[60,45,36,49,"i"],[60,46,36,50],[60,47,36,51],[60,51,36,55],[60,55,36,59],[60,57,36,61],[61,10,37,16,"newDimension"],[61,22,37,28],[61,23,37,29,"push"],[61,27,37,33],[61,28,37,34,"x"],[61,29,37,35],[61,30,37,36,"shape"],[61,35,37,41],[61,36,37,42,"i"],[61,37,37,43],[61,38,37,44],[61,39,37,45],[62,8,38,12],[62,9,38,13],[62,15,39,17],[63,10,40,16,"newDimension"],[63,22,40,28],[63,23,40,29,"push"],[63,27,40,33],[63,28,40,34,"noiseShape"],[63,38,40,44],[63,39,40,45,"i"],[63,40,40,46],[63,41,40,47],[63,42,40,48],[64,8,41,12],[65,6,42,8],[66,6,43,8],[66,13,43,15,"newDimension"],[66,25,43,27],[67,4,44,4],[68,4,45,4],[68,11,45,11,"noiseShape"],[68,21,45,21],[69,2,46,0],[70,0,46,1],[70,3]],"functionMap":{"names":["<global>","getNoiseShape"],"mappings":"AAA;OCyB;CDoB"},"hasCjsExports":false},"type":"js/module"}]}