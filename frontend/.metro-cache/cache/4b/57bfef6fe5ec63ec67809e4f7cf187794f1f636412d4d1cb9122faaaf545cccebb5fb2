{"dependencies":[{"name":"../../glsl_version","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":56,"index":759}}],"key":"CfC7kCfgAWNN5HTUbsOGGp1KQ0g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"FromPixelsPackedProgram\", {\n    enumerable: true,\n    get: function () {\n      return FromPixelsPackedProgram;\n    }\n  });\n  var _glsl_version = require(_dependencyMap[0], \"../../glsl_version\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  class FromPixelsPackedProgram {\n    constructor(outputShape) {\n      this.variableNames = ['A'];\n      this.packedInputs = false;\n      this.packedOutput = true;\n      const glsl = (0, _glsl_version.getGlslDifferences)();\n      const [height, width] = outputShape;\n      this.outputShape = outputShape;\n      this.userCode = `\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${width}.0, ${height}.0);\n            vec4 values = ${glsl.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${glsl.output} = result;\n      }\n    `;\n    }\n  }\n});","lineCount":76,"map":[[7,2,18,0,"Object"],[7,8,18,0],[7,9,18,0,"defineProperty"],[7,23,18,0],[7,24,18,0,"exports"],[7,31,18,0],[8,4,18,0,"enumerable"],[8,14,18,0],[9,4,18,0,"get"],[9,7,18,0],[9,18,18,0,"get"],[9,19,18,0],[10,6,18,0],[10,13,18,0,"FromPixelsPackedProgram"],[10,36,18,0],[11,4,18,0],[12,2,18,0],[13,2,17,0],[13,6,17,0,"_glsl_version"],[13,19,17,0],[13,22,17,0,"require"],[13,29,17,0],[13,30,17,0,"_dependencyMap"],[13,44,17,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[18,0,5,0],[19,0,6,0],[20,0,7,0],[21,0,8,0],[22,0,9,0],[23,0,10,0],[24,0,11,0],[25,0,12,0],[26,0,13,0],[27,0,14,0],[28,0,15,0],[29,0,16,0],[31,2,18,7],[31,8,18,13,"FromPixelsPackedProgram"],[31,31,18,36],[31,32,18,37],[32,4,19,4,"constructor"],[32,15,19,15,"constructor"],[32,16,19,16,"outputShape"],[32,27,19,27],[32,29,19,29],[33,6,20,8],[33,10,20,12],[33,11,20,13,"variableNames"],[33,24,20,26],[33,27,20,29],[33,28,20,30],[33,31,20,33],[33,32,20,34],[34,6,21,8],[34,10,21,12],[34,11,21,13,"packedInputs"],[34,23,21,25],[34,26,21,28],[34,31,21,33],[35,6,22,8],[35,10,22,12],[35,11,22,13,"packedOutput"],[35,23,22,25],[35,26,22,28],[35,30,22,32],[36,6,23,8],[36,12,23,14,"glsl"],[36,16,23,18],[36,19,23,21],[36,23,23,21,"getGlslDifferences"],[36,36,23,39],[36,37,23,39,"getGlslDifferences"],[36,55,23,39],[36,57,23,40],[36,58,23,41],[37,6,24,8],[37,12,24,14],[37,13,24,15,"height"],[37,19,24,21],[37,21,24,23,"width"],[37,26,24,28],[37,27,24,30],[37,30,24,33,"outputShape"],[37,41,24,44],[38,6,25,8],[38,10,25,12],[38,11,25,13,"outputShape"],[38,22,25,24],[38,25,25,27,"outputShape"],[38,36,25,38],[39,6,26,8],[39,10,26,12],[39,11,26,13,"userCode"],[39,19,26,21],[39,22,26,24],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,0,41,0],[54,30,41,30,"width"],[54,35,41,35],[54,42,41,42,"height"],[54,48,41,48],[55,0,42,0],[55,28,42,28,"glsl"],[55,32,42,32],[55,33,42,33,"texture2D"],[55,42,42,42],[56,0,43,0],[57,0,44,0],[58,0,45,0],[59,0,46,0],[60,0,47,0],[61,0,48,0],[62,0,49,0],[63,0,50,0],[64,0,51,0],[65,0,52,0],[66,0,53,0],[67,0,54,0],[68,0,55,0],[69,0,56,0],[70,0,57,0],[71,0,58,0],[71,10,58,10,"glsl"],[71,14,58,14],[71,15,58,15,"output"],[71,21,58,21],[72,0,59,0],[73,0,60,0],[73,5,60,5],[74,4,61,4],[75,2,62,0],[76,0,62,1],[76,3]],"functionMap":{"names":["<global>","FromPixelsPackedProgram","FromPixelsPackedProgram#constructor"],"mappings":"AAA;OCiB;ICC;KD0C;CDC"},"hasCjsExports":false},"type":"js/module"}]}