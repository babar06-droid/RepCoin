{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":53,"index":756}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../cpu_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":757},"end":{"line":18,"column":47,"index":804}}],"key":"5L5S4GXlh/uJh1MrXQbkPSVOWm4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.oneHot = oneHot;\n  Object.defineProperty(exports, \"oneHotConfig\", {\n    enumerable: true,\n    get: function () {\n      return oneHotConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _cpu_util = require(_dependencyMap[1], \"../cpu_util\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function oneHot(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      indices\n    } = inputs;\n    const {\n      dtype,\n      depth,\n      onValue,\n      offValue\n    } = attrs;\n    (0, _cpu_util.assertNotComplex)(indices, 'oneHot');\n    const indicesSize = _tensorflowTfjsCore.util.sizeFromShape(indices.shape);\n    const res = new Float32Array(indicesSize * depth);\n    res.fill(offValue);\n    const indicesVal = backend.data.get(indices.dataId).values;\n    for (let event = 0; event < indicesSize; ++event) {\n      if (indicesVal[event] >= 0 && indicesVal[event] < depth) {\n        res[event * depth + indicesVal[event]] = onValue;\n      }\n    }\n    return backend.makeTensorInfo([...indices.shape, depth], dtype, res);\n  }\n  const oneHotConfig = {\n    kernelName: _tensorflowTfjsCore.OneHot,\n    backendName: 'cpu',\n    kernelFunc: oneHot\n  };\n});","lineCount":65,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"oneHot"],[7,16,19,0],[7,19,19,0,"oneHot"],[7,25,19,0],[8,2,35,0,"Object"],[8,8,35,0],[8,9,35,0,"defineProperty"],[8,23,35,0],[8,24,35,0,"exports"],[8,31,35,0],[9,4,35,0,"enumerable"],[9,14,35,0],[10,4,35,0,"get"],[10,7,35,0],[10,18,35,0,"get"],[10,19,35,0],[11,6,35,0],[11,13,35,0,"oneHotConfig"],[11,25,35,0],[12,4,35,0],[13,2,35,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_cpu_util"],[15,15,18,0],[15,18,18,0,"require"],[15,25,18,0],[15,26,18,0,"_dependencyMap"],[15,40,18,0],[16,2,1,0],[17,0,2,0],[18,0,3,0],[19,0,4,0],[20,0,5,0],[21,0,6,0],[22,0,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,0,14,0],[30,0,15,0],[31,0,16,0],[33,2,19,7],[33,11,19,16,"oneHot"],[33,17,19,22,"oneHot"],[33,18,19,23,"args"],[33,22,19,27],[33,24,19,29],[34,4,20,4],[34,10,20,10],[35,6,20,12,"inputs"],[35,12,20,18],[36,6,20,20,"backend"],[36,13,20,27],[37,6,20,29,"attrs"],[38,4,20,35],[38,5,20,36],[38,8,20,39,"args"],[38,12,20,43],[39,4,21,4],[39,10,21,10],[40,6,21,12,"indices"],[41,4,21,20],[41,5,21,21],[41,8,21,24,"inputs"],[41,14,21,30],[42,4,22,4],[42,10,22,10],[43,6,22,12,"dtype"],[43,11,22,17],[44,6,22,19,"depth"],[44,11,22,24],[45,6,22,26,"onValue"],[45,13,22,33],[46,6,22,35,"offValue"],[47,4,22,44],[47,5,22,45],[47,8,22,48,"attrs"],[47,13,22,53],[48,4,23,4],[48,8,23,4,"assertNotComplex"],[48,17,23,20],[48,18,23,20,"assertNotComplex"],[48,34,23,20],[48,36,23,21,"indices"],[48,43,23,28],[48,45,23,30],[48,53,23,38],[48,54,23,39],[49,4,24,4],[49,10,24,10,"indicesSize"],[49,21,24,21],[49,24,24,24,"util"],[49,43,24,28],[49,44,24,28,"util"],[49,48,24,28],[49,49,24,29,"sizeFromShape"],[49,62,24,42],[49,63,24,43,"indices"],[49,70,24,50],[49,71,24,51,"shape"],[49,76,24,56],[49,77,24,57],[50,4,25,4],[50,10,25,10,"res"],[50,13,25,13],[50,16,25,16],[50,20,25,20,"Float32Array"],[50,32,25,32],[50,33,25,33,"indicesSize"],[50,44,25,44],[50,47,25,47,"depth"],[50,52,25,52],[50,53,25,53],[51,4,26,4,"res"],[51,7,26,7],[51,8,26,8,"fill"],[51,12,26,12],[51,13,26,13,"offValue"],[51,21,26,21],[51,22,26,22],[52,4,27,4],[52,10,27,10,"indicesVal"],[52,20,27,20],[52,23,27,23,"backend"],[52,30,27,30],[52,31,27,31,"data"],[52,35,27,35],[52,36,27,36,"get"],[52,39,27,39],[52,40,27,40,"indices"],[52,47,27,47],[52,48,27,48,"dataId"],[52,54,27,54],[52,55,27,55],[52,56,27,56,"values"],[52,62,27,62],[53,4,28,4],[53,9,28,9],[53,13,28,13,"event"],[53,18,28,18],[53,21,28,21],[53,22,28,22],[53,24,28,24,"event"],[53,29,28,29],[53,32,28,32,"indicesSize"],[53,43,28,43],[53,45,28,45],[53,47,28,47,"event"],[53,52,28,52],[53,54,28,54],[54,6,29,8],[54,10,29,12,"indicesVal"],[54,20,29,22],[54,21,29,23,"event"],[54,26,29,28],[54,27,29,29],[54,31,29,33],[54,32,29,34],[54,36,29,38,"indicesVal"],[54,46,29,48],[54,47,29,49,"event"],[54,52,29,54],[54,53,29,55],[54,56,29,58,"depth"],[54,61,29,63],[54,63,29,65],[55,8,30,12,"res"],[55,11,30,15],[55,12,30,16,"event"],[55,17,30,21],[55,20,30,24,"depth"],[55,25,30,29],[55,28,30,32,"indicesVal"],[55,38,30,42],[55,39,30,43,"event"],[55,44,30,48],[55,45,30,49],[55,46,30,50],[55,49,30,53,"onValue"],[55,56,30,60],[56,6,31,8],[57,4,32,4],[58,4,33,4],[58,11,33,11,"backend"],[58,18,33,18],[58,19,33,19,"makeTensorInfo"],[58,33,33,33],[58,34,33,34],[58,35,33,35],[58,38,33,38,"indices"],[58,45,33,45],[58,46,33,46,"shape"],[58,51,33,51],[58,53,33,53,"depth"],[58,58,33,58],[58,59,33,59],[58,61,33,61,"dtype"],[58,66,33,66],[58,68,33,68,"res"],[58,71,33,71],[58,72,33,72],[59,2,34,0],[60,2,35,7],[60,8,35,13,"oneHotConfig"],[60,20,35,25],[60,23,35,28],[61,4,36,4,"kernelName"],[61,14,36,14],[61,16,36,16,"OneHot"],[61,35,36,22],[61,36,36,22,"OneHot"],[61,42,36,22],[62,4,37,4,"backendName"],[62,15,37,15],[62,17,37,17],[62,22,37,22],[63,4,38,4,"kernelFunc"],[63,14,38,14],[63,16,38,16,"oneHot"],[64,2,39,0],[64,3,39,1],[65,0,39,2],[65,3]],"functionMap":{"names":["<global>","oneHot"],"mappings":"AAA;OCkB;CDe"},"hasCjsExports":false},"type":"js/module"}]}