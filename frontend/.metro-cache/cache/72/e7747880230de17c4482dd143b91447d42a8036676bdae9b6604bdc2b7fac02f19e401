{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":59,"index":762}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/shared","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":763},"end":{"line":18,"column":53,"index":816}}],"key":"JzS9qfQGP0NvwhobUV8d6bPV3h4=","exportNames":["*"],"imports":1}},{"name":"../tile_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":817},"end":{"line":19,"column":42,"index":859}}],"key":"7U9YDoHuvDFYS1p/kTACRAlewrU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.tile = tile;\n  Object.defineProperty(exports, \"tileConfig\", {\n    enumerable: true,\n    get: function () {\n      return tileConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _kernel_utilsShared = require(_dependencyMap[1], \"../kernel_utils/shared\");\n  var _tile_gpu = require(_dependencyMap[2], \"../tile_gpu\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function tile(params) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = params;\n    const {\n      x\n    } = inputs;\n    const {\n      reps\n    } = attrs;\n    // tile gpu program cannot handle rank > 5 case.\n    if (x.dtype === 'string' || x.shape.length > 5) {\n      // Even thought string tensor is always on CPU, just to be consistent on how\n      // to access tensor data.\n      const data = backend.readSync(x.dataId);\n      const value = x.dtype === 'string' ? data.map(d => _tensorflowTfjsCore.util.decodeString(d)) : data;\n      const buf = (0, _tensorflowTfjsCore.buffer)(x.shape, x.dtype, value);\n      const outBuf = (0, _kernel_utilsShared.tileImplCPU)(buf, reps);\n      return backend.makeTensorInfo(outBuf.shape, outBuf.dtype, outBuf.values);\n    }\n    const program = new _tile_gpu.TileProgram(x.shape, reps);\n    const output = backend.runWebGLProgram(program, [x], x.dtype);\n    return output;\n  }\n  const tileConfig = {\n    kernelName: _tensorflowTfjsCore.Tile,\n    backendName: 'webgl',\n    kernelFunc: tile\n  };\n});","lineCount":65,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"tile"],[7,14,20,0],[7,17,20,0,"tile"],[7,21,20,0],[8,2,40,0,"Object"],[8,8,40,0],[8,9,40,0,"defineProperty"],[8,23,40,0],[8,24,40,0,"exports"],[8,31,40,0],[9,4,40,0,"enumerable"],[9,14,40,0],[10,4,40,0,"get"],[10,7,40,0],[10,18,40,0,"get"],[10,19,40,0],[11,6,40,0],[11,13,40,0,"tileConfig"],[11,23,40,0],[12,4,40,0],[13,2,40,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_kernel_utilsShared"],[15,25,18,0],[15,28,18,0,"require"],[15,35,18,0],[15,36,18,0,"_dependencyMap"],[15,50,18,0],[16,2,19,0],[16,6,19,0,"_tile_gpu"],[16,15,19,0],[16,18,19,0,"require"],[16,25,19,0],[16,26,19,0,"_dependencyMap"],[16,40,19,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[34,2,20,7],[34,11,20,16,"tile"],[34,15,20,20,"tile"],[34,16,20,21,"params"],[34,22,20,27],[34,24,20,29],[35,4,21,4],[35,10,21,10],[36,6,21,12,"inputs"],[36,12,21,18],[37,6,21,20,"backend"],[37,13,21,27],[38,6,21,29,"attrs"],[39,4,21,35],[39,5,21,36],[39,8,21,39,"params"],[39,14,21,45],[40,4,22,4],[40,10,22,10],[41,6,22,12,"x"],[42,4,22,14],[42,5,22,15],[42,8,22,18,"inputs"],[42,14,22,24],[43,4,23,4],[43,10,23,10],[44,6,23,12,"reps"],[45,4,23,17],[45,5,23,18],[45,8,23,21,"attrs"],[45,13,23,26],[46,4,24,4],[47,4,25,4],[47,8,25,8,"x"],[47,9,25,9],[47,10,25,10,"dtype"],[47,15,25,15],[47,20,25,20],[47,28,25,28],[47,32,25,32,"x"],[47,33,25,33],[47,34,25,34,"shape"],[47,39,25,39],[47,40,25,40,"length"],[47,46,25,46],[47,49,25,49],[47,50,25,50],[47,52,25,52],[48,6,26,8],[49,6,27,8],[50,6,28,8],[50,12,28,14,"data"],[50,16,28,18],[50,19,28,21,"backend"],[50,26,28,28],[50,27,28,29,"readSync"],[50,35,28,37],[50,36,28,38,"x"],[50,37,28,39],[50,38,28,40,"dataId"],[50,44,28,46],[50,45,28,47],[51,6,29,8],[51,12,29,14,"value"],[51,17,29,19],[51,20,29,22,"x"],[51,21,29,23],[51,22,29,24,"dtype"],[51,27,29,29],[51,32,29,34],[51,40,29,42],[51,43,30,12,"data"],[51,47,30,16],[51,48,30,17,"map"],[51,51,30,20],[51,52,30,21,"d"],[51,53,30,22],[51,57,30,26,"util"],[51,76,30,30],[51,77,30,30,"util"],[51,81,30,30],[51,82,30,31,"decodeString"],[51,94,30,43],[51,95,30,44,"d"],[51,96,30,45],[51,97,30,46],[51,98,30,47],[51,101,31,12,"data"],[51,105,31,16],[52,6,32,8],[52,12,32,14,"buf"],[52,15,32,17],[52,18,32,20],[52,22,32,20,"buffer"],[52,41,32,26],[52,42,32,26,"buffer"],[52,48,32,26],[52,50,32,27,"x"],[52,51,32,28],[52,52,32,29,"shape"],[52,57,32,34],[52,59,32,36,"x"],[52,60,32,37],[52,61,32,38,"dtype"],[52,66,32,43],[52,68,32,45,"value"],[52,73,32,50],[52,74,32,51],[53,6,33,8],[53,12,33,14,"outBuf"],[53,18,33,20],[53,21,33,23],[53,25,33,23,"tileImplCPU"],[53,44,33,34],[53,45,33,34,"tileImplCPU"],[53,56,33,34],[53,58,33,35,"buf"],[53,61,33,38],[53,63,33,40,"reps"],[53,67,33,44],[53,68,33,45],[54,6,34,8],[54,13,34,15,"backend"],[54,20,34,22],[54,21,34,23,"makeTensorInfo"],[54,35,34,37],[54,36,34,38,"outBuf"],[54,42,34,44],[54,43,34,45,"shape"],[54,48,34,50],[54,50,34,52,"outBuf"],[54,56,34,58],[54,57,34,59,"dtype"],[54,62,34,64],[54,64,34,66,"outBuf"],[54,70,34,72],[54,71,34,73,"values"],[54,77,34,79],[54,78,34,80],[55,4,35,4],[56,4,36,4],[56,10,36,10,"program"],[56,17,36,17],[56,20,36,20],[56,24,36,24,"TileProgram"],[56,33,36,35],[56,34,36,35,"TileProgram"],[56,45,36,35],[56,46,36,36,"x"],[56,47,36,37],[56,48,36,38,"shape"],[56,53,36,43],[56,55,36,45,"reps"],[56,59,36,49],[56,60,36,50],[57,4,37,4],[57,10,37,10,"output"],[57,16,37,16],[57,19,37,19,"backend"],[57,26,37,26],[57,27,37,27,"runWebGLProgram"],[57,42,37,42],[57,43,37,43,"program"],[57,50,37,50],[57,52,37,52],[57,53,37,53,"x"],[57,54,37,54],[57,55,37,55],[57,57,37,57,"x"],[57,58,37,58],[57,59,37,59,"dtype"],[57,64,37,64],[57,65,37,65],[58,4,38,4],[58,11,38,11,"output"],[58,17,38,17],[59,2,39,0],[60,2,40,7],[60,8,40,13,"tileConfig"],[60,18,40,23],[60,21,40,26],[61,4,41,4,"kernelName"],[61,14,41,14],[61,16,41,16,"Tile"],[61,35,41,20],[61,36,41,20,"Tile"],[61,40,41,20],[62,4,42,4,"backendName"],[62,15,42,15],[62,17,42,17],[62,24,42,24],[63,4,43,4,"kernelFunc"],[63,14,43,14],[63,16,43,16,"tile"],[64,2,44,0],[64,3,44,1],[65,0,44,2],[65,3]],"functionMap":{"names":["<global>","tile","data.map$argument_0"],"mappings":"AAA;OCmB;qBCU,yBD;CDS"},"hasCjsExports":false},"type":"js/module"}]}