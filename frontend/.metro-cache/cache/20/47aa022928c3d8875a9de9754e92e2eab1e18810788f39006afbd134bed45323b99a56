{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":45,"index":748}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../fft_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":749},"end":{"line":18,"column":40,"index":789}}],"key":"SKCKPU7CDdW4whTKu95s7DWGIeY=","exportNames":["*"],"imports":1}},{"name":"./Complex","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":790},"end":{"line":19,"column":36,"index":826}}],"key":"Bysb0JPMWrey4b1smc9YxxmirUY=","exportNames":["*"],"imports":1}},{"name":"./Reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":827},"end":{"line":20,"column":36,"index":863}}],"key":"EUWK+oKi/AwokPOQ1jng5DYfQSc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.fftImpl = fftImpl;\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _fft_gpu = require(_dependencyMap[1], \"../fft_gpu\");\n  var _Complex = require(_dependencyMap[2], \"./Complex\");\n  var _Reshape = require(_dependencyMap[3], \"./Reshape\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function fftImpl(x, inverse, backend) {\n    const xData = backend.texData.get(x.dataId);\n    const inputSize = _tensorflowTfjsCore.util.sizeFromShape(x.shape);\n    // Collapse all outer dimensions to a single batch dimension.\n    const innerDimensionSize = x.shape[x.shape.length - 1];\n    const batch = inputSize / innerDimensionSize;\n    const input2D = (0, _Reshape.reshape)({\n      inputs: {\n        x\n      },\n      backend,\n      attrs: {\n        shape: [batch, innerDimensionSize]\n      }\n    });\n    const xShape = input2D.shape;\n    const realProgram = new _fft_gpu.FFTProgram('real', xShape, inverse);\n    const imagProgram = new _fft_gpu.FFTProgram('imag', xShape, inverse);\n    const inputs = [{\n      dataId: xData.complexTensorInfos.real.dataId,\n      dtype: xData.complexTensorInfos.real.dtype,\n      shape: xShape\n    }, {\n      dataId: xData.complexTensorInfos.imag.dataId,\n      dtype: xData.complexTensorInfos.imag.dtype,\n      shape: xShape\n    }];\n    const realPart = backend.runWebGLProgram(realProgram, inputs, 'float32');\n    const imagPart = backend.runWebGLProgram(imagProgram, inputs, 'float32');\n    const complexOutput = (0, _Complex.complex)({\n      inputs: {\n        real: realPart,\n        imag: imagPart\n      },\n      backend\n    });\n    backend.disposeIntermediateTensorInfo(realPart);\n    backend.disposeIntermediateTensorInfo(imagPart);\n    const complexOutputReshaped = (0, _Reshape.reshape)({\n      inputs: {\n        x: complexOutput\n      },\n      backend,\n      attrs: {\n        shape: x.shape\n      }\n    });\n    backend.disposeIntermediateTensorInfo(input2D);\n    backend.disposeIntermediateTensorInfo(complexOutput);\n    return complexOutputReshaped;\n  }\n});","lineCount":80,"map":[[7,2,21,0,"exports"],[7,9,21,0],[7,10,21,0,"fftImpl"],[7,17,21,0],[7,20,21,0,"fftImpl"],[7,27,21,0],[8,2,17,0],[8,6,17,0,"_tensorflowTfjsCore"],[8,25,17,0],[8,28,17,0,"require"],[8,35,17,0],[8,36,17,0,"_dependencyMap"],[8,50,17,0],[9,2,18,0],[9,6,18,0,"_fft_gpu"],[9,14,18,0],[9,17,18,0,"require"],[9,24,18,0],[9,25,18,0,"_dependencyMap"],[9,39,18,0],[10,2,19,0],[10,6,19,0,"_Complex"],[10,14,19,0],[10,17,19,0,"require"],[10,24,19,0],[10,25,19,0,"_dependencyMap"],[10,39,19,0],[11,2,20,0],[11,6,20,0,"_Reshape"],[11,14,20,0],[11,17,20,0,"require"],[11,24,20,0],[11,25,20,0,"_dependencyMap"],[11,39,20,0],[12,2,1,0],[13,0,2,0],[14,0,3,0],[15,0,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[29,2,21,7],[29,11,21,16,"fftImpl"],[29,18,21,23,"fftImpl"],[29,19,21,24,"x"],[29,20,21,25],[29,22,21,27,"inverse"],[29,29,21,34],[29,31,21,36,"backend"],[29,38,21,43],[29,40,21,45],[30,4,22,4],[30,10,22,10,"xData"],[30,15,22,15],[30,18,22,18,"backend"],[30,25,22,25],[30,26,22,26,"texData"],[30,33,22,33],[30,34,22,34,"get"],[30,37,22,37],[30,38,22,38,"x"],[30,39,22,39],[30,40,22,40,"dataId"],[30,46,22,46],[30,47,22,47],[31,4,23,4],[31,10,23,10,"inputSize"],[31,19,23,19],[31,22,23,22,"util"],[31,41,23,26],[31,42,23,26,"util"],[31,46,23,26],[31,47,23,27,"sizeFromShape"],[31,60,23,40],[31,61,23,41,"x"],[31,62,23,42],[31,63,23,43,"shape"],[31,68,23,48],[31,69,23,49],[32,4,24,4],[33,4,25,4],[33,10,25,10,"innerDimensionSize"],[33,28,25,28],[33,31,25,31,"x"],[33,32,25,32],[33,33,25,33,"shape"],[33,38,25,38],[33,39,25,39,"x"],[33,40,25,40],[33,41,25,41,"shape"],[33,46,25,46],[33,47,25,47,"length"],[33,53,25,53],[33,56,25,56],[33,57,25,57],[33,58,25,58],[34,4,26,4],[34,10,26,10,"batch"],[34,15,26,15],[34,18,26,18,"inputSize"],[34,27,26,27],[34,30,26,30,"innerDimensionSize"],[34,48,26,48],[35,4,27,4],[35,10,27,10,"input2D"],[35,17,27,17],[35,20,27,20],[35,24,27,20,"reshape"],[35,32,27,27],[35,33,27,27,"reshape"],[35,40,27,27],[35,42,27,28],[36,6,27,30,"inputs"],[36,12,27,36],[36,14,27,38],[37,8,27,40,"x"],[38,6,27,42],[38,7,27,43],[39,6,27,45,"backend"],[39,13,27,52],[40,6,27,54,"attrs"],[40,11,27,59],[40,13,27,61],[41,8,27,63,"shape"],[41,13,27,68],[41,15,27,70],[41,16,27,71,"batch"],[41,21,27,76],[41,23,27,78,"innerDimensionSize"],[41,41,27,96],[42,6,27,98],[43,4,27,100],[43,5,27,101],[43,6,27,102],[44,4,28,4],[44,10,28,10,"xShape"],[44,16,28,16],[44,19,28,19,"input2D"],[44,26,28,26],[44,27,28,27,"shape"],[44,32,28,32],[45,4,29,4],[45,10,29,10,"realProgram"],[45,21,29,21],[45,24,29,24],[45,28,29,28,"FFTProgram"],[45,36,29,38],[45,37,29,38,"FFTProgram"],[45,47,29,38],[45,48,29,39],[45,54,29,45],[45,56,29,47,"xShape"],[45,62,29,53],[45,64,29,55,"inverse"],[45,71,29,62],[45,72,29,63],[46,4,30,4],[46,10,30,10,"imagProgram"],[46,21,30,21],[46,24,30,24],[46,28,30,28,"FFTProgram"],[46,36,30,38],[46,37,30,38,"FFTProgram"],[46,47,30,38],[46,48,30,39],[46,54,30,45],[46,56,30,47,"xShape"],[46,62,30,53],[46,64,30,55,"inverse"],[46,71,30,62],[46,72,30,63],[47,4,31,4],[47,10,31,10,"inputs"],[47,16,31,16],[47,19,31,19],[47,20,32,8],[48,6,33,12,"dataId"],[48,12,33,18],[48,14,33,20,"xData"],[48,19,33,25],[48,20,33,26,"complexTensorInfos"],[48,38,33,44],[48,39,33,45,"real"],[48,43,33,49],[48,44,33,50,"dataId"],[48,50,33,56],[49,6,34,12,"dtype"],[49,11,34,17],[49,13,34,19,"xData"],[49,18,34,24],[49,19,34,25,"complexTensorInfos"],[49,37,34,43],[49,38,34,44,"real"],[49,42,34,48],[49,43,34,49,"dtype"],[49,48,34,54],[50,6,35,12,"shape"],[50,11,35,17],[50,13,35,19,"xShape"],[51,4,36,8],[51,5,36,9],[51,7,37,8],[52,6,38,12,"dataId"],[52,12,38,18],[52,14,38,20,"xData"],[52,19,38,25],[52,20,38,26,"complexTensorInfos"],[52,38,38,44],[52,39,38,45,"imag"],[52,43,38,49],[52,44,38,50,"dataId"],[52,50,38,56],[53,6,39,12,"dtype"],[53,11,39,17],[53,13,39,19,"xData"],[53,18,39,24],[53,19,39,25,"complexTensorInfos"],[53,37,39,43],[53,38,39,44,"imag"],[53,42,39,48],[53,43,39,49,"dtype"],[53,48,39,54],[54,6,40,12,"shape"],[54,11,40,17],[54,13,40,19,"xShape"],[55,4,41,8],[55,5,41,9],[55,6,42,5],[56,4,43,4],[56,10,43,10,"realPart"],[56,18,43,18],[56,21,43,21,"backend"],[56,28,43,28],[56,29,43,29,"runWebGLProgram"],[56,44,43,44],[56,45,43,45,"realProgram"],[56,56,43,56],[56,58,43,58,"inputs"],[56,64,43,64],[56,66,43,66],[56,75,43,75],[56,76,43,76],[57,4,44,4],[57,10,44,10,"imagPart"],[57,18,44,18],[57,21,44,21,"backend"],[57,28,44,28],[57,29,44,29,"runWebGLProgram"],[57,44,44,44],[57,45,44,45,"imagProgram"],[57,56,44,56],[57,58,44,58,"inputs"],[57,64,44,64],[57,66,44,66],[57,75,44,75],[57,76,44,76],[58,4,45,4],[58,10,45,10,"complexOutput"],[58,23,45,23],[58,26,45,26],[58,30,45,26,"complex"],[58,38,45,33],[58,39,45,33,"complex"],[58,46,45,33],[58,48,45,34],[59,6,45,36,"inputs"],[59,12,45,42],[59,14,45,44],[60,8,45,46,"real"],[60,12,45,50],[60,14,45,52,"realPart"],[60,22,45,60],[61,8,45,62,"imag"],[61,12,45,66],[61,14,45,68,"imagPart"],[62,6,45,77],[62,7,45,78],[63,6,45,80,"backend"],[64,4,45,88],[64,5,45,89],[64,6,45,90],[65,4,46,4,"backend"],[65,11,46,11],[65,12,46,12,"disposeIntermediateTensorInfo"],[65,41,46,41],[65,42,46,42,"realPart"],[65,50,46,50],[65,51,46,51],[66,4,47,4,"backend"],[66,11,47,11],[66,12,47,12,"disposeIntermediateTensorInfo"],[66,41,47,41],[66,42,47,42,"imagPart"],[66,50,47,50],[66,51,47,51],[67,4,48,4],[67,10,48,10,"complexOutputReshaped"],[67,31,48,31],[67,34,48,34],[67,38,48,34,"reshape"],[67,46,48,41],[67,47,48,41,"reshape"],[67,54,48,41],[67,56,48,42],[68,6,48,44,"inputs"],[68,12,48,50],[68,14,48,52],[69,8,48,54,"x"],[69,9,48,55],[69,11,48,57,"complexOutput"],[70,6,48,71],[70,7,48,72],[71,6,48,74,"backend"],[71,13,48,81],[72,6,48,83,"attrs"],[72,11,48,88],[72,13,48,90],[73,8,48,92,"shape"],[73,13,48,97],[73,15,48,99,"x"],[73,16,48,100],[73,17,48,101,"shape"],[74,6,48,107],[75,4,48,109],[75,5,48,110],[75,6,48,111],[76,4,49,4,"backend"],[76,11,49,11],[76,12,49,12,"disposeIntermediateTensorInfo"],[76,41,49,41],[76,42,49,42,"input2D"],[76,49,49,49],[76,50,49,50],[77,4,50,4,"backend"],[77,11,50,11],[77,12,50,12,"disposeIntermediateTensorInfo"],[77,41,50,41],[77,42,50,42,"complexOutput"],[77,55,50,55],[77,56,50,56],[78,4,51,4],[78,11,51,11,"complexOutputReshaped"],[78,32,51,32],[79,2,52,0],[80,0,52,1],[80,3]],"functionMap":{"names":["<global>","fftImpl"],"mappings":"AAA;OCoB;CD+B"},"hasCjsExports":false},"type":"js/module"}]}