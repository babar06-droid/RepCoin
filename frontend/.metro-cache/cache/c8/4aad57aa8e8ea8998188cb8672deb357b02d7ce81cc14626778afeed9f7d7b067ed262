{"dependencies":[{"name":"../../engine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"v39fFCcPTN6kCKPiVEOA5hKbvfQ=","exportNames":["*"],"imports":1}},{"name":"../../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":742},"end":{"line":18,"column":51,"index":793}}],"key":"rL3QmnnDJzxi3tNgrJ9K3IiMDQ8=","exportNames":["*"],"imports":1}},{"name":"../../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":794},"end":{"line":19,"column":56,"index":850}}],"key":"xfSGNGkCJdZhfQ673y/6d+no2yU=","exportNames":["*"],"imports":1}},{"name":"../operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":851},"end":{"line":20,"column":34,"index":885}}],"key":"fQilPqfSvhAHjyfKT0P4wel7jE4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"sparseReshape\", {\n    enumerable: true,\n    get: function () {\n      return sparseReshape;\n    }\n  });\n  var _engine = require(_dependencyMap[0], \"../../engine\");\n  var _kernel_names = require(_dependencyMap[1], \"../../kernel_names\");\n  var _tensor_util_env = require(_dependencyMap[2], \"../../tensor_util_env\");\n  var _operation = require(_dependencyMap[3], \"../operation\");\n  /**\n   * @license\n   * Copyright 2021 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * This operation has the same semantics as reshape on the represented dense\n   * tensor. The `inputIndices` are recomputed based on the requested `newShape`.\n   * If one component of `newShape` is the special value -1, the size of that\n   * dimension is computed so that the total dense size remains constant. At most\n   * one component of `newShape` can be -1. The number of dense elements implied\n   * by `newShape` must be the same as the number of dense elements originally\n   * implied by `inputShape`. Reshaping does not affect the order of values in the\n   * SparseTensor. If the input tensor has rank R_in and N non-empty values, and\n   * `newShape` has length R_out, then `inputIndices` has shape [N, R_in],\n   * `inputShape` has length R_in, `outputIndices` has shape [N, R_out], and\n   * `outputShape` has length R_out.\n   *\n   * ```js\n   * const result = tf.sparse.sparseReshape(\n   *   [[0, 0, 0], [0, 0, 1], [0, 1, 0], [1, 0, 0], [1, 2, 3]],\n   *   [2, 3, 6], [9, -1]);\n   * console.log(result);\n   * result['outputIndices'].print(); //[[0, 0], [0, 1], [1, 2], [4, 2], [8, 1]]\n   * result['outputShape'].print(); // [9, 4]\n   * ```\n   * @param inputIndices: 2-D. N x R_in matrix with the indices of non-empty\n   * values in a SparseTensor.\n   * @param inputShape: 1-D. R_in Tensor1D with the input SparseTensor's dense\n   * shape.\n   * @param newShape: 1-D. R_out Tensor1D with the requested new dense shape.\n   * @return A map with the following properties:\n   *     - outputIndices: 2-D. N x R_out matrix with the updated indices of\n   *       non-empty values in the output SparseTensor.\n   *     - outputShape: 1-D. R_out vector with the full dense shape of the output\n   *       SparseTensor. This is the same as newShape but with any -1 dimensions\n   *        filled in.\n   * @doc {heading: 'Operations', subheading: 'Sparse'}\n   */\n  function sparseReshape_(inputIndices, inputShape, newShape) {\n    const $inputIndices = (0, _tensor_util_env.convertToTensor)(inputIndices, 'inputIndices', 'sparseReshape', 'int32');\n    const $inputShape = (0, _tensor_util_env.convertToTensor)(inputShape, 'inputShape', 'sparseReshape', 'int32');\n    const $newShape = (0, _tensor_util_env.convertToTensor)(newShape, 'newShape', 'sparseReshape', 'int32');\n    if ($inputIndices.rank !== 2) {\n      throw new Error(`Input indices should be Tensor2D but received shape\n        ${$inputIndices.shape}`);\n    }\n    if ($inputShape.rank !== 1) {\n      throw new Error(`Input shape should be Tensor1D but received shape ${$inputShape.shape}`);\n    }\n    if ($newShape.rank !== 1) {\n      throw new Error(`New shape should be Tensor1D but received shape ${$newShape.shape}`);\n    }\n    const inputs = {\n      inputIndices: $inputIndices,\n      inputShape: $inputShape,\n      newShape: $newShape\n    };\n    const result = _engine.ENGINE.runKernel(_kernel_names.SparseReshape, inputs);\n    return {\n      outputIndices: result[0],\n      outputShape: result[1]\n    };\n  }\n  const sparseReshape = /* @__PURE__ */(0, _operation.op)({\n    sparseReshape_\n  });\n});","lineCount":96,"map":[[7,2,77,0,"Object"],[7,8,77,0],[7,9,77,0,"defineProperty"],[7,23,77,0],[7,24,77,0,"exports"],[7,31,77,0],[8,4,77,0,"enumerable"],[8,14,77,0],[9,4,77,0,"get"],[9,7,77,0],[9,18,77,0,"get"],[9,19,77,0],[10,6,77,0],[10,13,77,0,"sparseReshape"],[10,26,77,0],[11,4,77,0],[12,2,77,0],[13,2,17,0],[13,6,17,0,"_engine"],[13,13,17,0],[13,16,17,0,"require"],[13,23,17,0],[13,24,17,0,"_dependencyMap"],[13,38,17,0],[14,2,18,0],[14,6,18,0,"_kernel_names"],[14,19,18,0],[14,22,18,0,"require"],[14,29,18,0],[14,30,18,0,"_dependencyMap"],[14,44,18,0],[15,2,19,0],[15,6,19,0,"_tensor_util_env"],[15,22,19,0],[15,25,19,0,"require"],[15,32,19,0],[15,33,19,0,"_dependencyMap"],[15,47,19,0],[16,2,20,0],[16,6,20,0,"_operation"],[16,16,20,0],[16,19,20,0,"require"],[16,26,20,0],[16,27,20,0,"_dependencyMap"],[16,41,20,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[34,2,21,0],[35,0,22,0],[36,0,23,0],[37,0,24,0],[38,0,25,0],[39,0,26,0],[40,0,27,0],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,0,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,0,41,0],[55,0,42,0],[56,0,43,0],[57,0,44,0],[58,0,45,0],[59,0,46,0],[60,0,47,0],[61,0,48,0],[62,0,49,0],[63,0,50,0],[64,0,51,0],[65,0,52,0],[66,0,53,0],[67,0,54,0],[68,2,55,0],[68,11,55,9,"sparseReshape_"],[68,25,55,23,"sparseReshape_"],[68,26,55,24,"inputIndices"],[68,38,55,36],[68,40,55,38,"inputShape"],[68,50,55,48],[68,52,55,50,"newShape"],[68,60,55,58],[68,62,55,60],[69,4,56,4],[69,10,56,10,"$inputIndices"],[69,23,56,23],[69,26,56,26],[69,30,56,26,"convertToTensor"],[69,46,56,41],[69,47,56,41,"convertToTensor"],[69,62,56,41],[69,64,56,42,"inputIndices"],[69,76,56,54],[69,78,56,56],[69,92,56,70],[69,94,56,72],[69,109,56,87],[69,111,56,89],[69,118,56,96],[69,119,56,97],[70,4,57,4],[70,10,57,10,"$inputShape"],[70,21,57,21],[70,24,57,24],[70,28,57,24,"convertToTensor"],[70,44,57,39],[70,45,57,39,"convertToTensor"],[70,60,57,39],[70,62,57,40,"inputShape"],[70,72,57,50],[70,74,57,52],[70,86,57,64],[70,88,57,66],[70,103,57,81],[70,105,57,83],[70,112,57,90],[70,113,57,91],[71,4,58,4],[71,10,58,10,"$newShape"],[71,19,58,19],[71,22,58,22],[71,26,58,22,"convertToTensor"],[71,42,58,37],[71,43,58,37,"convertToTensor"],[71,58,58,37],[71,60,58,38,"newShape"],[71,68,58,46],[71,70,58,48],[71,80,58,58],[71,82,58,60],[71,97,58,75],[71,99,58,77],[71,106,58,84],[71,107,58,85],[72,4,59,4],[72,8,59,8,"$inputIndices"],[72,21,59,21],[72,22,59,22,"rank"],[72,26,59,26],[72,31,59,31],[72,32,59,32],[72,34,59,34],[73,6,60,8],[73,12,60,14],[73,16,60,18,"Error"],[73,21,60,23],[73,22,60,24],[74,0,61,0],[74,10,61,10,"$inputIndices"],[74,23,61,23],[74,24,61,24,"shape"],[74,29,61,29],[74,31,61,31],[74,32,61,32],[75,4,62,4],[76,4,63,4],[76,8,63,8,"$inputShape"],[76,19,63,19],[76,20,63,20,"rank"],[76,24,63,24],[76,29,63,29],[76,30,63,30],[76,32,63,32],[77,6,64,8],[77,12,64,14],[77,16,64,18,"Error"],[77,21,64,23],[77,22,64,24],[77,75,64,77,"$inputShape"],[77,86,64,88],[77,87,64,89,"shape"],[77,92,64,94],[77,94,64,96],[77,95,64,97],[78,4,65,4],[79,4,66,4],[79,8,66,8,"$newShape"],[79,17,66,17],[79,18,66,18,"rank"],[79,22,66,22],[79,27,66,27],[79,28,66,28],[79,30,66,30],[80,6,67,8],[80,12,67,14],[80,16,67,18,"Error"],[80,21,67,23],[80,22,67,24],[80,73,67,75,"$newShape"],[80,82,67,84],[80,83,67,85,"shape"],[80,88,67,90],[80,90,67,92],[80,91,67,93],[81,4,68,4],[82,4,69,4],[82,10,69,10,"inputs"],[82,16,69,16],[82,19,69,19],[83,6,70,8,"inputIndices"],[83,18,70,20],[83,20,70,22,"$inputIndices"],[83,33,70,35],[84,6,71,8,"inputShape"],[84,16,71,18],[84,18,71,20,"$inputShape"],[84,29,71,31],[85,6,72,8,"newShape"],[85,14,72,16],[85,16,72,18,"$newShape"],[86,4,73,4],[86,5,73,5],[87,4,74,4],[87,10,74,10,"result"],[87,16,74,16],[87,19,74,19,"ENGINE"],[87,26,74,25],[87,27,74,25,"ENGINE"],[87,33,74,25],[87,34,74,26,"runKernel"],[87,43,74,35],[87,44,74,36,"SparseReshape"],[87,57,74,49],[87,58,74,49,"SparseReshape"],[87,71,74,49],[87,73,74,51,"inputs"],[87,79,74,57],[87,80,74,58],[88,4,75,4],[88,11,75,11],[89,6,75,13,"outputIndices"],[89,19,75,26],[89,21,75,28,"result"],[89,27,75,34],[89,28,75,35],[89,29,75,36],[89,30,75,37],[90,6,75,39,"outputShape"],[90,17,75,50],[90,19,75,52,"result"],[90,25,75,58],[90,26,75,59],[90,27,75,60],[91,4,75,62],[91,5,75,63],[92,2,76,0],[93,2,77,7],[93,8,77,13,"sparseReshape"],[93,21,77,26],[93,24,77,29],[93,39,77,45],[93,43,77,45,"op"],[93,53,77,47],[93,54,77,47,"op"],[93,56,77,47],[93,58,77,48],[94,4,77,50,"sparseReshape_"],[95,2,77,65],[95,3,77,66],[95,4,77,67],[96,0,77,68],[96,3]],"functionMap":{"names":["<global>","sparseReshape_"],"mappings":"AAA;ACsD;CDqB"},"hasCjsExports":false},"type":"js/module"}]}