{"dependencies":[{"name":"../../engine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"v39fFCcPTN6kCKPiVEOA5hKbvfQ=","exportNames":["*"],"imports":1}},{"name":"../../gradients","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":742},"end":{"line":18,"column":45,"index":787}}],"key":"1W1GjGAz1ANThnsYAcTE3C3OmzY=","exportNames":["*"],"imports":1}},{"name":"../../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":788},"end":{"line":19,"column":50,"index":838}}],"key":"rL3QmnnDJzxi3tNgrJ9K3IiMDQ8=","exportNames":["*"],"imports":1}},{"name":"../../tensor_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":839},"end":{"line":20,"column":51,"index":890}}],"key":"ZFsRKgFCdYRmJFuNBrwHupFVynw=","exportNames":["*"],"imports":1}},{"name":"../../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":891},"end":{"line":21,"column":56,"index":947}}],"key":"xfSGNGkCJdZhfQ673y/6d+no2yU=","exportNames":["*"],"imports":1}},{"name":"../../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":948},"end":{"line":22,"column":35,"index":983}}],"key":"OiLVMoS12Mp3xgHkQeTdnQIBX6Q=","exportNames":["*"],"imports":1}},{"name":"../add","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":984},"end":{"line":23,"column":29,"index":1013}}],"key":"S+ID0fW8sc9iwSUS6COac9En52o=","exportNames":["*"],"imports":1}},{"name":"../broadcast_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":1014},"end":{"line":24,"column":52,"index":1066}}],"key":"QUILJ5jgiL03mpTPd0+DvDgAKBk=","exportNames":["*"],"imports":1}},{"name":"../fused_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":1067},"end":{"line":25,"column":104,"index":1171}}],"key":"thr/t/pndSbqc/Rv+NzNpC4q/ZY=","exportNames":["*"],"imports":1}},{"name":"../mat_mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":26,"column":0,"index":1172},"end":{"line":26,"column":53,"index":1225}}],"key":"etSNYqumxMK6Li+vzxbdJwaT0Mo=","exportNames":["*"],"imports":1}},{"name":"../operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":27,"column":0,"index":1226},"end":{"line":27,"column":34,"index":1260}}],"key":"fQilPqfSvhAHjyfKT0P4wel7jE4=","exportNames":["*"],"imports":1}},{"name":"../reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":28,"column":0,"index":1261},"end":{"line":28,"column":37,"index":1298}}],"key":"88jbakDJZT9IhaURceTSW5G0Dno=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"matMul\", {\n    enumerable: true,\n    get: function () {\n      return matMul;\n    }\n  });\n  var _engine = require(_dependencyMap[0], \"../../engine\");\n  var _gradients = require(_dependencyMap[1], \"../../gradients\");\n  var _kernel_names = require(_dependencyMap[2], \"../../kernel_names\");\n  var _tensor_util = require(_dependencyMap[3], \"../../tensor_util\");\n  var _tensor_util_env = require(_dependencyMap[4], \"../../tensor_util_env\");\n  var _util = require(_dependencyMap[5], \"../../util\");\n  var util = _interopNamespace(_util);\n  var _add = require(_dependencyMap[6], \"../add\");\n  var _broadcast_util = require(_dependencyMap[7], \"../broadcast_util\");\n  var broadcast_util = _interopNamespace(_broadcast_util);\n  var _fused_util = require(_dependencyMap[8], \"../fused_util\");\n  var _mat_mul = require(_dependencyMap[9], \"../mat_mul\");\n  var _operation = require(_dependencyMap[10], \"../operation\");\n  var _reshape = require(_dependencyMap[11], \"../reshape\");\n  /**\n   * @license\n   * Copyright 2019 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Computes the dot product of two matrices with optional activation and bias.\n   *\n   * ```js\n   * const a = tf.tensor2d([-1, -2], [1, 2]);\n   * const b = tf.tensor2d([1, 2, 3, 4], [2, 2]);\n   * const bias = tf.tensor2d([1, 2], [1, 2]);\n   *\n   * tf.fused.matMul({a, b, bias, activation: 'relu'}).print();\n   * ```\n   *\n   * @param obj An object with the following properties:\n   * - `a` First matrix in dot product operation.\n   * - `b` Second matrix in dot product operation.\n   * - `transposeA` If true, `a` is transposed before multiplication.\n   * - `transposeB` If true, `b` is transposed before multiplication.\n   * - `bias` Matrix to be added to the result.\n   * - `activation` Name of activation kernel (defaults to `linear`).\n   * - `preluActivationWeights` Tensor of prelu weights.\n   * - `leakyreluAlpha` Alpha of leakyrelu.\n   */\n  function fusedMatMul_({\n    a,\n    b,\n    transposeA = false,\n    transposeB = false,\n    bias,\n    activation = 'linear',\n    preluActivationWeights,\n    leakyreluAlpha = 0.2\n  }) {\n    if ((0, _fused_util.shouldFuse)(_engine.ENGINE.state.gradientDepth, activation) === false) {\n      let result = (0, _mat_mul.matMul)(a, b, transposeA, transposeB);\n      if (bias != null) {\n        result = (0, _add.add)(result, bias);\n      }\n      return (0, _fused_util.applyActivation)(result, activation, preluActivationWeights, leakyreluAlpha);\n    }\n    let $a = (0, _tensor_util_env.convertToTensor)(a, 'a', 'fused matMul');\n    let $b = (0, _tensor_util_env.convertToTensor)(b, 'b', 'fused matMul');\n    [$a, $b] = (0, _tensor_util.makeTypesMatch)($a, $b);\n    const innerShapeA = transposeA ? $a.shape[$a.rank - 2] : $a.shape[$a.rank - 1];\n    const innerShapeB = transposeB ? $b.shape[$b.rank - 1] : $b.shape[$b.rank - 2];\n    const outerShapeA = transposeA ? $a.shape[$a.rank - 1] : $a.shape[$a.rank - 2];\n    const outerShapeB = transposeB ? $b.shape[$b.rank - 2] : $b.shape[$b.rank - 1];\n    const outerDimsA = $a.shape.slice(0, -2);\n    const outerDimsB = $b.shape.slice(0, -2);\n    const batchDimA = util.sizeFromShape(outerDimsA);\n    const batchDimB = util.sizeFromShape(outerDimsB);\n    util.assert(innerShapeA === innerShapeB, () => `Error in fused matMul: inner shapes (${innerShapeA}) and (` + `${innerShapeB}) of Tensors with shapes ${$a.shape} and ` + `${$b.shape} and transposeA=${transposeA}` + ` and transposeB=${transposeB} must match.`);\n    const outShapeOuterDims = broadcast_util.assertAndGetBroadcastShape($a.shape.slice(0, -2), $b.shape.slice(0, -2));\n    const outShape = outShapeOuterDims.concat([outerShapeA, outerShapeB]);\n    const a3D = transposeA ? (0, _reshape.reshape)($a, [batchDimA, innerShapeA, outerShapeA]) : (0, _reshape.reshape)($a, [batchDimA, outerShapeA, innerShapeA]);\n    const b3D = transposeB ? (0, _reshape.reshape)($b, [batchDimB, outerShapeB, innerShapeB]) : (0, _reshape.reshape)($b, [batchDimB, innerShapeB, outerShapeB]);\n    let $bias;\n    if (bias != null) {\n      $bias = (0, _tensor_util_env.convertToTensor)(bias, 'bias', 'fused matMul');\n      [$bias] = (0, _tensor_util.makeTypesMatch)($bias, $a);\n      broadcast_util.assertAndGetBroadcastShape(outShape, $bias.shape);\n    }\n    let $preluActivationWeights;\n    if (preluActivationWeights != null) {\n      $preluActivationWeights = (0, _tensor_util_env.convertToTensor)(preluActivationWeights, 'prelu weights', 'fused matMul');\n    }\n    const grad = (dy, saved) => {\n      const [a3D, b3D, y, $bias] = saved;\n      // we reshape dy because the result of the forward is not\n      // necessarily going to be a 3d tensor due to a reshape done at the end of\n      // the customOp.\n      const dyActivation = (0, _fused_util.getFusedDyActivation)((0, _reshape.reshape)(dy, y.shape), y, activation);\n      let aDer;\n      let bDer;\n      if (!transposeA && !transposeB) {\n        aDer = (0, _mat_mul.matMul)(dyActivation, b3D, false, true);\n        bDer = (0, _mat_mul.matMul)(a3D, dyActivation, true, false);\n      } else if (!transposeA && transposeB) {\n        aDer = (0, _mat_mul.matMul)(dyActivation, b3D, false, false);\n        bDer = (0, _mat_mul.matMul)(dyActivation, a3D, true, false);\n      } else if (transposeA && !transposeB) {\n        aDer = (0, _mat_mul.matMul)(b3D, dyActivation, false, true);\n        bDer = (0, _mat_mul.matMul)(a3D, dyActivation, false, false);\n      } else {\n        aDer = (0, _mat_mul.matMul)(b3D, dyActivation, true, true);\n        bDer = (0, _mat_mul.matMul)(dyActivation, a3D, true, true);\n      }\n      if (bias != null) {\n        const biasDer = (0, _fused_util.getFusedBiasGradient)($bias, dyActivation);\n        return [aDer, bDer, biasDer];\n      } else {\n        return [aDer, bDer];\n      }\n    };\n    const inputs = {\n      a: a3D,\n      b: b3D,\n      bias: $bias,\n      preluActivationWeights: $preluActivationWeights\n    };\n    const attrs = {\n      transposeA,\n      transposeB,\n      activation,\n      leakyreluAlpha\n    };\n    // Depending on the the params passed in we will have different number of\n    // inputs and thus a a different number of elements in the gradient.\n    if (bias == null) {\n      const customOp = (0, _gradients.customGrad)((a3D, b3D, save) => {\n        const res =\n        // tslint:disable-next-line: no-unnecessary-type-assertion\n        _engine.ENGINE.runKernel(_kernel_names._FusedMatMul, inputs, attrs);\n        save([a3D, b3D, res]);\n        return {\n          value: (0, _reshape.reshape)(res, outShape),\n          gradFunc: grad\n        };\n      });\n      return customOp(a3D, b3D);\n    } else {\n      const customOpWithBias = (0, _gradients.customGrad)((a3D, b3D, $bias, save) => {\n        const res =\n        // tslint:disable-next-line: no-unnecessary-type-assertion\n        _engine.ENGINE.runKernel(_kernel_names._FusedMatMul, inputs, attrs);\n        save([a3D, b3D, res, $bias]);\n        return {\n          value: (0, _reshape.reshape)(res, outShape),\n          gradFunc: grad\n        };\n      });\n      return customOpWithBias(a3D, b3D, $bias);\n    }\n  }\n  const matMul = /* @__PURE__ */(0, _operation.op)({\n    fusedMatMul_\n  });\n});","lineCount":194,"map":[[22,2,153,0,"Object"],[22,8,153,0],[22,9,153,0,"defineProperty"],[22,23,153,0],[22,24,153,0,"exports"],[22,31,153,0],[23,4,153,0,"enumerable"],[23,14,153,0],[24,4,153,0,"get"],[24,7,153,0],[24,18,153,0,"get"],[24,19,153,0],[25,6,153,0],[25,13,153,0,"matMul"],[25,19,153,0],[26,4,153,0],[27,2,153,0],[28,2,17,0],[28,6,17,0,"_engine"],[28,13,17,0],[28,16,17,0,"require"],[28,23,17,0],[28,24,17,0,"_dependencyMap"],[28,38,17,0],[29,2,18,0],[29,6,18,0,"_gradients"],[29,16,18,0],[29,19,18,0,"require"],[29,26,18,0],[29,27,18,0,"_dependencyMap"],[29,41,18,0],[30,2,19,0],[30,6,19,0,"_kernel_names"],[30,19,19,0],[30,22,19,0,"require"],[30,29,19,0],[30,30,19,0,"_dependencyMap"],[30,44,19,0],[31,2,20,0],[31,6,20,0,"_tensor_util"],[31,18,20,0],[31,21,20,0,"require"],[31,28,20,0],[31,29,20,0,"_dependencyMap"],[31,43,20,0],[32,2,21,0],[32,6,21,0,"_tensor_util_env"],[32,22,21,0],[32,25,21,0,"require"],[32,32,21,0],[32,33,21,0,"_dependencyMap"],[32,47,21,0],[33,2,22,0],[33,6,22,0,"_util"],[33,11,22,0],[33,14,22,0,"require"],[33,21,22,0],[33,22,22,0,"_dependencyMap"],[33,36,22,0],[34,2,22,0],[34,6,22,0,"util"],[34,10,22,0],[34,13,22,0,"_interopNamespace"],[34,30,22,0],[34,31,22,0,"_util"],[34,36,22,0],[35,2,23,0],[35,6,23,0,"_add"],[35,10,23,0],[35,13,23,0,"require"],[35,20,23,0],[35,21,23,0,"_dependencyMap"],[35,35,23,0],[36,2,24,0],[36,6,24,0,"_broadcast_util"],[36,21,24,0],[36,24,24,0,"require"],[36,31,24,0],[36,32,24,0,"_dependencyMap"],[36,46,24,0],[37,2,24,0],[37,6,24,0,"broadcast_util"],[37,20,24,0],[37,23,24,0,"_interopNamespace"],[37,40,24,0],[37,41,24,0,"_broadcast_util"],[37,56,24,0],[38,2,25,0],[38,6,25,0,"_fused_util"],[38,17,25,0],[38,20,25,0,"require"],[38,27,25,0],[38,28,25,0,"_dependencyMap"],[38,42,25,0],[39,2,26,0],[39,6,26,0,"_mat_mul"],[39,14,26,0],[39,17,26,0,"require"],[39,24,26,0],[39,25,26,0,"_dependencyMap"],[39,39,26,0],[40,2,27,0],[40,6,27,0,"_operation"],[40,16,27,0],[40,19,27,0,"require"],[40,26,27,0],[40,27,27,0,"_dependencyMap"],[40,41,27,0],[41,2,28,0],[41,6,28,0,"_reshape"],[41,14,28,0],[41,17,28,0,"require"],[41,24,28,0],[41,25,28,0,"_dependencyMap"],[41,39,28,0],[42,2,1,0],[43,0,2,0],[44,0,3,0],[45,0,4,0],[46,0,5,0],[47,0,6,0],[48,0,7,0],[49,0,8,0],[50,0,9,0],[51,0,10,0],[52,0,11,0],[53,0,12,0],[54,0,13,0],[55,0,14,0],[56,0,15,0],[57,0,16,0],[59,2,29,0],[60,0,30,0],[61,0,31,0],[62,0,32,0],[63,0,33,0],[64,0,34,0],[65,0,35,0],[66,0,36,0],[67,0,37,0],[68,0,38,0],[69,0,39,0],[70,0,40,0],[71,0,41,0],[72,0,42,0],[73,0,43,0],[74,0,44,0],[75,0,45,0],[76,0,46,0],[77,0,47,0],[78,0,48,0],[79,0,49,0],[80,2,50,0],[80,11,50,9,"fusedMatMul_"],[80,23,50,21,"fusedMatMul_"],[80,24,50,22],[81,4,50,24,"a"],[81,5,50,25],[82,4,50,27,"b"],[82,5,50,28],[83,4,50,30,"transposeA"],[83,14,50,40],[83,17,50,43],[83,22,50,48],[84,4,50,50,"transposeB"],[84,14,50,60],[84,17,50,63],[84,22,50,68],[85,4,50,70,"bias"],[85,8,50,74],[86,4,50,76,"activation"],[86,14,50,86],[86,17,50,89],[86,25,50,97],[87,4,50,99,"preluActivationWeights"],[87,26,50,121],[88,4,50,123,"leakyreluAlpha"],[88,18,50,137],[88,21,50,140],[89,2,50,145],[89,3,50,146],[89,5,50,148],[90,4,51,4],[90,8,51,8],[90,12,51,8,"shouldFuse"],[90,23,51,18],[90,24,51,18,"shouldFuse"],[90,34,51,18],[90,36,51,19,"ENGINE"],[90,43,51,25],[90,44,51,25,"ENGINE"],[90,50,51,25],[90,51,51,26,"state"],[90,56,51,31],[90,57,51,32,"gradientDepth"],[90,70,51,45],[90,72,51,47,"activation"],[90,82,51,57],[90,83,51,58],[90,88,51,63],[90,93,51,68],[90,95,51,70],[91,6,52,8],[91,10,52,12,"result"],[91,16,52,18],[91,19,52,21],[91,23,52,21,"unfusedMatMul"],[91,31,52,34],[91,32,52,34,"matMul"],[91,38,52,34],[91,40,52,35,"a"],[91,41,52,36],[91,43,52,38,"b"],[91,44,52,39],[91,46,52,41,"transposeA"],[91,56,52,51],[91,58,52,53,"transposeB"],[91,68,52,63],[91,69,52,64],[92,6,53,8],[92,10,53,12,"bias"],[92,14,53,16],[92,18,53,20],[92,22,53,24],[92,24,53,26],[93,8,54,12,"result"],[93,14,54,18],[93,17,54,21],[93,21,54,21,"add"],[93,25,54,24],[93,26,54,24,"add"],[93,29,54,24],[93,31,54,25,"result"],[93,37,54,31],[93,39,54,33,"bias"],[93,43,54,37],[93,44,54,38],[94,6,55,8],[95,6,56,8],[95,13,56,15],[95,17,56,15,"applyActivation"],[95,28,56,30],[95,29,56,30,"applyActivation"],[95,44,56,30],[95,46,56,31,"result"],[95,52,56,37],[95,54,56,39,"activation"],[95,64,56,49],[95,66,56,51,"preluActivationWeights"],[95,88,56,73],[95,90,56,75,"leakyreluAlpha"],[95,104,56,89],[95,105,56,90],[96,4,57,4],[97,4,58,4],[97,8,58,8,"$a"],[97,10,58,10],[97,13,58,13],[97,17,58,13,"convertToTensor"],[97,33,58,28],[97,34,58,28,"convertToTensor"],[97,49,58,28],[97,51,58,29,"a"],[97,52,58,30],[97,54,58,32],[97,57,58,35],[97,59,58,37],[97,73,58,51],[97,74,58,52],[98,4,59,4],[98,8,59,8,"$b"],[98,10,59,10],[98,13,59,13],[98,17,59,13,"convertToTensor"],[98,33,59,28],[98,34,59,28,"convertToTensor"],[98,49,59,28],[98,51,59,29,"b"],[98,52,59,30],[98,54,59,32],[98,57,59,35],[98,59,59,37],[98,73,59,51],[98,74,59,52],[99,4,60,4],[99,5,60,5,"$a"],[99,7,60,7],[99,9,60,9,"$b"],[99,11,60,11],[99,12,60,12],[99,15,60,15],[99,19,60,15,"makeTypesMatch"],[99,31,60,29],[99,32,60,29,"makeTypesMatch"],[99,46,60,29],[99,48,60,30,"$a"],[99,50,60,32],[99,52,60,34,"$b"],[99,54,60,36],[99,55,60,37],[100,4,61,4],[100,10,61,10,"innerShapeA"],[100,21,61,21],[100,24,61,24,"transposeA"],[100,34,61,34],[100,37,61,37,"$a"],[100,39,61,39],[100,40,61,40,"shape"],[100,45,61,45],[100,46,61,46,"$a"],[100,48,61,48],[100,49,61,49,"rank"],[100,53,61,53],[100,56,61,56],[100,57,61,57],[100,58,61,58],[100,61,61,61,"$a"],[100,63,61,63],[100,64,61,64,"shape"],[100,69,61,69],[100,70,61,70,"$a"],[100,72,61,72],[100,73,61,73,"rank"],[100,77,61,77],[100,80,61,80],[100,81,61,81],[100,82,61,82],[101,4,62,4],[101,10,62,10,"innerShapeB"],[101,21,62,21],[101,24,62,24,"transposeB"],[101,34,62,34],[101,37,62,37,"$b"],[101,39,62,39],[101,40,62,40,"shape"],[101,45,62,45],[101,46,62,46,"$b"],[101,48,62,48],[101,49,62,49,"rank"],[101,53,62,53],[101,56,62,56],[101,57,62,57],[101,58,62,58],[101,61,62,61,"$b"],[101,63,62,63],[101,64,62,64,"shape"],[101,69,62,69],[101,70,62,70,"$b"],[101,72,62,72],[101,73,62,73,"rank"],[101,77,62,77],[101,80,62,80],[101,81,62,81],[101,82,62,82],[102,4,63,4],[102,10,63,10,"outerShapeA"],[102,21,63,21],[102,24,63,24,"transposeA"],[102,34,63,34],[102,37,63,37,"$a"],[102,39,63,39],[102,40,63,40,"shape"],[102,45,63,45],[102,46,63,46,"$a"],[102,48,63,48],[102,49,63,49,"rank"],[102,53,63,53],[102,56,63,56],[102,57,63,57],[102,58,63,58],[102,61,63,61,"$a"],[102,63,63,63],[102,64,63,64,"shape"],[102,69,63,69],[102,70,63,70,"$a"],[102,72,63,72],[102,73,63,73,"rank"],[102,77,63,77],[102,80,63,80],[102,81,63,81],[102,82,63,82],[103,4,64,4],[103,10,64,10,"outerShapeB"],[103,21,64,21],[103,24,64,24,"transposeB"],[103,34,64,34],[103,37,64,37,"$b"],[103,39,64,39],[103,40,64,40,"shape"],[103,45,64,45],[103,46,64,46,"$b"],[103,48,64,48],[103,49,64,49,"rank"],[103,53,64,53],[103,56,64,56],[103,57,64,57],[103,58,64,58],[103,61,64,61,"$b"],[103,63,64,63],[103,64,64,64,"shape"],[103,69,64,69],[103,70,64,70,"$b"],[103,72,64,72],[103,73,64,73,"rank"],[103,77,64,77],[103,80,64,80],[103,81,64,81],[103,82,64,82],[104,4,65,4],[104,10,65,10,"outerDimsA"],[104,20,65,20],[104,23,65,23,"$a"],[104,25,65,25],[104,26,65,26,"shape"],[104,31,65,31],[104,32,65,32,"slice"],[104,37,65,37],[104,38,65,38],[104,39,65,39],[104,41,65,41],[104,42,65,42],[104,43,65,43],[104,44,65,44],[105,4,66,4],[105,10,66,10,"outerDimsB"],[105,20,66,20],[105,23,66,23,"$b"],[105,25,66,25],[105,26,66,26,"shape"],[105,31,66,31],[105,32,66,32,"slice"],[105,37,66,37],[105,38,66,38],[105,39,66,39],[105,41,66,41],[105,42,66,42],[105,43,66,43],[105,44,66,44],[106,4,67,4],[106,10,67,10,"batchDimA"],[106,19,67,19],[106,22,67,22,"util"],[106,26,67,26],[106,27,67,27,"sizeFromShape"],[106,40,67,40],[106,41,67,41,"outerDimsA"],[106,51,67,51],[106,52,67,52],[107,4,68,4],[107,10,68,10,"batchDimB"],[107,19,68,19],[107,22,68,22,"util"],[107,26,68,26],[107,27,68,27,"sizeFromShape"],[107,40,68,40],[107,41,68,41,"outerDimsB"],[107,51,68,51],[107,52,68,52],[108,4,69,4,"util"],[108,8,69,8],[108,9,69,9,"assert"],[108,15,69,15],[108,16,69,16,"innerShapeA"],[108,27,69,27],[108,32,69,32,"innerShapeB"],[108,43,69,43],[108,45,69,45],[108,51,69,51],[108,91,69,91,"innerShapeA"],[108,102,69,102],[108,111,69,111],[108,114,70,8],[108,117,70,11,"innerShapeB"],[108,128,70,22],[108,156,70,50,"$a"],[108,158,70,52],[108,159,70,53,"shape"],[108,164,70,58],[108,171,70,65],[108,174,71,8],[108,177,71,11,"$b"],[108,179,71,13],[108,180,71,14,"shape"],[108,185,71,19],[108,204,71,38,"transposeA"],[108,214,71,48],[108,216,71,50],[108,219,72,8],[108,238,72,27,"transposeB"],[108,248,72,37],[108,262,72,51],[108,263,72,52],[109,4,73,4],[109,10,73,10,"outShapeOuterDims"],[109,27,73,27],[109,30,73,30,"broadcast_util"],[109,44,73,44],[109,45,73,45,"assertAndGetBroadcastShape"],[109,71,73,71],[109,72,73,72,"$a"],[109,74,73,74],[109,75,73,75,"shape"],[109,80,73,80],[109,81,73,81,"slice"],[109,86,73,86],[109,87,73,87],[109,88,73,88],[109,90,73,90],[109,91,73,91],[109,92,73,92],[109,93,73,93],[109,95,73,95,"$b"],[109,97,73,97],[109,98,73,98,"shape"],[109,103,73,103],[109,104,73,104,"slice"],[109,109,73,109],[109,110,73,110],[109,111,73,111],[109,113,73,113],[109,114,73,114],[109,115,73,115],[109,116,73,116],[109,117,73,117],[110,4,74,4],[110,10,74,10,"outShape"],[110,18,74,18],[110,21,74,21,"outShapeOuterDims"],[110,38,74,38],[110,39,74,39,"concat"],[110,45,74,45],[110,46,74,46],[110,47,74,47,"outerShapeA"],[110,58,74,58],[110,60,74,60,"outerShapeB"],[110,71,74,71],[110,72,74,72],[110,73,74,73],[111,4,75,4],[111,10,75,10,"a3D"],[111,13,75,13],[111,16,75,16,"transposeA"],[111,26,75,26],[111,29,76,8],[111,33,76,8,"reshape"],[111,41,76,15],[111,42,76,15,"reshape"],[111,49,76,15],[111,51,76,16,"$a"],[111,53,76,18],[111,55,76,20],[111,56,76,21,"batchDimA"],[111,65,76,30],[111,67,76,32,"innerShapeA"],[111,78,76,43],[111,80,76,45,"outerShapeA"],[111,91,76,56],[111,92,76,57],[111,93,76,58],[111,96,77,8],[111,100,77,8,"reshape"],[111,108,77,15],[111,109,77,15,"reshape"],[111,116,77,15],[111,118,77,16,"$a"],[111,120,77,18],[111,122,77,20],[111,123,77,21,"batchDimA"],[111,132,77,30],[111,134,77,32,"outerShapeA"],[111,145,77,43],[111,147,77,45,"innerShapeA"],[111,158,77,56],[111,159,77,57],[111,160,77,58],[112,4,78,4],[112,10,78,10,"b3D"],[112,13,78,13],[112,16,78,16,"transposeB"],[112,26,78,26],[112,29,79,8],[112,33,79,8,"reshape"],[112,41,79,15],[112,42,79,15,"reshape"],[112,49,79,15],[112,51,79,16,"$b"],[112,53,79,18],[112,55,79,20],[112,56,79,21,"batchDimB"],[112,65,79,30],[112,67,79,32,"outerShapeB"],[112,78,79,43],[112,80,79,45,"innerShapeB"],[112,91,79,56],[112,92,79,57],[112,93,79,58],[112,96,80,8],[112,100,80,8,"reshape"],[112,108,80,15],[112,109,80,15,"reshape"],[112,116,80,15],[112,118,80,16,"$b"],[112,120,80,18],[112,122,80,20],[112,123,80,21,"batchDimB"],[112,132,80,30],[112,134,80,32,"innerShapeB"],[112,145,80,43],[112,147,80,45,"outerShapeB"],[112,158,80,56],[112,159,80,57],[112,160,80,58],[113,4,81,4],[113,8,81,8,"$bias"],[113,13,81,13],[114,4,82,4],[114,8,82,8,"bias"],[114,12,82,12],[114,16,82,16],[114,20,82,20],[114,22,82,22],[115,6,83,8,"$bias"],[115,11,83,13],[115,14,83,16],[115,18,83,16,"convertToTensor"],[115,34,83,31],[115,35,83,31,"convertToTensor"],[115,50,83,31],[115,52,83,32,"bias"],[115,56,83,36],[115,58,83,38],[115,64,83,44],[115,66,83,46],[115,80,83,60],[115,81,83,61],[116,6,84,8],[116,7,84,9,"$bias"],[116,12,84,14],[116,13,84,15],[116,16,84,18],[116,20,84,18,"makeTypesMatch"],[116,32,84,32],[116,33,84,32,"makeTypesMatch"],[116,47,84,32],[116,49,84,33,"$bias"],[116,54,84,38],[116,56,84,40,"$a"],[116,58,84,42],[116,59,84,43],[117,6,85,8,"broadcast_util"],[117,20,85,22],[117,21,85,23,"assertAndGetBroadcastShape"],[117,47,85,49],[117,48,85,50,"outShape"],[117,56,85,58],[117,58,85,60,"$bias"],[117,63,85,65],[117,64,85,66,"shape"],[117,69,85,71],[117,70,85,72],[118,4,86,4],[119,4,87,4],[119,8,87,8,"$preluActivationWeights"],[119,31,87,31],[120,4,88,4],[120,8,88,8,"preluActivationWeights"],[120,30,88,30],[120,34,88,34],[120,38,88,38],[120,40,88,40],[121,6,89,8,"$preluActivationWeights"],[121,29,89,31],[121,32,89,34],[121,36,89,34,"convertToTensor"],[121,52,89,49],[121,53,89,49,"convertToTensor"],[121,68,89,49],[121,70,89,50,"preluActivationWeights"],[121,92,89,72],[121,94,89,74],[121,109,89,89],[121,111,89,91],[121,125,89,105],[121,126,89,106],[122,4,90,4],[123,4,91,4],[123,10,91,10,"grad"],[123,14,91,14],[123,17,91,17,"grad"],[123,18,91,18,"dy"],[123,20,91,20],[123,22,91,22,"saved"],[123,27,91,27],[123,32,91,32],[124,6,92,8],[124,12,92,14],[124,13,92,15,"a3D"],[124,16,92,18],[124,18,92,20,"b3D"],[124,21,92,23],[124,23,92,25,"y"],[124,24,92,26],[124,26,92,28,"$bias"],[124,31,92,33],[124,32,92,34],[124,35,92,37,"saved"],[124,40,92,42],[125,6,93,8],[126,6,94,8],[127,6,95,8],[128,6,96,8],[128,12,96,14,"dyActivation"],[128,24,96,26],[128,27,96,29],[128,31,96,29,"getFusedDyActivation"],[128,42,96,49],[128,43,96,49,"getFusedDyActivation"],[128,63,96,49],[128,65,96,50],[128,69,96,50,"reshape"],[128,77,96,57],[128,78,96,57,"reshape"],[128,85,96,57],[128,87,96,58,"dy"],[128,89,96,60],[128,91,96,62,"y"],[128,92,96,63],[128,93,96,64,"shape"],[128,98,96,69],[128,99,96,70],[128,101,96,72,"y"],[128,102,96,73],[128,104,96,75,"activation"],[128,114,96,85],[128,115,96,86],[129,6,97,8],[129,10,97,12,"aDer"],[129,14,97,16],[130,6,98,8],[130,10,98,12,"bDer"],[130,14,98,16],[131,6,99,8],[131,10,99,12],[131,11,99,13,"transposeA"],[131,21,99,23],[131,25,99,27],[131,26,99,28,"transposeB"],[131,36,99,38],[131,38,99,40],[132,8,100,12,"aDer"],[132,12,100,16],[132,15,100,19],[132,19,100,19,"unfusedMatMul"],[132,27,100,32],[132,28,100,32,"matMul"],[132,34,100,32],[132,36,100,33,"dyActivation"],[132,48,100,45],[132,50,100,47,"b3D"],[132,53,100,50],[132,55,100,52],[132,60,100,57],[132,62,100,59],[132,66,100,63],[132,67,100,64],[133,8,101,12,"bDer"],[133,12,101,16],[133,15,101,19],[133,19,101,19,"unfusedMatMul"],[133,27,101,32],[133,28,101,32,"matMul"],[133,34,101,32],[133,36,101,33,"a3D"],[133,39,101,36],[133,41,101,38,"dyActivation"],[133,53,101,50],[133,55,101,52],[133,59,101,56],[133,61,101,58],[133,66,101,63],[133,67,101,64],[134,6,102,8],[134,7,102,9],[134,13,103,13],[134,17,103,17],[134,18,103,18,"transposeA"],[134,28,103,28],[134,32,103,32,"transposeB"],[134,42,103,42],[134,44,103,44],[135,8,104,12,"aDer"],[135,12,104,16],[135,15,104,19],[135,19,104,19,"unfusedMatMul"],[135,27,104,32],[135,28,104,32,"matMul"],[135,34,104,32],[135,36,104,33,"dyActivation"],[135,48,104,45],[135,50,104,47,"b3D"],[135,53,104,50],[135,55,104,52],[135,60,104,57],[135,62,104,59],[135,67,104,64],[135,68,104,65],[136,8,105,12,"bDer"],[136,12,105,16],[136,15,105,19],[136,19,105,19,"unfusedMatMul"],[136,27,105,32],[136,28,105,32,"matMul"],[136,34,105,32],[136,36,105,33,"dyActivation"],[136,48,105,45],[136,50,105,47,"a3D"],[136,53,105,50],[136,55,105,52],[136,59,105,56],[136,61,105,58],[136,66,105,63],[136,67,105,64],[137,6,106,8],[137,7,106,9],[137,13,107,13],[137,17,107,17,"transposeA"],[137,27,107,27],[137,31,107,31],[137,32,107,32,"transposeB"],[137,42,107,42],[137,44,107,44],[138,8,108,12,"aDer"],[138,12,108,16],[138,15,108,19],[138,19,108,19,"unfusedMatMul"],[138,27,108,32],[138,28,108,32,"matMul"],[138,34,108,32],[138,36,108,33,"b3D"],[138,39,108,36],[138,41,108,38,"dyActivation"],[138,53,108,50],[138,55,108,52],[138,60,108,57],[138,62,108,59],[138,66,108,63],[138,67,108,64],[139,8,109,12,"bDer"],[139,12,109,16],[139,15,109,19],[139,19,109,19,"unfusedMatMul"],[139,27,109,32],[139,28,109,32,"matMul"],[139,34,109,32],[139,36,109,33,"a3D"],[139,39,109,36],[139,41,109,38,"dyActivation"],[139,53,109,50],[139,55,109,52],[139,60,109,57],[139,62,109,59],[139,67,109,64],[139,68,109,65],[140,6,110,8],[140,7,110,9],[140,13,111,13],[141,8,112,12,"aDer"],[141,12,112,16],[141,15,112,19],[141,19,112,19,"unfusedMatMul"],[141,27,112,32],[141,28,112,32,"matMul"],[141,34,112,32],[141,36,112,33,"b3D"],[141,39,112,36],[141,41,112,38,"dyActivation"],[141,53,112,50],[141,55,112,52],[141,59,112,56],[141,61,112,58],[141,65,112,62],[141,66,112,63],[142,8,113,12,"bDer"],[142,12,113,16],[142,15,113,19],[142,19,113,19,"unfusedMatMul"],[142,27,113,32],[142,28,113,32,"matMul"],[142,34,113,32],[142,36,113,33,"dyActivation"],[142,48,113,45],[142,50,113,47,"a3D"],[142,53,113,50],[142,55,113,52],[142,59,113,56],[142,61,113,58],[142,65,113,62],[142,66,113,63],[143,6,114,8],[144,6,115,8],[144,10,115,12,"bias"],[144,14,115,16],[144,18,115,20],[144,22,115,24],[144,24,115,26],[145,8,116,12],[145,14,116,18,"biasDer"],[145,21,116,25],[145,24,116,28],[145,28,116,28,"getFusedBiasGradient"],[145,39,116,48],[145,40,116,48,"getFusedBiasGradient"],[145,60,116,48],[145,62,116,49,"$bias"],[145,67,116,54],[145,69,116,56,"dyActivation"],[145,81,116,68],[145,82,116,69],[146,8,117,12],[146,15,117,19],[146,16,117,20,"aDer"],[146,20,117,24],[146,22,117,26,"bDer"],[146,26,117,30],[146,28,117,32,"biasDer"],[146,35,117,39],[146,36,117,40],[147,6,118,8],[147,7,118,9],[147,13,119,13],[148,8,120,12],[148,15,120,19],[148,16,120,20,"aDer"],[148,20,120,24],[148,22,120,26,"bDer"],[148,26,120,30],[148,27,120,31],[149,6,121,8],[150,4,122,4],[150,5,122,5],[151,4,123,4],[151,10,123,10,"inputs"],[151,16,123,16],[151,19,123,19],[152,6,124,8,"a"],[152,7,124,9],[152,9,124,11,"a3D"],[152,12,124,14],[153,6,125,8,"b"],[153,7,125,9],[153,9,125,11,"b3D"],[153,12,125,14],[154,6,126,8,"bias"],[154,10,126,12],[154,12,126,14,"$bias"],[154,17,126,19],[155,6,127,8,"preluActivationWeights"],[155,28,127,30],[155,30,127,32,"$preluActivationWeights"],[156,4,128,4],[156,5,128,5],[157,4,129,4],[157,10,129,10,"attrs"],[157,15,129,15],[157,18,129,18],[158,6,129,20,"transposeA"],[158,16,129,30],[159,6,129,32,"transposeB"],[159,16,129,42],[160,6,129,44,"activation"],[160,16,129,54],[161,6,129,56,"leakyreluAlpha"],[162,4,129,71],[162,5,129,72],[163,4,130,4],[164,4,131,4],[165,4,132,4],[165,8,132,8,"bias"],[165,12,132,12],[165,16,132,16],[165,20,132,20],[165,22,132,22],[166,6,133,8],[166,12,133,14,"customOp"],[166,20,133,22],[166,23,133,25],[166,27,133,25,"customGrad"],[166,37,133,35],[166,38,133,35,"customGrad"],[166,48,133,35],[166,50,133,36],[166,51,133,37,"a3D"],[166,54,133,40],[166,56,133,42,"b3D"],[166,59,133,45],[166,61,133,47,"save"],[166,65,133,51],[166,70,133,56],[167,8,134,12],[167,14,134,18,"res"],[167,17,134,21],[168,8,135,12],[169,8,136,12,"ENGINE"],[169,15,136,18],[169,16,136,18,"ENGINE"],[169,22,136,18],[169,23,136,19,"runKernel"],[169,32,136,28],[169,33,136,29,"_FusedMatMul"],[169,46,136,41],[169,47,136,41,"_FusedMatMul"],[169,59,136,41],[169,61,136,43,"inputs"],[169,67,136,49],[169,69,136,51,"attrs"],[169,74,136,56],[169,75,136,57],[170,8,137,12,"save"],[170,12,137,16],[170,13,137,17],[170,14,137,18,"a3D"],[170,17,137,21],[170,19,137,23,"b3D"],[170,22,137,26],[170,24,137,28,"res"],[170,27,137,31],[170,28,137,32],[170,29,137,33],[171,8,138,12],[171,15,138,19],[172,10,138,21,"value"],[172,15,138,26],[172,17,138,28],[172,21,138,28,"reshape"],[172,29,138,35],[172,30,138,35,"reshape"],[172,37,138,35],[172,39,138,36,"res"],[172,42,138,39],[172,44,138,41,"outShape"],[172,52,138,49],[172,53,138,50],[173,10,138,52,"gradFunc"],[173,18,138,60],[173,20,138,62,"grad"],[174,8,138,67],[174,9,138,68],[175,6,139,8],[175,7,139,9],[175,8,139,10],[176,6,140,8],[176,13,140,15,"customOp"],[176,21,140,23],[176,22,140,24,"a3D"],[176,25,140,27],[176,27,140,29,"b3D"],[176,30,140,32],[176,31,140,33],[177,4,141,4],[177,5,141,5],[177,11,142,9],[178,6,143,8],[178,12,143,14,"customOpWithBias"],[178,28,143,30],[178,31,143,33],[178,35,143,33,"customGrad"],[178,45,143,43],[178,46,143,43,"customGrad"],[178,56,143,43],[178,58,143,44],[178,59,143,45,"a3D"],[178,62,143,48],[178,64,143,50,"b3D"],[178,67,143,53],[178,69,143,55,"$bias"],[178,74,143,60],[178,76,143,62,"save"],[178,80,143,66],[178,85,143,71],[179,8,144,12],[179,14,144,18,"res"],[179,17,144,21],[180,8,145,12],[181,8,146,12,"ENGINE"],[181,15,146,18],[181,16,146,18,"ENGINE"],[181,22,146,18],[181,23,146,19,"runKernel"],[181,32,146,28],[181,33,146,29,"_FusedMatMul"],[181,46,146,41],[181,47,146,41,"_FusedMatMul"],[181,59,146,41],[181,61,146,43,"inputs"],[181,67,146,49],[181,69,146,51,"attrs"],[181,74,146,56],[181,75,146,57],[182,8,147,12,"save"],[182,12,147,16],[182,13,147,17],[182,14,147,18,"a3D"],[182,17,147,21],[182,19,147,23,"b3D"],[182,22,147,26],[182,24,147,28,"res"],[182,27,147,31],[182,29,147,33,"$bias"],[182,34,147,38],[182,35,147,39],[182,36,147,40],[183,8,148,12],[183,15,148,19],[184,10,148,21,"value"],[184,15,148,26],[184,17,148,28],[184,21,148,28,"reshape"],[184,29,148,35],[184,30,148,35,"reshape"],[184,37,148,35],[184,39,148,36,"res"],[184,42,148,39],[184,44,148,41,"outShape"],[184,52,148,49],[184,53,148,50],[185,10,148,52,"gradFunc"],[185,18,148,60],[185,20,148,62,"grad"],[186,8,148,67],[186,9,148,68],[187,6,149,8],[187,7,149,9],[187,8,149,10],[188,6,150,8],[188,13,150,15,"customOpWithBias"],[188,29,150,31],[188,30,150,32,"a3D"],[188,33,150,35],[188,35,150,37,"b3D"],[188,38,150,40],[188,40,150,42,"$bias"],[188,45,150,47],[188,46,150,48],[189,4,151,4],[190,2,152,0],[191,2,153,7],[191,8,153,13,"matMul"],[191,14,153,19],[191,17,153,22],[191,32,153,38],[191,36,153,38,"op"],[191,46,153,40],[191,47,153,40,"op"],[191,49,153,40],[191,51,153,41],[192,4,153,43,"fusedMatMul_"],[193,2,153,56],[193,3,153,57],[193,4,153,58],[194,0,153,59],[194,3]],"functionMap":{"names":["<global>","fusedMatMul_","util.assert$argument_1","grad","customGrad$argument_0"],"mappings":"AAA;ACiD;6CCmB;mDDG;iBEmB;KF+B;oCGW;SHM;4CGI;SHM;CDG"},"hasCjsExports":false},"type":"js/module"}]}