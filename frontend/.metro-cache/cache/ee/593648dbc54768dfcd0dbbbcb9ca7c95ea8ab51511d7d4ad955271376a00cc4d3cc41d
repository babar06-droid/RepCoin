{"dependencies":[{"name":"../../gradients","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":45,"index":748}}],"key":"1W1GjGAz1ANThnsYAcTE3C3OmzY=","exportNames":["*"],"imports":1}},{"name":"../../tensor_util_env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":749},"end":{"line":18,"column":56,"index":805}}],"key":"xfSGNGkCJdZhfQ673y/6d+no2yU=","exportNames":["*"],"imports":1}},{"name":"../../util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":806},"end":{"line":19,"column":47,"index":853}}],"key":"OiLVMoS12Mp3xgHkQeTdnQIBX6Q=","exportNames":["*"],"imports":1}},{"name":"../add","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":854},"end":{"line":20,"column":29,"index":883}}],"key":"S+ID0fW8sc9iwSUS6COac9En52o=","exportNames":["*"],"imports":1}},{"name":"../axis_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":884},"end":{"line":21,"column":52,"index":936}}],"key":"ySZPrt9tnxg5YZmojB/LoEzsHcs=","exportNames":["*"],"imports":1}},{"name":"../cast","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":937},"end":{"line":22,"column":31,"index":968}}],"key":"D+BUEx5BO0JXxAXMtu4IMlEZU0c=","exportNames":["*"],"imports":1}},{"name":"../div","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":969},"end":{"line":23,"column":29,"index":998}}],"key":"5rHCiV00cfBGwUZFTnTN9j0PzWw=","exportNames":["*"],"imports":1}},{"name":"../exp","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":999},"end":{"line":24,"column":29,"index":1028}}],"key":"zCudubqQh0dHkLaVIX2qSxH207c=","exportNames":["*"],"imports":1}},{"name":"../log_sum_exp","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":1029},"end":{"line":25,"column":43,"index":1072}}],"key":"PMb6WpCAenW2oHYoBox7GEKKHCQ=","exportNames":["*"],"imports":1}},{"name":"../loss_ops_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":26,"column":0,"index":1073},"end":{"line":26,"column":46,"index":1119}}],"key":"DAPyQ0ldu7pmRn3jRz+wBfmq/uQ=","exportNames":["*"],"imports":1}},{"name":"../mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":27,"column":0,"index":1120},"end":{"line":27,"column":29,"index":1149}}],"key":"IV74B7MBUPoSZUTM5ocGXe9fIRE=","exportNames":["*"],"imports":1}},{"name":"../neg","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":28,"column":0,"index":1150},"end":{"line":28,"column":29,"index":1179}}],"key":"dIvRqtCbdaqqXK829v9NQbmYkxI=","exportNames":["*"],"imports":1}},{"name":"../operation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":29,"column":0,"index":1180},"end":{"line":29,"column":34,"index":1214}}],"key":"fQilPqfSvhAHjyfKT0P4wel7jE4=","exportNames":["*"],"imports":1}},{"name":"../reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":30,"column":0,"index":1215},"end":{"line":30,"column":37,"index":1252}}],"key":"88jbakDJZT9IhaURceTSW5G0Dno=","exportNames":["*"],"imports":1}},{"name":"../scalar","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":31,"column":0,"index":1253},"end":{"line":31,"column":35,"index":1288}}],"key":"u3TTm6Tdu30WLt+AMD6qMWu+U20=","exportNames":["*"],"imports":1}},{"name":"../sub","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":32,"column":0,"index":1289},"end":{"line":32,"column":29,"index":1318}}],"key":"VHM5JuAkEzgPhqMJH9y/GvrNozc=","exportNames":["*"],"imports":1}},{"name":"../sum","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":33,"column":0,"index":1319},"end":{"line":33,"column":29,"index":1348}}],"key":"iMzhCilxhON+Kq66I0CtH0j3scg=","exportNames":["*"],"imports":1}},{"name":"./compute_weighted_loss","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":34,"column":0,"index":1349},"end":{"line":34,"column":62,"index":1411}}],"key":"GQ6sNEw27lLpLYC7mByWPpwMOcY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"softmaxCrossEntropy\", {\n    enumerable: true,\n    get: function () {\n      return softmaxCrossEntropy;\n    }\n  });\n  var _gradients = require(_dependencyMap[0], \"../../gradients\");\n  var _tensor_util_env = require(_dependencyMap[1], \"../../tensor_util_env\");\n  var _util = require(_dependencyMap[2], \"../../util\");\n  var _add = require(_dependencyMap[3], \"../add\");\n  var _axis_util = require(_dependencyMap[4], \"../axis_util\");\n  var _cast = require(_dependencyMap[5], \"../cast\");\n  var _div = require(_dependencyMap[6], \"../div\");\n  var _exp = require(_dependencyMap[7], \"../exp\");\n  var _log_sum_exp = require(_dependencyMap[8], \"../log_sum_exp\");\n  var _loss_ops_utils = require(_dependencyMap[9], \"../loss_ops_utils\");\n  var _mul = require(_dependencyMap[10], \"../mul\");\n  var _neg = require(_dependencyMap[11], \"../neg\");\n  var _operation = require(_dependencyMap[12], \"../operation\");\n  var _reshape = require(_dependencyMap[13], \"../reshape\");\n  var _scalar = require(_dependencyMap[14], \"../scalar\");\n  var _sub = require(_dependencyMap[15], \"../sub\");\n  var _sum = require(_dependencyMap[16], \"../sum\");\n  var _compute_weighted_loss = require(_dependencyMap[17], \"./compute_weighted_loss\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  /**\n   * Computes softmax cross entropy between logits and labels.\n   *\n   * Measures the probability error in discrete classification tasks in which\n   * the classes are mutually exclusive (each entry is in exactly one class).\n   * For example, each CIFAR-10 image is labeled with one and only one label: an\n   * image can be a dog or a truck, but not both.\n   *\n   * `NOTE`: While the classes are mutually exclusive, their probabilities need\n   * not be. All that is required is that each row of labels is a valid\n   * probability distribution. If they are not, the computation of the gradient\n   * will be incorrect.\n   *\n   * `WARNING`: This op expects unscaled logits, since it performs a softmax on\n   * logits internally for efficiency. Do not call this op with the output of\n   * softmax, as it will produce incorrect results.\n   *\n   * logits and labels must have the same shape, e.g. [batch_size, num_classes]\n   * and the same dtype.\n   * @param labels The labels array.\n   * @param logits The logits array.\n   * @param dim The dimension softmax would be performed on. Defaults to `-1`\n   *     which indicates the last dimension.\n   */\n  function softmaxCrossEntropyWithLogits_(labels, logits, dim = -1) {\n    if (dim === -1) {\n      dim = logits.rank - 1;\n    }\n    if (dim !== logits.rank - 1) {\n      throw Error(`Softmax cross entropy along a non-last dimension is not yet ` + `supported. Labels / logits was rank ${logits.rank} ` + `and dim was ${dim}`);\n    }\n    // Use a custom gradient for numerical stability.\n    const customOp = (0, _gradients.customGrad)((labels, logits, save) => {\n      // Reference:\n      //   1. http://cs231n.github.io/linear-classify/#softmax\n      //   2. https://blog.feedly.com/tricks-of-the-trade-logsumexp/\n      const keepDims = true;\n      const lse = (0, _log_sum_exp.logSumExp)(logits, [dim], keepDims);\n      const logResult = (0, _sub.sub)((0, _cast.cast)(logits, 'float32'), lse);\n      save([labels, logResult]);\n      const costVector = (0, _neg.neg)((0, _mul.mul)(logResult, labels));\n      const value = (0, _sum.sum)(costVector, [dim]);\n      const gradFunc = (dy, saved) => {\n        const [labels, logResult] = saved;\n        const dyShape = (0, _axis_util.expandShapeToKeepDim)(dy.shape, [dim]);\n        return [(0, _mul.mul)((0, _reshape.reshape)(dy, dyShape), (0, _sub.sub)((0, _cast.cast)(labels, 'float32'), (0, _exp.exp)(logResult))), (0, _mul.mul)((0, _reshape.reshape)(dy, dyShape), (0, _sub.sub)((0, _exp.exp)(logResult), (0, _cast.cast)(labels, 'float32')))];\n      };\n      return {\n        value,\n        gradFunc\n      };\n    });\n    return customOp(labels, logits);\n  }\n  /**\n   * Computes the softmax cross entropy loss between two tensors.\n   *\n   * If labelSmoothing is nonzero, smooth the labels towards 1/2:\n   *\n   *   newOnehotLabels = onehotLabels * (1 - labelSmoothing)\n   *                         + labelSmoothing / numClasses\n   *\n   * @param onehotLabels One hot encoded labels\n   *    [batch_size, num_classes], same dimensions as 'predictions'.\n   * @param logits The predicted outputs.\n   * @param weights Tensor whose rank is either 0, or 1, and must be\n   *    broadcastable to `loss`  of shape [batch_size]\n   * @param labelSmoothing If greater than 0, then smooth the labels.\n   * @param reduction Type of reduction to apply to loss. Should be of type\n   *    `Reduction`\n   *\n   * @doc { heading: 'Training', subheading: 'Losses', namespace: 'losses' }\n   */\n  function softmaxCrossEntropy_(onehotLabels, logits, weights, labelSmoothing = 0, reduction = _loss_ops_utils.Reduction.SUM_BY_NONZERO_WEIGHTS) {\n    let $onehotLabels = (0, _tensor_util_env.convertToTensor)(onehotLabels, 'onehotLabels', 'softmaxCrossEntropy');\n    const $logits = (0, _tensor_util_env.convertToTensor)(logits, 'logits', 'softmaxCrossEntropy');\n    let $weights = null;\n    if (weights != null) {\n      $weights = (0, _tensor_util_env.convertToTensor)(weights, 'weights', 'softmaxCrossEntropy');\n    }\n    (0, _util.assertShapesMatch)($onehotLabels.shape, $logits.shape, 'Error in softmaxCrossEntropy: ');\n    if (labelSmoothing > 0) {\n      const labelSmoothingScalar = (0, _scalar.scalar)(labelSmoothing);\n      const one = (0, _scalar.scalar)(1);\n      const numClasses = (0, _scalar.scalar)($onehotLabels.shape[1]);\n      $onehotLabels = (0, _add.add)((0, _mul.mul)($onehotLabels, (0, _sub.sub)(one, labelSmoothingScalar)), (0, _div.div)(labelSmoothingScalar, numClasses));\n    }\n    const losses = softmaxCrossEntropyWithLogits_($onehotLabels, $logits);\n    return (0, _compute_weighted_loss.computeWeightedLoss)(losses, $weights, reduction);\n  }\n  const softmaxCrossEntropy = /* @__PURE__ */(0, _operation.op)({\n    softmaxCrossEntropy_\n  });\n});","lineCount":141,"map":[[7,2,128,0,"Object"],[7,8,128,0],[7,9,128,0,"defineProperty"],[7,23,128,0],[7,24,128,0,"exports"],[7,31,128,0],[8,4,128,0,"enumerable"],[8,14,128,0],[9,4,128,0,"get"],[9,7,128,0],[9,18,128,0,"get"],[9,19,128,0],[10,6,128,0],[10,13,128,0,"softmaxCrossEntropy"],[10,32,128,0],[11,4,128,0],[12,2,128,0],[13,2,17,0],[13,6,17,0,"_gradients"],[13,16,17,0],[13,19,17,0,"require"],[13,26,17,0],[13,27,17,0,"_dependencyMap"],[13,41,17,0],[14,2,18,0],[14,6,18,0,"_tensor_util_env"],[14,22,18,0],[14,25,18,0,"require"],[14,32,18,0],[14,33,18,0,"_dependencyMap"],[14,47,18,0],[15,2,19,0],[15,6,19,0,"_util"],[15,11,19,0],[15,14,19,0,"require"],[15,21,19,0],[15,22,19,0,"_dependencyMap"],[15,36,19,0],[16,2,20,0],[16,6,20,0,"_add"],[16,10,20,0],[16,13,20,0,"require"],[16,20,20,0],[16,21,20,0,"_dependencyMap"],[16,35,20,0],[17,2,21,0],[17,6,21,0,"_axis_util"],[17,16,21,0],[17,19,21,0,"require"],[17,26,21,0],[17,27,21,0,"_dependencyMap"],[17,41,21,0],[18,2,22,0],[18,6,22,0,"_cast"],[18,11,22,0],[18,14,22,0,"require"],[18,21,22,0],[18,22,22,0,"_dependencyMap"],[18,36,22,0],[19,2,23,0],[19,6,23,0,"_div"],[19,10,23,0],[19,13,23,0,"require"],[19,20,23,0],[19,21,23,0,"_dependencyMap"],[19,35,23,0],[20,2,24,0],[20,6,24,0,"_exp"],[20,10,24,0],[20,13,24,0,"require"],[20,20,24,0],[20,21,24,0,"_dependencyMap"],[20,35,24,0],[21,2,25,0],[21,6,25,0,"_log_sum_exp"],[21,18,25,0],[21,21,25,0,"require"],[21,28,25,0],[21,29,25,0,"_dependencyMap"],[21,43,25,0],[22,2,26,0],[22,6,26,0,"_loss_ops_utils"],[22,21,26,0],[22,24,26,0,"require"],[22,31,26,0],[22,32,26,0,"_dependencyMap"],[22,46,26,0],[23,2,27,0],[23,6,27,0,"_mul"],[23,10,27,0],[23,13,27,0,"require"],[23,20,27,0],[23,21,27,0,"_dependencyMap"],[23,35,27,0],[24,2,28,0],[24,6,28,0,"_neg"],[24,10,28,0],[24,13,28,0,"require"],[24,20,28,0],[24,21,28,0,"_dependencyMap"],[24,35,28,0],[25,2,29,0],[25,6,29,0,"_operation"],[25,16,29,0],[25,19,29,0,"require"],[25,26,29,0],[25,27,29,0,"_dependencyMap"],[25,41,29,0],[26,2,30,0],[26,6,30,0,"_reshape"],[26,14,30,0],[26,17,30,0,"require"],[26,24,30,0],[26,25,30,0,"_dependencyMap"],[26,39,30,0],[27,2,31,0],[27,6,31,0,"_scalar"],[27,13,31,0],[27,16,31,0,"require"],[27,23,31,0],[27,24,31,0,"_dependencyMap"],[27,38,31,0],[28,2,32,0],[28,6,32,0,"_sub"],[28,10,32,0],[28,13,32,0,"require"],[28,20,32,0],[28,21,32,0,"_dependencyMap"],[28,35,32,0],[29,2,33,0],[29,6,33,0,"_sum"],[29,10,33,0],[29,13,33,0,"require"],[29,20,33,0],[29,21,33,0,"_dependencyMap"],[29,35,33,0],[30,2,34,0],[30,6,34,0,"_compute_weighted_loss"],[30,28,34,0],[30,31,34,0,"require"],[30,38,34,0],[30,39,34,0,"_dependencyMap"],[30,53,34,0],[31,2,1,0],[32,0,2,0],[33,0,3,0],[34,0,4,0],[35,0,5,0],[36,0,6,0],[37,0,7,0],[38,0,8,0],[39,0,9,0],[40,0,10,0],[41,0,11,0],[42,0,12,0],[43,0,13,0],[44,0,14,0],[45,0,15,0],[46,0,16,0],[48,2,35,0],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,0,41,0],[55,0,42,0],[56,0,43,0],[57,0,44,0],[58,0,45,0],[59,0,46,0],[60,0,47,0],[61,0,48,0],[62,0,49,0],[63,0,50,0],[64,0,51,0],[65,0,52,0],[66,0,53,0],[67,0,54,0],[68,0,55,0],[69,0,56,0],[70,0,57,0],[71,0,58,0],[72,2,59,0],[72,11,59,9,"softmaxCrossEntropyWithLogits_"],[72,41,59,39,"softmaxCrossEntropyWithLogits_"],[72,42,59,40,"labels"],[72,48,59,46],[72,50,59,48,"logits"],[72,56,59,54],[72,58,59,56,"dim"],[72,61,59,59],[72,64,59,62],[72,65,59,63],[72,66,59,64],[72,68,59,66],[73,4,60,4],[73,8,60,8,"dim"],[73,11,60,11],[73,16,60,16],[73,17,60,17],[73,18,60,18],[73,20,60,20],[74,6,61,8,"dim"],[74,9,61,11],[74,12,61,14,"logits"],[74,18,61,20],[74,19,61,21,"rank"],[74,23,61,25],[74,26,61,28],[74,27,61,29],[75,4,62,4],[76,4,63,4],[76,8,63,8,"dim"],[76,11,63,11],[76,16,63,16,"logits"],[76,22,63,22],[76,23,63,23,"rank"],[76,27,63,27],[76,30,63,30],[76,31,63,31],[76,33,63,33],[77,6,64,8],[77,12,64,14,"Error"],[77,17,64,19],[77,18,64,20],[77,80,64,82],[77,83,65,12],[77,122,65,51,"logits"],[77,128,65,57],[77,129,65,58,"rank"],[77,133,65,62],[77,136,65,65],[77,139,66,12],[77,154,66,27,"dim"],[77,157,66,30],[77,159,66,32],[77,160,66,33],[78,4,67,4],[79,4,68,4],[80,4,69,4],[80,10,69,10,"customOp"],[80,18,69,18],[80,21,69,21],[80,25,69,21,"customGrad"],[80,35,69,31],[80,36,69,31,"customGrad"],[80,46,69,31],[80,48,69,32],[80,49,69,33,"labels"],[80,55,69,39],[80,57,69,41,"logits"],[80,63,69,47],[80,65,69,49,"save"],[80,69,69,53],[80,74,69,58],[81,6,70,8],[82,6,71,8],[83,6,72,8],[84,6,73,8],[84,12,73,14,"keepDims"],[84,20,73,22],[84,23,73,25],[84,27,73,29],[85,6,74,8],[85,12,74,14,"lse"],[85,15,74,17],[85,18,74,20],[85,22,74,20,"logSumExp"],[85,34,74,29],[85,35,74,29,"logSumExp"],[85,44,74,29],[85,46,74,30,"logits"],[85,52,74,36],[85,54,74,38],[85,55,74,39,"dim"],[85,58,74,42],[85,59,74,43],[85,61,74,45,"keepDims"],[85,69,74,53],[85,70,74,54],[86,6,75,8],[86,12,75,14,"logResult"],[86,21,75,23],[86,24,75,26],[86,28,75,26,"sub"],[86,32,75,29],[86,33,75,29,"sub"],[86,36,75,29],[86,38,75,30],[86,42,75,30,"cast"],[86,47,75,34],[86,48,75,34,"cast"],[86,52,75,34],[86,54,75,35,"logits"],[86,60,75,41],[86,62,75,43],[86,71,75,52],[86,72,75,53],[86,74,75,55,"lse"],[86,77,75,58],[86,78,75,59],[87,6,76,8,"save"],[87,10,76,12],[87,11,76,13],[87,12,76,14,"labels"],[87,18,76,20],[87,20,76,22,"logResult"],[87,29,76,31],[87,30,76,32],[87,31,76,33],[88,6,77,8],[88,12,77,14,"costVector"],[88,22,77,24],[88,25,77,27],[88,29,77,27,"neg"],[88,33,77,30],[88,34,77,30,"neg"],[88,37,77,30],[88,39,77,31],[88,43,77,31,"mul"],[88,47,77,34],[88,48,77,34,"mul"],[88,51,77,34],[88,53,77,35,"logResult"],[88,62,77,44],[88,64,77,46,"labels"],[88,70,77,52],[88,71,77,53],[88,72,77,54],[89,6,78,8],[89,12,78,14,"value"],[89,17,78,19],[89,20,78,22],[89,24,78,22,"sum"],[89,28,78,25],[89,29,78,25,"sum"],[89,32,78,25],[89,34,78,26,"costVector"],[89,44,78,36],[89,46,78,38],[89,47,78,39,"dim"],[89,50,78,42],[89,51,78,43],[89,52,78,44],[90,6,79,8],[90,12,79,14,"gradFunc"],[90,20,79,22],[90,23,79,25,"gradFunc"],[90,24,79,26,"dy"],[90,26,79,28],[90,28,79,30,"saved"],[90,33,79,35],[90,38,79,40],[91,8,80,12],[91,14,80,18],[91,15,80,19,"labels"],[91,21,80,25],[91,23,80,27,"logResult"],[91,32,80,36],[91,33,80,37],[91,36,80,40,"saved"],[91,41,80,45],[92,8,81,12],[92,14,81,18,"dyShape"],[92,21,81,25],[92,24,81,28],[92,28,81,28,"expandShapeToKeepDim"],[92,38,81,48],[92,39,81,48,"expandShapeToKeepDim"],[92,59,81,48],[92,61,81,49,"dy"],[92,63,81,51],[92,64,81,52,"shape"],[92,69,81,57],[92,71,81,59],[92,72,81,60,"dim"],[92,75,81,63],[92,76,81,64],[92,77,81,65],[93,8,82,12],[93,15,82,19],[93,16,83,16],[93,20,83,16,"mul"],[93,24,83,19],[93,25,83,19,"mul"],[93,28,83,19],[93,30,83,20],[93,34,83,20,"reshape"],[93,42,83,27],[93,43,83,27,"reshape"],[93,50,83,27],[93,52,83,28,"dy"],[93,54,83,30],[93,56,83,32,"dyShape"],[93,63,83,39],[93,64,83,40],[93,66,83,42],[93,70,83,42,"sub"],[93,74,83,45],[93,75,83,45,"sub"],[93,78,83,45],[93,80,83,46],[93,84,83,46,"cast"],[93,89,83,50],[93,90,83,50,"cast"],[93,94,83,50],[93,96,83,51,"labels"],[93,102,83,57],[93,104,83,59],[93,113,83,68],[93,114,83,69],[93,116,83,71],[93,120,83,71,"exp"],[93,124,83,74],[93,125,83,74,"exp"],[93,128,83,74],[93,130,83,75,"logResult"],[93,139,83,84],[93,140,83,85],[93,141,83,86],[93,142,83,87],[93,144,84,16],[93,148,84,16,"mul"],[93,152,84,19],[93,153,84,19,"mul"],[93,156,84,19],[93,158,84,20],[93,162,84,20,"reshape"],[93,170,84,27],[93,171,84,27,"reshape"],[93,178,84,27],[93,180,84,28,"dy"],[93,182,84,30],[93,184,84,32,"dyShape"],[93,191,84,39],[93,192,84,40],[93,194,84,42],[93,198,84,42,"sub"],[93,202,84,45],[93,203,84,45,"sub"],[93,206,84,45],[93,208,84,46],[93,212,84,46,"exp"],[93,216,84,49],[93,217,84,49,"exp"],[93,220,84,49],[93,222,84,50,"logResult"],[93,231,84,59],[93,232,84,60],[93,234,84,62],[93,238,84,62,"cast"],[93,243,84,66],[93,244,84,66,"cast"],[93,248,84,66],[93,250,84,67,"labels"],[93,256,84,73],[93,258,84,75],[93,267,84,84],[93,268,84,85],[93,269,84,86],[93,270,84,87],[93,271,85,13],[94,6,86,8],[94,7,86,9],[95,6,87,8],[95,13,87,15],[96,8,87,17,"value"],[96,13,87,22],[97,8,87,24,"gradFunc"],[98,6,87,33],[98,7,87,34],[99,4,88,4],[99,5,88,5],[99,6,88,6],[100,4,89,4],[100,11,89,11,"customOp"],[100,19,89,19],[100,20,89,20,"labels"],[100,26,89,26],[100,28,89,28,"logits"],[100,34,89,34],[100,35,89,35],[101,2,90,0],[102,2,91,0],[103,0,92,0],[104,0,93,0],[105,0,94,0],[106,0,95,0],[107,0,96,0],[108,0,97,0],[109,0,98,0],[110,0,99,0],[111,0,100,0],[112,0,101,0],[113,0,102,0],[114,0,103,0],[115,0,104,0],[116,0,105,0],[117,0,106,0],[118,0,107,0],[119,0,108,0],[120,0,109,0],[121,2,110,0],[121,11,110,9,"softmaxCrossEntropy_"],[121,31,110,29,"softmaxCrossEntropy_"],[121,32,110,30,"onehotLabels"],[121,44,110,42],[121,46,110,44,"logits"],[121,52,110,50],[121,54,110,52,"weights"],[121,61,110,59],[121,63,110,61,"labelSmoothing"],[121,77,110,75],[121,80,110,78],[121,81,110,79],[121,83,110,81,"reduction"],[121,92,110,90],[121,95,110,93,"Reduction"],[121,110,110,102],[121,111,110,102,"Reduction"],[121,120,110,102],[121,121,110,103,"SUM_BY_NONZERO_WEIGHTS"],[121,143,110,125],[121,145,110,127],[122,4,111,4],[122,8,111,8,"$onehotLabels"],[122,21,111,21],[122,24,111,24],[122,28,111,24,"convertToTensor"],[122,44,111,39],[122,45,111,39,"convertToTensor"],[122,60,111,39],[122,62,111,40,"onehotLabels"],[122,74,111,52],[122,76,111,54],[122,90,111,68],[122,92,111,70],[122,113,111,91],[122,114,111,92],[123,4,112,4],[123,10,112,10,"$logits"],[123,17,112,17],[123,20,112,20],[123,24,112,20,"convertToTensor"],[123,40,112,35],[123,41,112,35,"convertToTensor"],[123,56,112,35],[123,58,112,36,"logits"],[123,64,112,42],[123,66,112,44],[123,74,112,52],[123,76,112,54],[123,97,112,75],[123,98,112,76],[124,4,113,4],[124,8,113,8,"$weights"],[124,16,113,16],[124,19,113,19],[124,23,113,23],[125,4,114,4],[125,8,114,8,"weights"],[125,15,114,15],[125,19,114,19],[125,23,114,23],[125,25,114,25],[126,6,115,8,"$weights"],[126,14,115,16],[126,17,115,19],[126,21,115,19,"convertToTensor"],[126,37,115,34],[126,38,115,34,"convertToTensor"],[126,53,115,34],[126,55,115,35,"weights"],[126,62,115,42],[126,64,115,44],[126,73,115,53],[126,75,115,55],[126,96,115,76],[126,97,115,77],[127,4,116,4],[128,4,117,4],[128,8,117,4,"assertShapesMatch"],[128,13,117,21],[128,14,117,21,"assertShapesMatch"],[128,31,117,21],[128,33,117,22,"$onehotLabels"],[128,46,117,35],[128,47,117,36,"shape"],[128,52,117,41],[128,54,117,43,"$logits"],[128,61,117,50],[128,62,117,51,"shape"],[128,67,117,56],[128,69,117,58],[128,101,117,90],[128,102,117,91],[129,4,118,4],[129,8,118,8,"labelSmoothing"],[129,22,118,22],[129,25,118,25],[129,26,118,26],[129,28,118,28],[130,6,119,8],[130,12,119,14,"labelSmoothingScalar"],[130,32,119,34],[130,35,119,37],[130,39,119,37,"scalar"],[130,46,119,43],[130,47,119,43,"scalar"],[130,53,119,43],[130,55,119,44,"labelSmoothing"],[130,69,119,58],[130,70,119,59],[131,6,120,8],[131,12,120,14,"one"],[131,15,120,17],[131,18,120,20],[131,22,120,20,"scalar"],[131,29,120,26],[131,30,120,26,"scalar"],[131,36,120,26],[131,38,120,27],[131,39,120,28],[131,40,120,29],[132,6,121,8],[132,12,121,14,"numClasses"],[132,22,121,24],[132,25,121,27],[132,29,121,27,"scalar"],[132,36,121,33],[132,37,121,33,"scalar"],[132,43,121,33],[132,45,121,34,"$onehotLabels"],[132,58,121,47],[132,59,121,48,"shape"],[132,64,121,53],[132,65,121,54],[132,66,121,55],[132,67,121,56],[132,68,121,57],[133,6,122,8,"$onehotLabels"],[133,19,122,21],[133,22,123,12],[133,26,123,12,"add"],[133,30,123,15],[133,31,123,15,"add"],[133,34,123,15],[133,36,123,16],[133,40,123,16,"mul"],[133,44,123,19],[133,45,123,19,"mul"],[133,48,123,19],[133,50,123,20,"$onehotLabels"],[133,63,123,33],[133,65,123,35],[133,69,123,35,"sub"],[133,73,123,38],[133,74,123,38,"sub"],[133,77,123,38],[133,79,123,39,"one"],[133,82,123,42],[133,84,123,44,"labelSmoothingScalar"],[133,104,123,64],[133,105,123,65],[133,106,123,66],[133,108,123,68],[133,112,123,68,"div"],[133,116,123,71],[133,117,123,71,"div"],[133,120,123,71],[133,122,123,72,"labelSmoothingScalar"],[133,142,123,92],[133,144,123,94,"numClasses"],[133,154,123,104],[133,155,123,105],[133,156,123,106],[134,4,124,4],[135,4,125,4],[135,10,125,10,"losses"],[135,16,125,16],[135,19,125,19,"softmaxCrossEntropyWithLogits_"],[135,49,125,49],[135,50,125,50,"$onehotLabels"],[135,63,125,63],[135,65,125,65,"$logits"],[135,72,125,72],[135,73,125,73],[136,4,126,4],[136,11,126,11],[136,15,126,11,"computeWeightedLoss"],[136,37,126,30],[136,38,126,30,"computeWeightedLoss"],[136,57,126,30],[136,59,126,31,"losses"],[136,65,126,37],[136,67,126,39,"$weights"],[136,75,126,47],[136,77,126,49,"reduction"],[136,86,126,58],[136,87,126,59],[137,2,127,0],[138,2,128,7],[138,8,128,13,"softmaxCrossEntropy"],[138,27,128,32],[138,30,128,35],[138,45,128,51],[138,49,128,51,"op"],[138,59,128,53],[138,60,128,53,"op"],[138,62,128,53],[138,64,128,54],[139,4,128,56,"softmaxCrossEntropy_"],[140,2,128,77],[140,3,128,78],[140,4,128,79],[141,0,128,80],[141,3]],"functionMap":{"names":["<global>","softmaxCrossEntropyWithLogits_","customGrad$argument_0","gradFunc","softmaxCrossEntropy_"],"mappings":"AAA;AC0D;gCCU;yBCU;SDO;KDE;CDE;AIoB;CJiB"},"hasCjsExports":false},"type":"js/module"}]}