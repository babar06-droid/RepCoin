{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":53,"index":756}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.bincountImpl = bincountImpl;\n  exports.bincountReduceImpl = bincountReduceImpl;\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function bincountImpl(xVals, weightsVals, weightsDtype, weightsShape, size) {\n    const weightsSize = _tensorflowTfjsCore.util.sizeFromShape(weightsShape);\n    const outVals = _tensorflowTfjsCore.util.makeZerosTypedArray(size, weightsDtype);\n    for (let i = 0; i < xVals.length; i++) {\n      const value = xVals[i];\n      if (value < 0) {\n        throw new Error('Input x must be non-negative!');\n      }\n      if (value >= size) {\n        continue;\n      }\n      if (weightsSize > 0) {\n        outVals[value] += weightsVals[i];\n      } else {\n        outVals[value] += 1;\n      }\n    }\n    return outVals;\n  }\n  function bincountReduceImpl(xBuf, weightsBuf, size, binaryOutput = false) {\n    const numRows = xBuf.shape[0];\n    const numCols = xBuf.shape[1];\n    const outBuf = (0, _tensorflowTfjsCore.buffer)([numRows, size], weightsBuf.dtype);\n    for (let i = 0; i < numRows; i++) {\n      for (let j = 0; j < numCols; j++) {\n        const value = xBuf.get(i, j);\n        if (value < 0) {\n          throw new Error('Input x must be non-negative!');\n        }\n        if (value >= size) {\n          continue;\n        }\n        if (binaryOutput) {\n          outBuf.set(1, i, value);\n        } else {\n          if (weightsBuf.size > 0) {\n            outBuf.set(outBuf.get(i, value) + weightsBuf.get(i, j), i, value);\n          } else {\n            outBuf.set(outBuf.get(i, value) + 1, i, value);\n          }\n        }\n      }\n    }\n    return outBuf;\n  }\n});","lineCount":72,"map":[[7,2,18,0,"exports"],[7,9,18,0],[7,10,18,0,"bincountImpl"],[7,22,18,0],[7,25,18,0,"bincountImpl"],[7,37,18,0],[8,2,38,0,"exports"],[8,9,38,0],[8,10,38,0,"bincountReduceImpl"],[8,28,38,0],[8,31,38,0,"bincountReduceImpl"],[8,49,38,0],[9,2,17,0],[9,6,17,0,"_tensorflowTfjsCore"],[9,25,17,0],[9,28,17,0,"require"],[9,35,17,0],[9,36,17,0,"_dependencyMap"],[9,50,17,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[19,0,10,0],[20,0,11,0],[21,0,12,0],[22,0,13,0],[23,0,14,0],[24,0,15,0],[25,0,16,0],[27,2,18,7],[27,11,18,16,"bincountImpl"],[27,23,18,28,"bincountImpl"],[27,24,18,29,"xVals"],[27,29,18,34],[27,31,18,36,"weightsVals"],[27,42,18,47],[27,44,18,49,"weightsDtype"],[27,56,18,61],[27,58,18,63,"weightsShape"],[27,70,18,75],[27,72,18,77,"size"],[27,76,18,81],[27,78,18,83],[28,4,19,4],[28,10,19,10,"weightsSize"],[28,21,19,21],[28,24,19,24,"util"],[28,43,19,28],[28,44,19,28,"util"],[28,48,19,28],[28,49,19,29,"sizeFromShape"],[28,62,19,42],[28,63,19,43,"weightsShape"],[28,75,19,55],[28,76,19,56],[29,4,20,4],[29,10,20,10,"outVals"],[29,17,20,17],[29,20,20,20,"util"],[29,39,20,24],[29,40,20,24,"util"],[29,44,20,24],[29,45,20,25,"makeZerosTypedArray"],[29,64,20,44],[29,65,20,45,"size"],[29,69,20,49],[29,71,20,51,"weightsDtype"],[29,83,20,63],[29,84,20,64],[30,4,21,4],[30,9,21,9],[30,13,21,13,"i"],[30,14,21,14],[30,17,21,17],[30,18,21,18],[30,20,21,20,"i"],[30,21,21,21],[30,24,21,24,"xVals"],[30,29,21,29],[30,30,21,30,"length"],[30,36,21,36],[30,38,21,38,"i"],[30,39,21,39],[30,41,21,41],[30,43,21,43],[31,6,22,8],[31,12,22,14,"value"],[31,17,22,19],[31,20,22,22,"xVals"],[31,25,22,27],[31,26,22,28,"i"],[31,27,22,29],[31,28,22,30],[32,6,23,8],[32,10,23,12,"value"],[32,15,23,17],[32,18,23,20],[32,19,23,21],[32,21,23,23],[33,8,24,12],[33,14,24,18],[33,18,24,22,"Error"],[33,23,24,27],[33,24,24,28],[33,55,24,59],[33,56,24,60],[34,6,25,8],[35,6,26,8],[35,10,26,12,"value"],[35,15,26,17],[35,19,26,21,"size"],[35,23,26,25],[35,25,26,27],[36,8,27,12],[37,6,28,8],[38,6,29,8],[38,10,29,12,"weightsSize"],[38,21,29,23],[38,24,29,26],[38,25,29,27],[38,27,29,29],[39,8,30,12,"outVals"],[39,15,30,19],[39,16,30,20,"value"],[39,21,30,25],[39,22,30,26],[39,26,30,30,"weightsVals"],[39,37,30,41],[39,38,30,42,"i"],[39,39,30,43],[39,40,30,44],[40,6,31,8],[40,7,31,9],[40,13,32,13],[41,8,33,12,"outVals"],[41,15,33,19],[41,16,33,20,"value"],[41,21,33,25],[41,22,33,26],[41,26,33,30],[41,27,33,31],[42,6,34,8],[43,4,35,4],[44,4,36,4],[44,11,36,11,"outVals"],[44,18,36,18],[45,2,37,0],[46,2,38,7],[46,11,38,16,"bincountReduceImpl"],[46,29,38,34,"bincountReduceImpl"],[46,30,38,35,"xBuf"],[46,34,38,39],[46,36,38,41,"weightsBuf"],[46,46,38,51],[46,48,38,53,"size"],[46,52,38,57],[46,54,38,59,"binaryOutput"],[46,66,38,71],[46,69,38,74],[46,74,38,79],[46,76,38,81],[47,4,39,4],[47,10,39,10,"numRows"],[47,17,39,17],[47,20,39,20,"xBuf"],[47,24,39,24],[47,25,39,25,"shape"],[47,30,39,30],[47,31,39,31],[47,32,39,32],[47,33,39,33],[48,4,40,4],[48,10,40,10,"numCols"],[48,17,40,17],[48,20,40,20,"xBuf"],[48,24,40,24],[48,25,40,25,"shape"],[48,30,40,30],[48,31,40,31],[48,32,40,32],[48,33,40,33],[49,4,41,4],[49,10,41,10,"outBuf"],[49,16,41,16],[49,19,41,19],[49,23,41,19,"buffer"],[49,42,41,25],[49,43,41,25,"buffer"],[49,49,41,25],[49,51,41,26],[49,52,41,27,"numRows"],[49,59,41,34],[49,61,41,36,"size"],[49,65,41,40],[49,66,41,41],[49,68,41,43,"weightsBuf"],[49,78,41,53],[49,79,41,54,"dtype"],[49,84,41,59],[49,85,41,60],[50,4,42,4],[50,9,42,9],[50,13,42,13,"i"],[50,14,42,14],[50,17,42,17],[50,18,42,18],[50,20,42,20,"i"],[50,21,42,21],[50,24,42,24,"numRows"],[50,31,42,31],[50,33,42,33,"i"],[50,34,42,34],[50,36,42,36],[50,38,42,38],[51,6,43,8],[51,11,43,13],[51,15,43,17,"j"],[51,16,43,18],[51,19,43,21],[51,20,43,22],[51,22,43,24,"j"],[51,23,43,25],[51,26,43,28,"numCols"],[51,33,43,35],[51,35,43,37,"j"],[51,36,43,38],[51,38,43,40],[51,40,43,42],[52,8,44,12],[52,14,44,18,"value"],[52,19,44,23],[52,22,44,26,"xBuf"],[52,26,44,30],[52,27,44,31,"get"],[52,30,44,34],[52,31,44,35,"i"],[52,32,44,36],[52,34,44,38,"j"],[52,35,44,39],[52,36,44,40],[53,8,45,12],[53,12,45,16,"value"],[53,17,45,21],[53,20,45,24],[53,21,45,25],[53,23,45,27],[54,10,46,16],[54,16,46,22],[54,20,46,26,"Error"],[54,25,46,31],[54,26,46,32],[54,57,46,63],[54,58,46,64],[55,8,47,12],[56,8,48,12],[56,12,48,16,"value"],[56,17,48,21],[56,21,48,25,"size"],[56,25,48,29],[56,27,48,31],[57,10,49,16],[58,8,50,12],[59,8,51,12],[59,12,51,16,"binaryOutput"],[59,24,51,28],[59,26,51,30],[60,10,52,16,"outBuf"],[60,16,52,22],[60,17,52,23,"set"],[60,20,52,26],[60,21,52,27],[60,22,52,28],[60,24,52,30,"i"],[60,25,52,31],[60,27,52,33,"value"],[60,32,52,38],[60,33,52,39],[61,8,53,12],[61,9,53,13],[61,15,54,17],[62,10,55,16],[62,14,55,20,"weightsBuf"],[62,24,55,30],[62,25,55,31,"size"],[62,29,55,35],[62,32,55,38],[62,33,55,39],[62,35,55,41],[63,12,56,20,"outBuf"],[63,18,56,26],[63,19,56,27,"set"],[63,22,56,30],[63,23,56,31,"outBuf"],[63,29,56,37],[63,30,56,38,"get"],[63,33,56,41],[63,34,56,42,"i"],[63,35,56,43],[63,37,56,45,"value"],[63,42,56,50],[63,43,56,51],[63,46,56,54,"weightsBuf"],[63,56,56,64],[63,57,56,65,"get"],[63,60,56,68],[63,61,56,69,"i"],[63,62,56,70],[63,64,56,72,"j"],[63,65,56,73],[63,66,56,74],[63,68,56,76,"i"],[63,69,56,77],[63,71,56,79,"value"],[63,76,56,84],[63,77,56,85],[64,10,57,16],[64,11,57,17],[64,17,58,21],[65,12,59,20,"outBuf"],[65,18,59,26],[65,19,59,27,"set"],[65,22,59,30],[65,23,59,31,"outBuf"],[65,29,59,37],[65,30,59,38,"get"],[65,33,59,41],[65,34,59,42,"i"],[65,35,59,43],[65,37,59,45,"value"],[65,42,59,50],[65,43,59,51],[65,46,59,54],[65,47,59,55],[65,49,59,57,"i"],[65,50,59,58],[65,52,59,60,"value"],[65,57,59,65],[65,58,59,66],[66,10,60,16],[67,8,61,12],[68,6,62,8],[69,4,63,4],[70,4,64,4],[70,11,64,11,"outBuf"],[70,17,64,17],[71,2,65,0],[72,0,65,1],[72,3]],"functionMap":{"names":["<global>","bincountImpl","bincountReduceImpl"],"mappings":"AAA;OCiB;CDmB;OEC;CF2B"},"hasCjsExports":false},"type":"js/module"}]}