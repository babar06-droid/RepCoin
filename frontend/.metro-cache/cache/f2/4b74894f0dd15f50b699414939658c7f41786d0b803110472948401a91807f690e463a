{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":286},"end":{"line":10,"column":67,"index":353}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../../engine/topology","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":366},"end":{"line":11,"column":46,"index":412}}],"key":"rjLWMJbesmUIFpjDSlVWtBpuZL0=","exportNames":["*"],"imports":1}},{"name":"../../errors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":413},"end":{"line":12,"column":42,"index":455}}],"key":"eT202ujluoOcHDbauyWnF/muvbc=","exportNames":["*"],"imports":1}},{"name":"../../utils/types_utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":456},"end":{"line":13,"column":61,"index":517}}],"key":"KNLCITfwnGLaGBjQ0rMvbYdxCWo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"Resizing\", {\n    enumerable: true,\n    get: function () {\n      return Resizing;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _engineTopology = require(_dependencyMap[1], \"../../engine/topology\");\n  var _errors = require(_dependencyMap[2], \"../../errors\");\n  var _utilsTypes_utils = require(_dependencyMap[3], \"../../utils/types_utils\");\n  /**\n   * @license\n   * Copyright 2022 CodeSmith LLC\n   *\n   * Use of this source code is governed by an MIT-style\n   * license that can be found in the LICENSE file or at\n   * https://opensource.org/licenses/MIT.\n   * =============================================================================\n   */\n  // mul, add\n\n  //, getExactlyOneTensor\n  // tf methods unimplemented in tfjs: 'bicubic', 'area', 'lanczos3', 'lanczos5',\n  //                                   'gaussian', 'mitchellcubic'\n  const INTERPOLATION_KEYS = ['bilinear', 'nearest'];\n  const INTERPOLATION_METHODS = new Set(INTERPOLATION_KEYS);\n  /**\n   * Preprocessing Resizing Layer\n   *\n   * This resizes images by a scaling and offset factor\n   */\n  class Resizing extends _engineTopology.Layer {\n    constructor(args) {\n      super(args);\n      this.height = args.height;\n      this.width = args.width;\n      if (args.interpolation) {\n        if (INTERPOLATION_METHODS.has(args.interpolation)) {\n          this.interpolation = args.interpolation;\n        } else {\n          throw new _errors.ValueError(`Invalid interpolation parameter: ${args.interpolation} is not implemented`);\n        }\n      } else {\n        this.interpolation = 'bilinear';\n      }\n      this.cropToAspectRatio = Boolean(args.cropToAspectRatio);\n    }\n    computeOutputShape(inputShape) {\n      inputShape = (0, _utilsTypes_utils.getExactlyOneShape)(inputShape);\n      const numChannels = inputShape[2];\n      return [this.height, this.width, numChannels];\n    }\n    getConfig() {\n      const config = {\n        'height': this.height,\n        'width': this.width,\n        'interpolation': this.interpolation,\n        'cropToAspectRatio': this.cropToAspectRatio\n      };\n      const baseConfig = super.getConfig();\n      Object.assign(config, baseConfig);\n      return config;\n    }\n    call(inputs, kwargs) {\n      return (0, _tensorflowTfjsCore.tidy)(() => {\n        const size = [this.height, this.width];\n        if (this.interpolation === 'bilinear') {\n          return _tensorflowTfjsCore.image.resizeBilinear(inputs, size, !this.cropToAspectRatio);\n        } else if (this.interpolation === 'nearest') {\n          return _tensorflowTfjsCore.image.resizeNearestNeighbor(inputs, size, !this.cropToAspectRatio);\n        } else {\n          throw new Error(`Interpolation is ${this.interpolation} but only ${[...INTERPOLATION_METHODS]} are supported`);\n        }\n      });\n    }\n  }\n  /** @nocollapse */\n  Resizing.className = 'Resizing';\n  _tensorflowTfjsCore.serialization.registerClass(Resizing);\n});","lineCount":86,"map":[[7,2,74,0,"Object"],[7,8,74,0],[7,9,74,0,"defineProperty"],[7,23,74,0],[7,24,74,0,"exports"],[7,31,74,0],[8,4,74,0,"enumerable"],[8,14,74,0],[9,4,74,0,"get"],[9,7,74,0],[9,18,74,0,"get"],[9,19,74,0],[10,6,74,0],[10,13,74,9,"Resizing"],[10,21,74,17],[11,4,74,17],[12,2,74,17],[13,2,10,0],[13,6,10,0,"_tensorflowTfjsCore"],[13,25,10,0],[13,28,10,0,"require"],[13,35,10,0],[13,36,10,0,"_dependencyMap"],[13,50,10,0],[14,2,11,0],[14,6,11,0,"_engineTopology"],[14,21,11,0],[14,24,11,0,"require"],[14,31,11,0],[14,32,11,0,"_dependencyMap"],[14,46,11,0],[15,2,12,0],[15,6,12,0,"_errors"],[15,13,12,0],[15,16,12,0,"require"],[15,23,12,0],[15,24,12,0,"_dependencyMap"],[15,38,12,0],[16,2,13,0],[16,6,13,0,"_utilsTypes_utils"],[16,23,13,0],[16,26,13,0,"require"],[16,33,13,0],[16,34,13,0,"_dependencyMap"],[16,48,13,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,2,10,68],[28,2,13,62],[29,2,14,0],[30,2,15,0],[31,2,16,0],[31,8,16,6,"INTERPOLATION_KEYS"],[31,26,16,24],[31,29,16,27],[31,30,16,28],[31,40,16,38],[31,42,16,40],[31,51,16,49],[31,52,16,50],[32,2,17,0],[32,8,17,6,"INTERPOLATION_METHODS"],[32,29,17,27],[32,32,17,30],[32,36,17,34,"Set"],[32,39,17,37],[32,40,17,38,"INTERPOLATION_KEYS"],[32,58,17,56],[32,59,17,57],[33,2,18,0],[34,0,19,0],[35,0,20,0],[36,0,21,0],[37,0,22,0],[38,2,23,0],[38,8,23,6,"Resizing"],[38,16,23,14],[38,25,23,23,"Layer"],[38,40,23,28],[38,41,23,28,"Layer"],[38,46,23,28],[38,47,23,29],[39,4,24,4,"constructor"],[39,15,24,15,"constructor"],[39,16,24,16,"args"],[39,20,24,20],[39,22,24,22],[40,6,25,8],[40,11,25,13],[40,12,25,14,"args"],[40,16,25,18],[40,17,25,19],[41,6,26,8],[41,10,26,12],[41,11,26,13,"height"],[41,17,26,19],[41,20,26,22,"args"],[41,24,26,26],[41,25,26,27,"height"],[41,31,26,33],[42,6,27,8],[42,10,27,12],[42,11,27,13,"width"],[42,16,27,18],[42,19,27,21,"args"],[42,23,27,25],[42,24,27,26,"width"],[42,29,27,31],[43,6,28,8],[43,10,28,12,"args"],[43,14,28,16],[43,15,28,17,"interpolation"],[43,28,28,30],[43,30,28,32],[44,8,29,12],[44,12,29,16,"INTERPOLATION_METHODS"],[44,33,29,37],[44,34,29,38,"has"],[44,37,29,41],[44,38,29,42,"args"],[44,42,29,46],[44,43,29,47,"interpolation"],[44,56,29,60],[44,57,29,61],[44,59,29,63],[45,10,30,16],[45,14,30,20],[45,15,30,21,"interpolation"],[45,28,30,34],[45,31,30,37,"args"],[45,35,30,41],[45,36,30,42,"interpolation"],[45,49,30,55],[46,8,31,12],[46,9,31,13],[46,15,32,17],[47,10,33,16],[47,16,33,22],[47,20,33,26,"ValueError"],[47,27,33,36],[47,28,33,36,"ValueError"],[47,38,33,36],[47,39,33,37],[47,75,33,73,"args"],[47,79,33,77],[47,80,33,78,"interpolation"],[47,93,33,91],[47,114,33,112],[47,115,33,113],[48,8,34,12],[49,6,35,8],[49,7,35,9],[49,13,36,13],[50,8,37,12],[50,12,37,16],[50,13,37,17,"interpolation"],[50,26,37,30],[50,29,37,33],[50,39,37,43],[51,6,38,8],[52,6,39,8],[52,10,39,12],[52,11,39,13,"cropToAspectRatio"],[52,28,39,30],[52,31,39,33,"Boolean"],[52,38,39,40],[52,39,39,41,"args"],[52,43,39,45],[52,44,39,46,"cropToAspectRatio"],[52,61,39,63],[52,62,39,64],[53,4,40,4],[54,4,41,4,"computeOutputShape"],[54,22,41,22,"computeOutputShape"],[54,23,41,23,"inputShape"],[54,33,41,33],[54,35,41,35],[55,6,42,8,"inputShape"],[55,16,42,18],[55,19,42,21],[55,23,42,21,"getExactlyOneShape"],[55,40,42,39],[55,41,42,39,"getExactlyOneShape"],[55,59,42,39],[55,61,42,40,"inputShape"],[55,71,42,50],[55,72,42,51],[56,6,43,8],[56,12,43,14,"numChannels"],[56,23,43,25],[56,26,43,28,"inputShape"],[56,36,43,38],[56,37,43,39],[56,38,43,40],[56,39,43,41],[57,6,44,8],[57,13,44,15],[57,14,44,16],[57,18,44,20],[57,19,44,21,"height"],[57,25,44,27],[57,27,44,29],[57,31,44,33],[57,32,44,34,"width"],[57,37,44,39],[57,39,44,41,"numChannels"],[57,50,44,52],[57,51,44,53],[58,4,45,4],[59,4,46,4,"getConfig"],[59,13,46,13,"getConfig"],[59,14,46,13],[59,16,46,16],[60,6,47,8],[60,12,47,14,"config"],[60,18,47,20],[60,21,47,23],[61,8,48,12],[61,16,48,20],[61,18,48,22],[61,22,48,26],[61,23,48,27,"height"],[61,29,48,33],[62,8,49,12],[62,15,49,19],[62,17,49,21],[62,21,49,25],[62,22,49,26,"width"],[62,27,49,31],[63,8,50,12],[63,23,50,27],[63,25,50,29],[63,29,50,33],[63,30,50,34,"interpolation"],[63,43,50,47],[64,8,51,12],[64,27,51,31],[64,29,51,33],[64,33,51,37],[64,34,51,38,"cropToAspectRatio"],[65,6,52,8],[65,7,52,9],[66,6,53,8],[66,12,53,14,"baseConfig"],[66,22,53,24],[66,25,53,27],[66,30,53,32],[66,31,53,33,"getConfig"],[66,40,53,42],[66,41,53,43],[66,42,53,44],[67,6,54,8,"Object"],[67,12,54,14],[67,13,54,15,"assign"],[67,19,54,21],[67,20,54,22,"config"],[67,26,54,28],[67,28,54,30,"baseConfig"],[67,38,54,40],[67,39,54,41],[68,6,55,8],[68,13,55,15,"config"],[68,19,55,21],[69,4,56,4],[70,4,57,4,"call"],[70,8,57,8,"call"],[70,9,57,9,"inputs"],[70,15,57,15],[70,17,57,17,"kwargs"],[70,23,57,23],[70,25,57,25],[71,6,58,8],[71,13,58,15],[71,17,58,15,"tidy"],[71,36,58,19],[71,37,58,19,"tidy"],[71,41,58,19],[71,43,58,20],[71,49,58,26],[72,8,59,12],[72,14,59,18,"size"],[72,18,59,22],[72,21,59,25],[72,22,59,26],[72,26,59,30],[72,27,59,31,"height"],[72,33,59,37],[72,35,59,39],[72,39,59,43],[72,40,59,44,"width"],[72,45,59,49],[72,46,59,50],[73,8,60,12],[73,12,60,16],[73,16,60,20],[73,17,60,21,"interpolation"],[73,30,60,34],[73,35,60,39],[73,45,60,49],[73,47,60,51],[74,10,61,16],[74,17,61,23,"image"],[74,36,61,28],[74,37,61,28,"image"],[74,42,61,28],[74,43,61,29,"resizeBilinear"],[74,57,61,43],[74,58,61,44,"inputs"],[74,64,61,50],[74,66,61,52,"size"],[74,70,61,56],[74,72,61,58],[74,73,61,59],[74,77,61,63],[74,78,61,64,"cropToAspectRatio"],[74,95,61,81],[74,96,61,82],[75,8,62,12],[75,9,62,13],[75,15,63,17],[75,19,63,21],[75,23,63,25],[75,24,63,26,"interpolation"],[75,37,63,39],[75,42,63,44],[75,51,63,53],[75,53,63,55],[76,10,64,16],[76,17,64,23,"image"],[76,36,64,28],[76,37,64,28,"image"],[76,42,64,28],[76,43,64,29,"resizeNearestNeighbor"],[76,64,64,50],[76,65,64,51,"inputs"],[76,71,64,57],[76,73,64,59,"size"],[76,77,64,63],[76,79,64,65],[76,80,64,66],[76,84,64,70],[76,85,64,71,"cropToAspectRatio"],[76,102,64,88],[76,103,64,89],[77,8,65,12],[77,9,65,13],[77,15,66,17],[78,10,67,16],[78,16,67,22],[78,20,67,26,"Error"],[78,25,67,31],[78,26,67,32],[78,46,67,52],[78,50,67,56],[78,51,67,57,"interpolation"],[78,64,67,70],[78,77,67,83],[78,78,67,84],[78,81,67,87,"INTERPOLATION_METHODS"],[78,102,67,108],[78,103,67,109],[78,119,67,125],[78,120,67,126],[79,8,68,12],[80,6,69,8],[80,7,69,9],[80,8,69,10],[81,4,70,4],[82,2,71,0],[83,2,72,0],[84,2,73,0,"Resizing"],[84,10,73,8],[84,11,73,9,"className"],[84,20,73,18],[84,23,73,21],[84,33,73,31],[85,2,75,0,"serialization"],[85,21,75,13],[85,22,75,13,"serialization"],[85,35,75,13],[85,36,75,14,"registerClass"],[85,49,75,27],[85,50,75,28,"Resizing"],[85,58,75,36],[85,59,75,37],[86,0,75,38],[86,3]],"functionMap":{"names":["<global>","Resizing","Resizing#constructor","Resizing#computeOutputShape","Resizing#getConfig","Resizing#call","tidy$argument_0"],"mappings":"AAA;ACsB;ICC;KDgB;IEC;KFI;IGC;KHU;IIC;oBCC;SDW;KJC;CDC"},"hasCjsExports":false},"type":"js/module"}]}