{"dependencies":[{"name":"../kernel_names","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":38,"index":741}}],"key":"gQVznmdGA0uoBQvR5Q4/qW+ITHg=","exportNames":["*"],"imports":1}},{"name":"../ops/broadcast_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":742},"end":{"line":18,"column":85,"index":827}}],"key":"Qvkkzd+OEKB4AewZTACLHdeSCuY=","exportNames":["*"],"imports":1}},{"name":"../ops/div","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":828},"end":{"line":19,"column":33,"index":861}}],"key":"k/BZM+SZS6CPUrneNct7M5x21sM=","exportNames":["*"],"imports":1}},{"name":"../ops/floor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":862},"end":{"line":20,"column":37,"index":899}}],"key":"aE8xyNkV2q1QZD0t0RQkISFt3K8=","exportNames":["*"],"imports":1}},{"name":"../ops/mul","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":900},"end":{"line":21,"column":33,"index":933}}],"key":"8VMM/o0r3nOvGtT2jgKf2KxknFk=","exportNames":["*"],"imports":1}},{"name":"../ops/neg","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":934},"end":{"line":22,"column":33,"index":967}}],"key":"4k4Q/waBIv7dEtTMylLnPi+jOrs=","exportNames":["*"],"imports":1}},{"name":"../ops/reshape","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":968},"end":{"line":23,"column":41,"index":1009}}],"key":"y6qCHUFGUly5Bq9K/sbHhy1R7kE=","exportNames":["*"],"imports":1}},{"name":"../ops/sum","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":1010},"end":{"line":24,"column":33,"index":1043}}],"key":"QFu1HORitJ22mTBAu0XhrnhYCVg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"modGradConfig\", {\n    enumerable: true,\n    get: function () {\n      return modGradConfig;\n    }\n  });\n  var _kernel_names = require(_dependencyMap[0], \"../kernel_names\");\n  var _opsBroadcast_util = require(_dependencyMap[1], \"../ops/broadcast_util\");\n  var _opsDiv = require(_dependencyMap[2], \"../ops/div\");\n  var _opsFloor = require(_dependencyMap[3], \"../ops/floor\");\n  var _opsMul = require(_dependencyMap[4], \"../ops/mul\");\n  var _opsNeg = require(_dependencyMap[5], \"../ops/neg\");\n  var _opsReshape = require(_dependencyMap[6], \"../ops/reshape\");\n  var _opsSum = require(_dependencyMap[7], \"../ops/sum\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const modGradConfig = {\n    kernelName: _kernel_names.Mod,\n    inputsToSave: ['a', 'b'],\n    gradFunc: (dy, saved) => {\n      const [a, b] = saved;\n      const outShape = (0, _opsBroadcast_util.assertAndGetBroadcastShape)(a.shape, b.shape);\n      const derA = () => {\n        const reduceAxes = (0, _opsBroadcast_util.getReductionAxes)(a.shape, outShape);\n        if (reduceAxes.length > 0) {\n          return (0, _opsReshape.reshape)((0, _opsSum.sum)(dy, reduceAxes), a.shape);\n        }\n        return dy;\n      };\n      const derB = () => {\n        const res = (0, _opsMul.mul)(dy, (0, _opsNeg.neg)((0, _opsFloor.floor)((0, _opsDiv.div)(a, b))));\n        const reduceAxes = (0, _opsBroadcast_util.getReductionAxes)(b.shape, outShape);\n        if (reduceAxes.length > 0) {\n          return (0, _opsReshape.reshape)((0, _opsSum.sum)(res, reduceAxes), b.shape);\n        }\n        return res;\n      };\n      return {\n        a: derA,\n        b: derB\n      };\n    }\n  };\n});","lineCount":65,"map":[[7,2,25,0,"Object"],[7,8,25,0],[7,9,25,0,"defineProperty"],[7,23,25,0],[7,24,25,0,"exports"],[7,31,25,0],[8,4,25,0,"enumerable"],[8,14,25,0],[9,4,25,0,"get"],[9,7,25,0],[9,18,25,0,"get"],[9,19,25,0],[10,6,25,0],[10,13,25,0,"modGradConfig"],[10,26,25,0],[11,4,25,0],[12,2,25,0],[13,2,17,0],[13,6,17,0,"_kernel_names"],[13,19,17,0],[13,22,17,0,"require"],[13,29,17,0],[13,30,17,0,"_dependencyMap"],[13,44,17,0],[14,2,18,0],[14,6,18,0,"_opsBroadcast_util"],[14,24,18,0],[14,27,18,0,"require"],[14,34,18,0],[14,35,18,0,"_dependencyMap"],[14,49,18,0],[15,2,19,0],[15,6,19,0,"_opsDiv"],[15,13,19,0],[15,16,19,0,"require"],[15,23,19,0],[15,24,19,0,"_dependencyMap"],[15,38,19,0],[16,2,20,0],[16,6,20,0,"_opsFloor"],[16,15,20,0],[16,18,20,0,"require"],[16,25,20,0],[16,26,20,0,"_dependencyMap"],[16,40,20,0],[17,2,21,0],[17,6,21,0,"_opsMul"],[17,13,21,0],[17,16,21,0,"require"],[17,23,21,0],[17,24,21,0,"_dependencyMap"],[17,38,21,0],[18,2,22,0],[18,6,22,0,"_opsNeg"],[18,13,22,0],[18,16,22,0,"require"],[18,23,22,0],[18,24,22,0,"_dependencyMap"],[18,38,22,0],[19,2,23,0],[19,6,23,0,"_opsReshape"],[19,17,23,0],[19,20,23,0,"require"],[19,27,23,0],[19,28,23,0,"_dependencyMap"],[19,42,23,0],[20,2,24,0],[20,6,24,0,"_opsSum"],[20,13,24,0],[20,16,24,0,"require"],[20,23,24,0],[20,24,24,0,"_dependencyMap"],[20,38,24,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,0,9,0],[30,0,10,0],[31,0,11,0],[32,0,12,0],[33,0,13,0],[34,0,14,0],[35,0,15,0],[36,0,16,0],[38,2,25,7],[38,8,25,13,"modGradConfig"],[38,21,25,26],[38,24,25,29],[39,4,26,4,"kernelName"],[39,14,26,14],[39,16,26,16,"Mod"],[39,29,26,19],[39,30,26,19,"Mod"],[39,33,26,19],[40,4,27,4,"inputsToSave"],[40,16,27,16],[40,18,27,18],[40,19,27,19],[40,22,27,22],[40,24,27,24],[40,27,27,27],[40,28,27,28],[41,4,28,4,"gradFunc"],[41,12,28,12],[41,14,28,14,"gradFunc"],[41,15,28,15,"dy"],[41,17,28,17],[41,19,28,19,"saved"],[41,24,28,24],[41,29,28,29],[42,6,29,8],[42,12,29,14],[42,13,29,15,"a"],[42,14,29,16],[42,16,29,18,"b"],[42,17,29,19],[42,18,29,20],[42,21,29,23,"saved"],[42,26,29,28],[43,6,30,8],[43,12,30,14,"outShape"],[43,20,30,22],[43,23,30,25],[43,27,30,25,"assertAndGetBroadcastShape"],[43,45,30,51],[43,46,30,51,"assertAndGetBroadcastShape"],[43,72,30,51],[43,74,30,52,"a"],[43,75,30,53],[43,76,30,54,"shape"],[43,81,30,59],[43,83,30,61,"b"],[43,84,30,62],[43,85,30,63,"shape"],[43,90,30,68],[43,91,30,69],[44,6,31,8],[44,12,31,14,"derA"],[44,16,31,18],[44,19,31,21,"derA"],[44,20,31,21],[44,25,31,27],[45,8,32,12],[45,14,32,18,"reduceAxes"],[45,24,32,28],[45,27,32,31],[45,31,32,31,"getReductionAxes"],[45,49,32,47],[45,50,32,47,"getReductionAxes"],[45,66,32,47],[45,68,32,48,"a"],[45,69,32,49],[45,70,32,50,"shape"],[45,75,32,55],[45,77,32,57,"outShape"],[45,85,32,65],[45,86,32,66],[46,8,33,12],[46,12,33,16,"reduceAxes"],[46,22,33,26],[46,23,33,27,"length"],[46,29,33,33],[46,32,33,36],[46,33,33,37],[46,35,33,39],[47,10,34,16],[47,17,34,23],[47,21,34,23,"reshape"],[47,32,34,30],[47,33,34,30,"reshape"],[47,40,34,30],[47,42,34,31],[47,46,34,31,"sum"],[47,53,34,34],[47,54,34,34,"sum"],[47,57,34,34],[47,59,34,35,"dy"],[47,61,34,37],[47,63,34,39,"reduceAxes"],[47,73,34,49],[47,74,34,50],[47,76,34,52,"a"],[47,77,34,53],[47,78,34,54,"shape"],[47,83,34,59],[47,84,34,60],[48,8,35,12],[49,8,36,12],[49,15,36,19,"dy"],[49,17,36,21],[50,6,37,8],[50,7,37,9],[51,6,38,8],[51,12,38,14,"derB"],[51,16,38,18],[51,19,38,21,"derB"],[51,20,38,21],[51,25,38,27],[52,8,39,12],[52,14,39,18,"res"],[52,17,39,21],[52,20,39,24],[52,24,39,24,"mul"],[52,31,39,27],[52,32,39,27,"mul"],[52,35,39,27],[52,37,39,28,"dy"],[52,39,39,30],[52,41,39,32],[52,45,39,32,"neg"],[52,52,39,35],[52,53,39,35,"neg"],[52,56,39,35],[52,58,39,36],[52,62,39,36,"floor"],[52,71,39,41],[52,72,39,41,"floor"],[52,77,39,41],[52,79,39,42],[52,83,39,42,"div"],[52,90,39,45],[52,91,39,45,"div"],[52,94,39,45],[52,96,39,46,"a"],[52,97,39,47],[52,99,39,49,"b"],[52,100,39,50],[52,101,39,51],[52,102,39,52],[52,103,39,53],[52,104,39,54],[53,8,40,12],[53,14,40,18,"reduceAxes"],[53,24,40,28],[53,27,40,31],[53,31,40,31,"getReductionAxes"],[53,49,40,47],[53,50,40,47,"getReductionAxes"],[53,66,40,47],[53,68,40,48,"b"],[53,69,40,49],[53,70,40,50,"shape"],[53,75,40,55],[53,77,40,57,"outShape"],[53,85,40,65],[53,86,40,66],[54,8,41,12],[54,12,41,16,"reduceAxes"],[54,22,41,26],[54,23,41,27,"length"],[54,29,41,33],[54,32,41,36],[54,33,41,37],[54,35,41,39],[55,10,42,16],[55,17,42,23],[55,21,42,23,"reshape"],[55,32,42,30],[55,33,42,30,"reshape"],[55,40,42,30],[55,42,42,31],[55,46,42,31,"sum"],[55,53,42,34],[55,54,42,34,"sum"],[55,57,42,34],[55,59,42,35,"res"],[55,62,42,38],[55,64,42,40,"reduceAxes"],[55,74,42,50],[55,75,42,51],[55,77,42,53,"b"],[55,78,42,54],[55,79,42,55,"shape"],[55,84,42,60],[55,85,42,61],[56,8,43,12],[57,8,44,12],[57,15,44,19,"res"],[57,18,44,22],[58,6,45,8],[58,7,45,9],[59,6,46,8],[59,13,46,15],[60,8,46,17,"a"],[60,9,46,18],[60,11,46,20,"derA"],[60,15,46,24],[61,8,46,26,"b"],[61,9,46,27],[61,11,46,29,"derB"],[62,6,46,34],[62,7,46,35],[63,4,47,4],[64,2,48,0],[64,3,48,1],[65,0,48,2],[65,3]],"functionMap":{"names":["<global>","modGradConfig.gradFunc","derA","derB"],"mappings":"AAA;cC2B;qBCG;SDM;qBEC;SFO;KDE"},"hasCjsExports":false},"type":"js/module"}]}