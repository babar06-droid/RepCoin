{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":706},"end":{"line":18,"column":44,"index":750}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../datasource","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":751},"end":{"line":19,"column":43,"index":794}}],"key":"swTpZreY9J/IgdeulWAlr3FOZeE=","exportNames":["*"],"imports":1}},{"name":"../iterators/file_chunk_iterator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":795},"end":{"line":20,"column":69,"index":864}}],"key":"n2fBO8LIwQbRbl2xdnUNkWZCGaY=","exportNames":["*"],"imports":1}},{"name":"../util/source_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":865},"end":{"line":21,"column":50,"index":915}}],"key":"8QlA6aUhxPUUHeeBBZocsEaPP88=","exportNames":["*"],"imports":1}},{"name":"fs","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":43,"column":23,"index":1659},"end":{"line":43,"column":36,"index":1672}}],"key":"/446D+0IZVMo9Qz4Ixqnyf8fty0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"FileDataSource\", {\n    enumerable: true,\n    get: function () {\n      return FileDataSource;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _datasource = require(_dependencyMap[1], \"../datasource\");\n  var _iteratorsFile_chunk_iterator = require(_dependencyMap[2], \"../iterators/file_chunk_iterator\");\n  var _utilSource_util = require(_dependencyMap[3], \"../util/source_util\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * =============================================================================\n   */\n\n  /**\n   * Represents a file, blob, or Uint8Array readable as a stream of binary data\n   * chunks.\n   */\n  class FileDataSource extends _datasource.DataSource {\n    /**\n     * Create a `FileDataSource`.\n     *\n     * @param input Local file path, or `File`/`Blob`/`Uint8Array` object to\n     *     read. Local file only works in node environment.\n     * @param options Options passed to the underlying `FileChunkIterator`s,\n     *   such as {chunksize: 1024}.\n     */\n    constructor(input, options = {}) {\n      super();\n      this.input = input;\n      this.options = options;\n    }\n    async iterator() {\n      if ((0, _utilSource_util.isLocalPath)(this.input) && (0, _tensorflowTfjsCore.env)().get('IS_NODE')) {\n        // tslint:disable-next-line:no-require-imports\n        const fs = require(_dependencyMap[4], \"fs\");\n        this.input = fs.readFileSync(this.input.slice(7));\n      }\n      // TODO(kangyizhang): Add LocalFileChunkIterator to split local streaming\n      // with file in browser.\n      return new _iteratorsFile_chunk_iterator.FileChunkIterator(this.input, this.options);\n    }\n  }\n});","lineCount":64,"map":[[7,2,26,0,"Object"],[7,8,26,0],[7,9,26,0,"defineProperty"],[7,23,26,0],[7,24,26,0,"exports"],[7,31,26,0],[8,4,26,0,"enumerable"],[8,14,26,0],[9,4,26,0,"get"],[9,7,26,0],[9,18,26,0,"get"],[9,19,26,0],[10,6,26,0],[10,13,26,0,"FileDataSource"],[10,27,26,0],[11,4,26,0],[12,2,26,0],[13,2,18,0],[13,6,18,0,"_tensorflowTfjsCore"],[13,25,18,0],[13,28,18,0,"require"],[13,35,18,0],[13,36,18,0,"_dependencyMap"],[13,50,18,0],[14,2,19,0],[14,6,19,0,"_datasource"],[14,17,19,0],[14,20,19,0,"require"],[14,27,19,0],[14,28,19,0,"_dependencyMap"],[14,42,19,0],[15,2,20,0],[15,6,20,0,"_iteratorsFile_chunk_iterator"],[15,35,20,0],[15,38,20,0,"require"],[15,45,20,0],[15,46,20,0,"_dependencyMap"],[15,60,20,0],[16,2,21,0],[16,6,21,0,"_utilSource_util"],[16,22,21,0],[16,25,21,0,"require"],[16,32,21,0],[16,33,21,0,"_dependencyMap"],[16,47,21,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[33,0,17,0],[35,2,22,0],[36,0,23,0],[37,0,24,0],[38,0,25,0],[39,2,26,7],[39,8,26,13,"FileDataSource"],[39,22,26,27],[39,31,26,36,"DataSource"],[39,42,26,46],[39,43,26,46,"DataSource"],[39,53,26,46],[39,54,26,47],[40,4,27,4],[41,0,28,0],[42,0,29,0],[43,0,30,0],[44,0,31,0],[45,0,32,0],[46,0,33,0],[47,0,34,0],[48,4,35,4,"constructor"],[48,15,35,15,"constructor"],[48,16,35,16,"input"],[48,21,35,21],[48,23,35,23,"options"],[48,30,35,30],[48,33,35,33],[48,34,35,34],[48,35,35,35],[48,37,35,37],[49,6,36,8],[49,11,36,13],[49,12,36,14],[49,13,36,15],[50,6,37,8],[50,10,37,12],[50,11,37,13,"input"],[50,16,37,18],[50,19,37,21,"input"],[50,24,37,26],[51,6,38,8],[51,10,38,12],[51,11,38,13,"options"],[51,18,38,20],[51,21,38,23,"options"],[51,28,38,30],[52,4,39,4],[53,4,40,4],[53,10,40,10,"iterator"],[53,18,40,18,"iterator"],[53,19,40,18],[53,21,40,21],[54,6,41,8],[54,10,41,12],[54,14,41,12,"isLocalPath"],[54,30,41,23],[54,31,41,23,"isLocalPath"],[54,42,41,23],[54,44,41,24],[54,48,41,28],[54,49,41,29,"input"],[54,54,41,34],[54,55,41,35],[54,59,41,39],[54,63,41,39,"env"],[54,82,41,42],[54,83,41,42,"env"],[54,86,41,42],[54,88,41,43],[54,89,41,44],[54,90,41,45,"get"],[54,93,41,48],[54,94,41,49],[54,103,41,58],[54,104,41,59],[54,106,41,61],[55,8,42,12],[56,8,43,12],[56,14,43,18,"fs"],[56,16,43,20],[56,19,43,23,"require"],[56,26,43,30],[56,27,43,30,"_dependencyMap"],[56,41,43,30],[56,50,43,35],[56,51,43,36],[57,8,44,12],[57,12,44,16],[57,13,44,17,"input"],[57,18,44,22],[57,21,44,25,"fs"],[57,23,44,27],[57,24,44,28,"readFileSync"],[57,36,44,40],[57,37,44,41],[57,41,44,45],[57,42,44,46,"input"],[57,47,44,51],[57,48,44,52,"slice"],[57,53,44,57],[57,54,44,58],[57,55,44,59],[57,56,44,60],[57,57,44,61],[58,6,45,8],[59,6,46,8],[60,6,47,8],[61,6,48,8],[61,13,48,15],[61,17,48,19,"FileChunkIterator"],[61,46,48,36],[61,47,48,36,"FileChunkIterator"],[61,64,48,36],[61,65,48,37],[61,69,48,41],[61,70,48,42,"input"],[61,75,48,47],[61,77,48,49],[61,81,48,53],[61,82,48,54,"options"],[61,89,48,61],[61,90,48,62],[62,4,49,4],[63,2,50,0],[64,0,50,1],[64,3]],"functionMap":{"names":["<global>","FileDataSource","FileDataSource#constructor","FileDataSource#iterator"],"mappings":"AAA;OCyB;ICS;KDI;IEC;KFS;CDC"},"hasCjsExports":false},"type":"js/module"}]}