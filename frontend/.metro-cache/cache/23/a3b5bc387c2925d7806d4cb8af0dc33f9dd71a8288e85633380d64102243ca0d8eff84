{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":67,"index":770}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../cpu_util","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":771},"end":{"line":18,"column":47,"index":818}}],"key":"5L5S4GXlh/uJh1MrXQbkPSVOWm4=","exportNames":["*"],"imports":1}},{"name":"./Transpose","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":819},"end":{"line":19,"column":40,"index":859}}],"key":"F6S1ekgW6WEHcH6rql/beO2khwY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.argMin = argMin;\n  Object.defineProperty(exports, \"argMinConfig\", {\n    enumerable: true,\n    get: function () {\n      return argMinConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _cpu_util = require(_dependencyMap[1], \"../cpu_util\");\n  var _Transpose = require(_dependencyMap[2], \"./Transpose\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function argMin(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      axis\n    } = attrs;\n    (0, _cpu_util.assertNotComplex)(x, 'argMin');\n    let axes = _tensorflowTfjsCore.util.parseAxisParam(axis, x.shape);\n    const permutedAxes = _tensorflowTfjsCore.backend_util.getAxesPermutation(axes, x.shape.length);\n    let $x = x;\n    const intermediateTensorInfos = [];\n    if (permutedAxes != null) {\n      $x = (0, _Transpose.transpose)({\n        inputs: {\n          x\n        },\n        backend,\n        attrs: {\n          perm: permutedAxes\n        }\n      });\n      intermediateTensorInfos.push($x);\n      axes = _tensorflowTfjsCore.backend_util.getInnerMostAxes(axes.length, $x.shape.length);\n    }\n    axes = [axes[0]];\n    _tensorflowTfjsCore.backend_util.assertAxesAreInnerMostDims('argMin', axes, $x.shape.length);\n    const [outShape, reduceShape] = _tensorflowTfjsCore.backend_util.computeOutAndReduceShapes($x.shape, axes);\n    const outSize = _tensorflowTfjsCore.util.sizeFromShape(outShape);\n    const vals = _tensorflowTfjsCore.util.makeZerosTypedArray(outSize, 'int32');\n    const reduceSize = _tensorflowTfjsCore.util.sizeFromShape(reduceShape);\n    const aVals = backend.data.get($x.dataId).values;\n    for (let i = 0; i < vals.length; ++i) {\n      const offset = i * reduceSize;\n      let min = aVals[offset];\n      let minIndex = 0;\n      for (let j = 0; j < reduceSize; ++j) {\n        const value = aVals[offset + j];\n        if (value < min) {\n          min = value;\n          minIndex = j;\n        }\n      }\n      vals[i] = minIndex;\n    }\n    intermediateTensorInfos.forEach(t => backend.disposeIntermediateTensorInfo(t));\n    return backend.makeTensorInfo(outShape, 'int32', vals);\n  }\n  const argMinConfig = {\n    kernelName: _tensorflowTfjsCore.ArgMin,\n    backendName: 'cpu',\n    kernelFunc: argMin\n  };\n});","lineCount":92,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"argMin"],[7,16,20,0],[7,19,20,0,"argMin"],[7,25,20,0],[8,2,57,0,"Object"],[8,8,57,0],[8,9,57,0,"defineProperty"],[8,23,57,0],[8,24,57,0,"exports"],[8,31,57,0],[9,4,57,0,"enumerable"],[9,14,57,0],[10,4,57,0,"get"],[10,7,57,0],[10,18,57,0,"get"],[10,19,57,0],[11,6,57,0],[11,13,57,0,"argMinConfig"],[11,25,57,0],[12,4,57,0],[13,2,57,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_cpu_util"],[15,15,18,0],[15,18,18,0,"require"],[15,25,18,0],[15,26,18,0,"_dependencyMap"],[15,40,18,0],[16,2,19,0],[16,6,19,0,"_Transpose"],[16,16,19,0],[16,19,19,0,"require"],[16,26,19,0],[16,27,19,0,"_dependencyMap"],[16,41,19,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[34,2,20,7],[34,11,20,16,"argMin"],[34,17,20,22,"argMin"],[34,18,20,23,"args"],[34,22,20,27],[34,24,20,29],[35,4,21,4],[35,10,21,10],[36,6,21,12,"inputs"],[36,12,21,18],[37,6,21,20,"backend"],[37,13,21,27],[38,6,21,29,"attrs"],[39,4,21,35],[39,5,21,36],[39,8,21,39,"args"],[39,12,21,43],[40,4,22,4],[40,10,22,10],[41,6,22,12,"x"],[42,4,22,14],[42,5,22,15],[42,8,22,18,"inputs"],[42,14,22,24],[43,4,23,4],[43,10,23,10],[44,6,23,12,"axis"],[45,4,23,17],[45,5,23,18],[45,8,23,21,"attrs"],[45,13,23,26],[46,4,24,4],[46,8,24,4,"assertNotComplex"],[46,17,24,20],[46,18,24,20,"assertNotComplex"],[46,34,24,20],[46,36,24,21,"x"],[46,37,24,22],[46,39,24,24],[46,47,24,32],[46,48,24,33],[47,4,25,4],[47,8,25,8,"axes"],[47,12,25,12],[47,15,25,15,"util"],[47,34,25,19],[47,35,25,19,"util"],[47,39,25,19],[47,40,25,20,"parseAxisParam"],[47,54,25,34],[47,55,25,35,"axis"],[47,59,25,39],[47,61,25,41,"x"],[47,62,25,42],[47,63,25,43,"shape"],[47,68,25,48],[47,69,25,49],[48,4,26,4],[48,10,26,10,"permutedAxes"],[48,22,26,22],[48,25,26,25,"backend_util"],[48,44,26,37],[48,45,26,37,"backend_util"],[48,57,26,37],[48,58,26,38,"getAxesPermutation"],[48,76,26,56],[48,77,26,57,"axes"],[48,81,26,61],[48,83,26,63,"x"],[48,84,26,64],[48,85,26,65,"shape"],[48,90,26,70],[48,91,26,71,"length"],[48,97,26,77],[48,98,26,78],[49,4,27,4],[49,8,27,8,"$x"],[49,10,27,10],[49,13,27,13,"x"],[49,14,27,14],[50,4,28,4],[50,10,28,10,"intermediateTensorInfos"],[50,33,28,33],[50,36,28,36],[50,38,28,38],[51,4,29,4],[51,8,29,8,"permutedAxes"],[51,20,29,20],[51,24,29,24],[51,28,29,28],[51,30,29,30],[52,6,30,8,"$x"],[52,8,30,10],[52,11,30,13],[52,15,30,13,"transpose"],[52,25,30,22],[52,26,30,22,"transpose"],[52,35,30,22],[52,37,30,23],[53,8,30,25,"inputs"],[53,14,30,31],[53,16,30,33],[54,10,30,35,"x"],[55,8,30,37],[55,9,30,38],[56,8,30,40,"backend"],[56,15,30,47],[57,8,30,49,"attrs"],[57,13,30,54],[57,15,30,56],[58,10,30,58,"perm"],[58,14,30,62],[58,16,30,64,"permutedAxes"],[59,8,30,77],[60,6,30,79],[60,7,30,80],[60,8,30,81],[61,6,31,8,"intermediateTensorInfos"],[61,29,31,31],[61,30,31,32,"push"],[61,34,31,36],[61,35,31,37,"$x"],[61,37,31,39],[61,38,31,40],[62,6,32,8,"axes"],[62,10,32,12],[62,13,32,15,"backend_util"],[62,32,32,27],[62,33,32,27,"backend_util"],[62,45,32,27],[62,46,32,28,"getInnerMostAxes"],[62,62,32,44],[62,63,32,45,"axes"],[62,67,32,49],[62,68,32,50,"length"],[62,74,32,56],[62,76,32,58,"$x"],[62,78,32,60],[62,79,32,61,"shape"],[62,84,32,66],[62,85,32,67,"length"],[62,91,32,73],[62,92,32,74],[63,4,33,4],[64,4,34,4,"axes"],[64,8,34,8],[64,11,34,11],[64,12,34,12,"axes"],[64,16,34,16],[64,17,34,17],[64,18,34,18],[64,19,34,19],[64,20,34,20],[65,4,35,4,"backend_util"],[65,23,35,16],[65,24,35,16,"backend_util"],[65,36,35,16],[65,37,35,17,"assertAxesAreInnerMostDims"],[65,63,35,43],[65,64,35,44],[65,72,35,52],[65,74,35,54,"axes"],[65,78,35,58],[65,80,35,60,"$x"],[65,82,35,62],[65,83,35,63,"shape"],[65,88,35,68],[65,89,35,69,"length"],[65,95,35,75],[65,96,35,76],[66,4,36,4],[66,10,36,10],[66,11,36,11,"outShape"],[66,19,36,19],[66,21,36,21,"reduceShape"],[66,32,36,32],[66,33,36,33],[66,36,36,36,"backend_util"],[66,55,36,48],[66,56,36,48,"backend_util"],[66,68,36,48],[66,69,36,49,"computeOutAndReduceShapes"],[66,94,36,74],[66,95,36,75,"$x"],[66,97,36,77],[66,98,36,78,"shape"],[66,103,36,83],[66,105,36,85,"axes"],[66,109,36,89],[66,110,36,90],[67,4,37,4],[67,10,37,10,"outSize"],[67,17,37,17],[67,20,37,20,"util"],[67,39,37,24],[67,40,37,24,"util"],[67,44,37,24],[67,45,37,25,"sizeFromShape"],[67,58,37,38],[67,59,37,39,"outShape"],[67,67,37,47],[67,68,37,48],[68,4,38,4],[68,10,38,10,"vals"],[68,14,38,14],[68,17,38,17,"util"],[68,36,38,21],[68,37,38,21,"util"],[68,41,38,21],[68,42,38,22,"makeZerosTypedArray"],[68,61,38,41],[68,62,38,42,"outSize"],[68,69,38,49],[68,71,38,51],[68,78,38,58],[68,79,38,59],[69,4,39,4],[69,10,39,10,"reduceSize"],[69,20,39,20],[69,23,39,23,"util"],[69,42,39,27],[69,43,39,27,"util"],[69,47,39,27],[69,48,39,28,"sizeFromShape"],[69,61,39,41],[69,62,39,42,"reduceShape"],[69,73,39,53],[69,74,39,54],[70,4,40,4],[70,10,40,10,"aVals"],[70,15,40,15],[70,18,40,18,"backend"],[70,25,40,25],[70,26,40,26,"data"],[70,30,40,30],[70,31,40,31,"get"],[70,34,40,34],[70,35,40,35,"$x"],[70,37,40,37],[70,38,40,38,"dataId"],[70,44,40,44],[70,45,40,45],[70,46,40,46,"values"],[70,52,40,52],[71,4,41,4],[71,9,41,9],[71,13,41,13,"i"],[71,14,41,14],[71,17,41,17],[71,18,41,18],[71,20,41,20,"i"],[71,21,41,21],[71,24,41,24,"vals"],[71,28,41,28],[71,29,41,29,"length"],[71,35,41,35],[71,37,41,37],[71,39,41,39,"i"],[71,40,41,40],[71,42,41,42],[72,6,42,8],[72,12,42,14,"offset"],[72,18,42,20],[72,21,42,23,"i"],[72,22,42,24],[72,25,42,27,"reduceSize"],[72,35,42,37],[73,6,43,8],[73,10,43,12,"min"],[73,13,43,15],[73,16,43,18,"aVals"],[73,21,43,23],[73,22,43,24,"offset"],[73,28,43,30],[73,29,43,31],[74,6,44,8],[74,10,44,12,"minIndex"],[74,18,44,20],[74,21,44,23],[74,22,44,24],[75,6,45,8],[75,11,45,13],[75,15,45,17,"j"],[75,16,45,18],[75,19,45,21],[75,20,45,22],[75,22,45,24,"j"],[75,23,45,25],[75,26,45,28,"reduceSize"],[75,36,45,38],[75,38,45,40],[75,40,45,42,"j"],[75,41,45,43],[75,43,45,45],[76,8,46,12],[76,14,46,18,"value"],[76,19,46,23],[76,22,46,26,"aVals"],[76,27,46,31],[76,28,46,32,"offset"],[76,34,46,38],[76,37,46,41,"j"],[76,38,46,42],[76,39,46,43],[77,8,47,12],[77,12,47,16,"value"],[77,17,47,21],[77,20,47,24,"min"],[77,23,47,27],[77,25,47,29],[78,10,48,16,"min"],[78,13,48,19],[78,16,48,22,"value"],[78,21,48,27],[79,10,49,16,"minIndex"],[79,18,49,24],[79,21,49,27,"j"],[79,22,49,28],[80,8,50,12],[81,6,51,8],[82,6,52,8,"vals"],[82,10,52,12],[82,11,52,13,"i"],[82,12,52,14],[82,13,52,15],[82,16,52,18,"minIndex"],[82,24,52,26],[83,4,53,4],[84,4,54,4,"intermediateTensorInfos"],[84,27,54,27],[84,28,54,28,"forEach"],[84,35,54,35],[84,36,54,36,"t"],[84,37,54,37],[84,41,54,41,"backend"],[84,48,54,48],[84,49,54,49,"disposeIntermediateTensorInfo"],[84,78,54,78],[84,79,54,79,"t"],[84,80,54,80],[84,81,54,81],[84,82,54,82],[85,4,55,4],[85,11,55,11,"backend"],[85,18,55,18],[85,19,55,19,"makeTensorInfo"],[85,33,55,33],[85,34,55,34,"outShape"],[85,42,55,42],[85,44,55,44],[85,51,55,51],[85,53,55,53,"vals"],[85,57,55,57],[85,58,55,58],[86,2,56,0],[87,2,57,7],[87,8,57,13,"argMinConfig"],[87,20,57,25],[87,23,57,28],[88,4,58,4,"kernelName"],[88,14,58,14],[88,16,58,16,"ArgMin"],[88,35,58,22],[88,36,58,22,"ArgMin"],[88,42,58,22],[89,4,59,4,"backendName"],[89,15,59,15],[89,17,59,17],[89,22,59,22],[90,4,60,4,"kernelFunc"],[90,14,60,14],[90,16,60,16,"argMin"],[91,2,61,0],[91,3,61,1],[92,0,61,2],[92,3]],"functionMap":{"names":["<global>","argMin","intermediateTensorInfos.forEach$argument_0"],"mappings":"AAA;OCmB;oCCkC,6CD;CDE"},"hasCjsExports":false},"type":"js/module"}]}