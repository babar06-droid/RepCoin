{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.fromMemory = fromMemory;\n  exports.fromMemorySync = fromMemorySync;\n  exports.withSaveHandler = withSaveHandler;\n  exports.withSaveHandlerSync = withSaveHandlerSync;\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n  class PassthroughLoader {\n    constructor(modelArtifacts) {\n      this.modelArtifacts = modelArtifacts;\n    }\n    load() {\n      return this.modelArtifacts;\n    }\n  }\n  class PassthroughSaver {\n    constructor(saveHandler) {\n      this.saveHandler = saveHandler;\n    }\n    save(modelArtifacts) {\n      return this.saveHandler(modelArtifacts);\n    }\n  }\n  class PassthroughAsync {\n    constructor(handler) {\n      if (handler.load) {\n        this.load = () => Promise.resolve(handler.load());\n      }\n      if (handler.save) {\n        this.save = modelArtifacts => Promise.resolve(handler.save(modelArtifacts));\n      }\n    }\n  }\n  /**\n   * Creates an IOHandler that loads model artifacts from memory.\n   *\n   * When used in conjunction with `tf.loadLayersModel`, an instance of\n   * `tf.LayersModel` (Keras-style) can be constructed from the loaded artifacts.\n   *\n   * ```js\n   * const model = await tf.loadLayersModel(tf.io.fromMemory(\n   *     modelTopology, weightSpecs, weightData));\n   * ```\n   *\n   * @param modelArtifacts a object containing model topology (i.e., parsed from\n   *   the JSON format).\n   * @param weightSpecs An array of `WeightsManifestEntry` objects describing the\n   *   names, shapes, types, and quantization of the weight data. Optional.\n   * @param weightData A single `ArrayBuffer` containing the weight data,\n   *   concatenated in the order described by the weightSpecs. Optional.\n   * @param trainingConfig Model training configuration. Optional.\n   *\n   * @returns A passthrough `IOHandler` that simply loads the provided data.\n   */\n  function fromMemory(modelArtifacts, weightSpecs, weightData, trainingConfig) {\n    const args = arguments;\n    return new PassthroughAsync(fromMemorySync(...args));\n  }\n  /**\n   * Creates an IOHandler that loads model artifacts from memory.\n   *\n   * When used in conjunction with `tf.loadLayersModel`, an instance of\n   * `tf.LayersModel` (Keras-style) can be constructed from the loaded artifacts.\n   *\n   * ```js\n   * const model = await tf.loadLayersModel(tf.io.fromMemory(\n   *     modelTopology, weightSpecs, weightData));\n   * ```\n   *\n   * @param modelArtifacts a object containing model topology (i.e., parsed from\n   *   the JSON format).\n   * @param weightSpecs An array of `WeightsManifestEntry` objects describing the\n   *   names, shapes, types, and quantization of the weight data. Optional.\n   * @param weightData A single `ArrayBuffer` containing the weight data,\n   *   concatenated in the order described by the weightSpecs. Optional.\n   * @param trainingConfig Model training configuration. Optional.\n   *\n   * @returns A passthrough `IOHandlerSync` that simply loads the provided data.\n   */\n  function fromMemorySync(modelArtifacts, weightSpecs, weightData, trainingConfig) {\n    if (arguments.length === 1) {\n      const isModelArtifacts = modelArtifacts.modelTopology != null || modelArtifacts.weightSpecs != null;\n      if (isModelArtifacts) {\n        return new PassthroughLoader(modelArtifacts);\n      } else {\n        // Legacy support: with only modelTopology.\n        // TODO(cais): Remove this deprecated API.\n        console.warn('Please call tf.io.fromMemory() with only one argument. ' + 'The argument should be of type ModelArtifacts. ' + 'The multi-argument signature of tf.io.fromMemory() has been ' + 'deprecated and will be removed in a future release.');\n        return new PassthroughLoader({\n          modelTopology: modelArtifacts\n        });\n      }\n    } else {\n      // Legacy support.\n      // TODO(cais): Remove this deprecated API.\n      console.warn('Please call tf.io.fromMemory() with only one argument. ' + 'The argument should be of type ModelArtifacts. ' + 'The multi-argument signature of tf.io.fromMemory() has been ' + 'deprecated and will be removed in a future release.');\n      return new PassthroughLoader({\n        modelTopology: modelArtifacts,\n        weightSpecs,\n        weightData,\n        trainingConfig\n      });\n    }\n  }\n  /**\n   * Creates an IOHandler that passes saved model artifacts to a callback.\n   *\n   * ```js\n   * function handleSave(artifacts) {\n   *   // ... do something with the artifacts ...\n   *   return {modelArtifactsInfo: {...}, ...};\n   * }\n   *\n   * const saveResult = model.save(tf.io.withSaveHandler(handleSave));\n   * ```\n   *\n   * @param saveHandler A function that accepts a `ModelArtifacts` and returns a\n   *     promise that resolves to a `SaveResult`.\n   */\n  function withSaveHandler(saveHandler) {\n    return new PassthroughSaver(saveHandler);\n  }\n  /**\n   * Creates an IOHandlerSync that passes saved model artifacts to a callback.\n   *\n   * ```js\n   * function handleSave(artifacts) {\n   *   // ... do something with the artifacts ...\n   *   return {modelArtifactsInfo: {...}, ...};\n   * }\n   *\n   * const saveResult = model.save(tf.io.withSaveHandler(handleSave));\n   * ```\n   *\n   * @param saveHandler A function that accepts a `ModelArtifacts` and returns a\n   *     `SaveResult`.\n   */\n  function withSaveHandlerSync(saveHandler) {\n    return new PassthroughSaver(saveHandler);\n  }\n});","lineCount":160,"map":[[7,2,64,0,"exports"],[7,9,64,0],[7,10,64,0,"fromMemory"],[7,20,64,0],[7,23,64,0,"fromMemory"],[7,33,64,0],[8,2,89,0,"exports"],[8,9,89,0],[8,10,89,0,"fromMemorySync"],[8,24,89,0],[8,27,89,0,"fromMemorySync"],[8,41,89,0],[9,2,136,0,"exports"],[9,9,136,0],[9,10,136,0,"withSaveHandler"],[9,25,136,0],[9,28,136,0,"withSaveHandler"],[9,43,136,0],[10,2,154,0,"exports"],[10,9,154,0],[10,10,154,0,"withSaveHandlerSync"],[10,29,154,0],[10,32,154,0,"withSaveHandlerSync"],[10,51,154,0],[11,2,1,0],[12,0,2,0],[13,0,3,0],[14,0,4,0],[15,0,5,0],[16,0,6,0],[17,0,7,0],[18,0,8,0],[19,0,9,0],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,2,17,0],[27,8,17,6,"PassthroughLoader"],[27,25,17,23],[27,26,17,24],[28,4,18,4,"constructor"],[28,15,18,15,"constructor"],[28,16,18,16,"modelArtifacts"],[28,30,18,30],[28,32,18,32],[29,6,19,8],[29,10,19,12],[29,11,19,13,"modelArtifacts"],[29,25,19,27],[29,28,19,30,"modelArtifacts"],[29,42,19,44],[30,4,20,4],[31,4,21,4,"load"],[31,8,21,8,"load"],[31,9,21,8],[31,11,21,11],[32,6,22,8],[32,13,22,15],[32,17,22,19],[32,18,22,20,"modelArtifacts"],[32,32,22,34],[33,4,23,4],[34,2,24,0],[35,2,25,0],[35,8,25,6,"PassthroughSaver"],[35,24,25,22],[35,25,25,23],[36,4,26,4,"constructor"],[36,15,26,15,"constructor"],[36,16,26,16,"saveHandler"],[36,27,26,27],[36,29,26,29],[37,6,27,8],[37,10,27,12],[37,11,27,13,"saveHandler"],[37,22,27,24],[37,25,27,27,"saveHandler"],[37,36,27,38],[38,4,28,4],[39,4,29,4,"save"],[39,8,29,8,"save"],[39,9,29,9,"modelArtifacts"],[39,23,29,23],[39,25,29,25],[40,6,30,8],[40,13,30,15],[40,17,30,19],[40,18,30,20,"saveHandler"],[40,29,30,31],[40,30,30,32,"modelArtifacts"],[40,44,30,46],[40,45,30,47],[41,4,31,4],[42,2,32,0],[43,2,33,0],[43,8,33,6,"PassthroughAsync"],[43,24,33,22],[43,25,33,23],[44,4,34,4,"constructor"],[44,15,34,15,"constructor"],[44,16,34,16,"handler"],[44,23,34,23],[44,25,34,25],[45,6,35,8],[45,10,35,12,"handler"],[45,17,35,19],[45,18,35,20,"load"],[45,22,35,24],[45,24,35,26],[46,8,36,12],[46,12,36,16],[46,13,36,17,"load"],[46,17,36,21],[46,20,36,24],[46,26,36,30,"Promise"],[46,33,36,37],[46,34,36,38,"resolve"],[46,41,36,45],[46,42,36,46,"handler"],[46,49,36,53],[46,50,36,54,"load"],[46,54,36,58],[46,55,36,59],[46,56,36,60],[46,57,36,61],[47,6,37,8],[48,6,38,8],[48,10,38,12,"handler"],[48,17,38,19],[48,18,38,20,"save"],[48,22,38,24],[48,24,38,26],[49,8,39,12],[49,12,39,16],[49,13,39,17,"save"],[49,17,39,21],[49,20,39,25,"modelArtifacts"],[49,34,39,39],[49,38,39,44,"Promise"],[49,45,39,51],[49,46,39,52,"resolve"],[49,53,39,59],[49,54,39,60,"handler"],[49,61,39,67],[49,62,39,68,"save"],[49,66,39,72],[49,67,39,73,"modelArtifacts"],[49,81,39,87],[49,82,39,88],[49,83,39,89],[50,6,40,8],[51,4,41,4],[52,2,42,0],[53,2,43,0],[54,0,44,0],[55,0,45,0],[56,0,46,0],[57,0,47,0],[58,0,48,0],[59,0,49,0],[60,0,50,0],[61,0,51,0],[62,0,52,0],[63,0,53,0],[64,0,54,0],[65,0,55,0],[66,0,56,0],[67,0,57,0],[68,0,58,0],[69,0,59,0],[70,0,60,0],[71,0,61,0],[72,0,62,0],[73,0,63,0],[74,2,64,7],[74,11,64,16,"fromMemory"],[74,21,64,26,"fromMemory"],[74,22,64,27,"modelArtifacts"],[74,36,64,41],[74,38,64,43,"weightSpecs"],[74,49,64,54],[74,51,64,56,"weightData"],[74,61,64,66],[74,63,64,68,"trainingConfig"],[74,77,64,82],[74,79,64,84],[75,4,65,4],[75,10,65,10,"args"],[75,14,65,14],[75,17,65,17,"arguments"],[75,26,65,26],[76,4,66,4],[76,11,66,11],[76,15,66,15,"PassthroughAsync"],[76,31,66,31],[76,32,66,32,"fromMemorySync"],[76,46,66,46],[76,47,66,47],[76,50,66,50,"args"],[76,54,66,54],[76,55,66,55],[76,56,66,56],[77,2,67,0],[78,2,68,0],[79,0,69,0],[80,0,70,0],[81,0,71,0],[82,0,72,0],[83,0,73,0],[84,0,74,0],[85,0,75,0],[86,0,76,0],[87,0,77,0],[88,0,78,0],[89,0,79,0],[90,0,80,0],[91,0,81,0],[92,0,82,0],[93,0,83,0],[94,0,84,0],[95,0,85,0],[96,0,86,0],[97,0,87,0],[98,0,88,0],[99,2,89,7],[99,11,89,16,"fromMemorySync"],[99,25,89,30,"fromMemorySync"],[99,26,89,31,"modelArtifacts"],[99,40,89,45],[99,42,89,47,"weightSpecs"],[99,53,89,58],[99,55,89,60,"weightData"],[99,65,89,70],[99,67,89,72,"trainingConfig"],[99,81,89,86],[99,83,89,88],[100,4,90,4],[100,8,90,8,"arguments"],[100,17,90,17],[100,18,90,18,"length"],[100,24,90,24],[100,29,90,29],[100,30,90,30],[100,32,90,32],[101,6,91,8],[101,12,91,14,"isModelArtifacts"],[101,28,91,30],[101,31,91,33,"modelArtifacts"],[101,45,91,47],[101,46,91,48,"modelTopology"],[101,59,91,61],[101,63,91,65],[101,67,91,69],[101,71,92,12,"modelArtifacts"],[101,85,92,26],[101,86,92,27,"weightSpecs"],[101,97,92,38],[101,101,92,42],[101,105,92,46],[102,6,93,8],[102,10,93,12,"isModelArtifacts"],[102,26,93,28],[102,28,93,30],[103,8,94,12],[103,15,94,19],[103,19,94,23,"PassthroughLoader"],[103,36,94,40],[103,37,94,41,"modelArtifacts"],[103,51,94,55],[103,52,94,56],[104,6,95,8],[104,7,95,9],[104,13,96,13],[105,8,97,12],[106,8,98,12],[107,8,99,12,"console"],[107,15,99,19],[107,16,99,20,"warn"],[107,20,99,24],[107,21,99,25],[107,78,99,82],[107,81,100,16],[107,130,100,65],[107,133,101,16],[107,195,101,78],[107,198,102,16],[107,251,102,69],[107,252,102,70],[108,8,103,12],[108,15,103,19],[108,19,103,23,"PassthroughLoader"],[108,36,103,40],[108,37,103,41],[109,10,103,43,"modelTopology"],[109,23,103,56],[109,25,103,58,"modelArtifacts"],[110,8,103,73],[110,9,103,74],[110,10,103,75],[111,6,104,8],[112,4,105,4],[112,5,105,5],[112,11,106,9],[113,6,107,8],[114,6,108,8],[115,6,109,8,"console"],[115,13,109,15],[115,14,109,16,"warn"],[115,18,109,20],[115,19,109,21],[115,76,109,78],[115,79,110,12],[115,128,110,61],[115,131,111,12],[115,193,111,74],[115,196,112,12],[115,249,112,65],[115,250,112,66],[116,6,113,8],[116,13,113,15],[116,17,113,19,"PassthroughLoader"],[116,34,113,36],[116,35,113,37],[117,8,114,12,"modelTopology"],[117,21,114,25],[117,23,114,27,"modelArtifacts"],[117,37,114,41],[118,8,115,12,"weightSpecs"],[118,19,115,23],[119,8,116,12,"weightData"],[119,18,116,22],[120,8,117,12,"trainingConfig"],[121,6,118,8],[121,7,118,9],[121,8,118,10],[122,4,119,4],[123,2,120,0],[124,2,121,0],[125,0,122,0],[126,0,123,0],[127,0,124,0],[128,0,125,0],[129,0,126,0],[130,0,127,0],[131,0,128,0],[132,0,129,0],[133,0,130,0],[134,0,131,0],[135,0,132,0],[136,0,133,0],[137,0,134,0],[138,0,135,0],[139,2,136,7],[139,11,136,16,"withSaveHandler"],[139,26,136,31,"withSaveHandler"],[139,27,136,32,"saveHandler"],[139,38,136,43],[139,40,136,45],[140,4,137,4],[140,11,137,11],[140,15,137,15,"PassthroughSaver"],[140,31,137,31],[140,32,137,32,"saveHandler"],[140,43,137,43],[140,44,137,44],[141,2,138,0],[142,2,139,0],[143,0,140,0],[144,0,141,0],[145,0,142,0],[146,0,143,0],[147,0,144,0],[148,0,145,0],[149,0,146,0],[150,0,147,0],[151,0,148,0],[152,0,149,0],[153,0,150,0],[154,0,151,0],[155,0,152,0],[156,0,153,0],[157,2,154,7],[157,11,154,16,"withSaveHandlerSync"],[157,30,154,35,"withSaveHandlerSync"],[157,31,154,36,"saveHandler"],[157,42,154,47],[157,44,154,49],[158,4,155,4],[158,11,155,11],[158,15,155,15,"PassthroughSaver"],[158,31,155,31],[158,32,155,32,"saveHandler"],[158,43,155,43],[158,44,155,44],[159,2,156,0],[160,0,156,1],[160,3]],"functionMap":{"names":["<global>","PassthroughLoader","PassthroughLoader#constructor","PassthroughLoader#load","PassthroughSaver","PassthroughSaver#constructor","PassthroughSaver#save","PassthroughAsync","PassthroughAsync#constructor","load","save","fromMemory","fromMemorySync","withSaveHandler","withSaveHandlerSync"],"mappings":"AAA;ACgB;ICC;KDE;IEC;KFE;CDC;AIC;ICC;KDE;IEC;KFE;CJC;AOC;ICC;wBCE,qCD;wBEG,iEF;KDE;CPC;OWsB;CXG;OYsB;CZ+B;OagB;CbE;OcgB;CdE"},"hasCjsExports":false},"type":"js/module"}]}