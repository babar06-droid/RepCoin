{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"EPSILON_FLOAT32\", {\n    enumerable: true,\n    get: function () {\n      return EPSILON_FLOAT32;\n    }\n  });\n  Object.defineProperty(exports, \"EPSILON_FLOAT16\", {\n    enumerable: true,\n    get: function () {\n      return EPSILON_FLOAT16;\n    }\n  });\n  Object.defineProperty(exports, \"DataStorage\", {\n    enumerable: true,\n    get: function () {\n      return DataStorage;\n    }\n  });\n  Object.defineProperty(exports, \"KernelBackend\", {\n    enumerable: true,\n    get: function () {\n      return KernelBackend;\n    }\n  });\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n  const EPSILON_FLOAT32 = 1e-7;\n  const EPSILON_FLOAT16 = 1e-4;\n  /** Convenient class for storing tensor-related data. */\n  class DataStorage {\n    constructor(backend, dataMover) {\n      this.backend = backend;\n      this.dataMover = dataMover;\n      this.data = new WeakMap();\n      this.dataIdsCount = 0;\n    }\n    get(dataId) {\n      if (!this.data.has(dataId)) {\n        this.dataMover.moveData(this.backend, dataId);\n      }\n      return this.data.get(dataId);\n    }\n    set(dataId, value) {\n      this.dataIdsCount++;\n      this.data.set(dataId, value);\n    }\n    has(dataId) {\n      return this.data.has(dataId);\n    }\n    delete(dataId) {\n      this.dataIdsCount--;\n      return this.data.delete(dataId);\n    }\n    numDataIds() {\n      return this.dataIdsCount;\n    }\n  }\n  /**\n   * The interface that defines the kernels that should be implemented when\n   * adding a new backend. New backends don't need to implement every one of the\n   * methods, this can be done gradually (throw an error for unimplemented\n   * methods).\n   */\n  class KernelBackend {\n    refCount(dataId) {\n      return notYetImplemented('refCount');\n    }\n    incRef(dataId) {\n      return notYetImplemented('incRef');\n    }\n    timerAvailable() {\n      return true;\n    }\n    time(f) {\n      return notYetImplemented('time');\n    }\n    read(dataId) {\n      return notYetImplemented('read');\n    }\n    readSync(dataId) {\n      return notYetImplemented('readSync');\n    }\n    readToGPU(dataId, options) {\n      return notYetImplemented('readToGPU');\n    }\n    numDataIds() {\n      return notYetImplemented('numDataIds');\n    }\n    disposeData(dataId, force) {\n      return notYetImplemented('disposeData');\n    }\n    write(values, shape, dtype) {\n      return notYetImplemented('write');\n    }\n    move(dataId, values, shape, dtype, refCount) {\n      return notYetImplemented('move');\n    }\n    createTensorFromGPUData(values, shape, dtype) {\n      return notYetImplemented('createTensorFromGPUData');\n    }\n    memory() {\n      return notYetImplemented('memory');\n    }\n    /** Returns the highest precision for floats in bits (e.g. 16 or 32) */\n    floatPrecision() {\n      return notYetImplemented('floatPrecision');\n    }\n    /** Returns the smallest representable number.  */\n    epsilon() {\n      return this.floatPrecision() === 32 ? EPSILON_FLOAT32 : EPSILON_FLOAT16;\n    }\n    dispose() {\n      return notYetImplemented('dispose');\n    }\n  }\n  function notYetImplemented(kernelName) {\n    throw new Error(`'${kernelName}' not yet implemented or not found in the registry. ` + `This kernel may not be supported by the tfjs backend you have chosen`);\n  }\n});","lineCount":139,"map":[[7,2,17,0,"Object"],[7,8,17,0],[7,9,17,0,"defineProperty"],[7,23,17,0],[7,24,17,0,"exports"],[7,31,17,0],[8,4,17,0,"enumerable"],[8,14,17,0],[9,4,17,0,"get"],[9,7,17,0],[9,18,17,0,"get"],[9,19,17,0],[10,6,17,0],[10,13,17,0,"EPSILON_FLOAT32"],[10,28,17,0],[11,4,17,0],[12,2,17,0],[13,2,18,0,"Object"],[13,8,18,0],[13,9,18,0,"defineProperty"],[13,23,18,0],[13,24,18,0,"exports"],[13,31,18,0],[14,4,18,0,"enumerable"],[14,14,18,0],[15,4,18,0,"get"],[15,7,18,0],[15,18,18,0,"get"],[15,19,18,0],[16,6,18,0],[16,13,18,0,"EPSILON_FLOAT16"],[16,28,18,0],[17,4,18,0],[18,2,18,0],[19,2,20,0,"Object"],[19,8,20,0],[19,9,20,0,"defineProperty"],[19,23,20,0],[19,24,20,0,"exports"],[19,31,20,0],[20,4,20,0,"enumerable"],[20,14,20,0],[21,4,20,0,"get"],[21,7,20,0],[21,18,20,0,"get"],[21,19,20,0],[22,6,20,0],[22,13,20,0,"DataStorage"],[22,24,20,0],[23,4,20,0],[24,2,20,0],[25,2,54,0,"Object"],[25,8,54,0],[25,9,54,0,"defineProperty"],[25,23,54,0],[25,24,54,0,"exports"],[25,31,54,0],[26,4,54,0,"enumerable"],[26,14,54,0],[27,4,54,0,"get"],[27,7,54,0],[27,18,54,0,"get"],[27,19,54,0],[28,6,54,0],[28,13,54,0,"KernelBackend"],[28,26,54,0],[29,4,54,0],[30,2,54,0],[31,2,1,0],[32,0,2,0],[33,0,3,0],[34,0,4,0],[35,0,5,0],[36,0,6,0],[37,0,7,0],[38,0,8,0],[39,0,9,0],[40,0,10,0],[41,0,11,0],[42,0,12,0],[43,0,13,0],[44,0,14,0],[45,0,15,0],[46,0,16,0],[47,2,17,7],[47,8,17,13,"EPSILON_FLOAT32"],[47,23,17,28],[47,26,17,31],[47,30,17,35],[48,2,18,7],[48,8,18,13,"EPSILON_FLOAT16"],[48,23,18,28],[48,26,18,31],[48,30,18,35],[49,2,19,0],[50,2,20,7],[50,8,20,13,"DataStorage"],[50,19,20,24],[50,20,20,25],[51,4,21,4,"constructor"],[51,15,21,15,"constructor"],[51,16,21,16,"backend"],[51,23,21,23],[51,25,21,25,"dataMover"],[51,34,21,34],[51,36,21,36],[52,6,22,8],[52,10,22,12],[52,11,22,13,"backend"],[52,18,22,20],[52,21,22,23,"backend"],[52,28,22,30],[53,6,23,8],[53,10,23,12],[53,11,23,13,"dataMover"],[53,20,23,22],[53,23,23,25,"dataMover"],[53,32,23,34],[54,6,24,8],[54,10,24,12],[54,11,24,13,"data"],[54,15,24,17],[54,18,24,20],[54,22,24,24,"WeakMap"],[54,29,24,31],[54,30,24,32],[54,31,24,33],[55,6,25,8],[55,10,25,12],[55,11,25,13,"dataIdsCount"],[55,23,25,25],[55,26,25,28],[55,27,25,29],[56,4,26,4],[57,4,27,4,"get"],[57,7,27,7,"get"],[57,8,27,8,"dataId"],[57,14,27,14],[57,16,27,16],[58,6,28,8],[58,10,28,12],[58,11,28,13],[58,15,28,17],[58,16,28,18,"data"],[58,20,28,22],[58,21,28,23,"has"],[58,24,28,26],[58,25,28,27,"dataId"],[58,31,28,33],[58,32,28,34],[58,34,28,36],[59,8,29,12],[59,12,29,16],[59,13,29,17,"dataMover"],[59,22,29,26],[59,23,29,27,"moveData"],[59,31,29,35],[59,32,29,36],[59,36,29,40],[59,37,29,41,"backend"],[59,44,29,48],[59,46,29,50,"dataId"],[59,52,29,56],[59,53,29,57],[60,6,30,8],[61,6,31,8],[61,13,31,15],[61,17,31,19],[61,18,31,20,"data"],[61,22,31,24],[61,23,31,25,"get"],[61,26,31,28],[61,27,31,29,"dataId"],[61,33,31,35],[61,34,31,36],[62,4,32,4],[63,4,33,4,"set"],[63,7,33,7,"set"],[63,8,33,8,"dataId"],[63,14,33,14],[63,16,33,16,"value"],[63,21,33,21],[63,23,33,23],[64,6,34,8],[64,10,34,12],[64,11,34,13,"dataIdsCount"],[64,23,34,25],[64,25,34,27],[65,6,35,8],[65,10,35,12],[65,11,35,13,"data"],[65,15,35,17],[65,16,35,18,"set"],[65,19,35,21],[65,20,35,22,"dataId"],[65,26,35,28],[65,28,35,30,"value"],[65,33,35,35],[65,34,35,36],[66,4,36,4],[67,4,37,4,"has"],[67,7,37,7,"has"],[67,8,37,8,"dataId"],[67,14,37,14],[67,16,37,16],[68,6,38,8],[68,13,38,15],[68,17,38,19],[68,18,38,20,"data"],[68,22,38,24],[68,23,38,25,"has"],[68,26,38,28],[68,27,38,29,"dataId"],[68,33,38,35],[68,34,38,36],[69,4,39,4],[70,4,40,4,"delete"],[70,10,40,10,"delete"],[70,11,40,11,"dataId"],[70,17,40,17],[70,19,40,19],[71,6,41,8],[71,10,41,12],[71,11,41,13,"dataIdsCount"],[71,23,41,25],[71,25,41,27],[72,6,42,8],[72,13,42,15],[72,17,42,19],[72,18,42,20,"data"],[72,22,42,24],[72,23,42,25,"delete"],[72,29,42,31],[72,30,42,32,"dataId"],[72,36,42,38],[72,37,42,39],[73,4,43,4],[74,4,44,4,"numDataIds"],[74,14,44,14,"numDataIds"],[74,15,44,14],[74,17,44,17],[75,6,45,8],[75,13,45,15],[75,17,45,19],[75,18,45,20,"dataIdsCount"],[75,30,45,32],[76,4,46,4],[77,2,47,0],[78,2,48,0],[79,0,49,0],[80,0,50,0],[81,0,51,0],[82,0,52,0],[83,0,53,0],[84,2,54,7],[84,8,54,13,"KernelBackend"],[84,21,54,26],[84,22,54,27],[85,4,55,4,"refCount"],[85,12,55,12,"refCount"],[85,13,55,13,"dataId"],[85,19,55,19],[85,21,55,21],[86,6,56,8],[86,13,56,15,"notYetImplemented"],[86,30,56,32],[86,31,56,33],[86,41,56,43],[86,42,56,44],[87,4,57,4],[88,4,58,4,"incRef"],[88,10,58,10,"incRef"],[88,11,58,11,"dataId"],[88,17,58,17],[88,19,58,19],[89,6,59,8],[89,13,59,15,"notYetImplemented"],[89,30,59,32],[89,31,59,33],[89,39,59,41],[89,40,59,42],[90,4,60,4],[91,4,61,4,"timerAvailable"],[91,18,61,18,"timerAvailable"],[91,19,61,18],[91,21,61,21],[92,6,62,8],[92,13,62,15],[92,17,62,19],[93,4,63,4],[94,4,64,4,"time"],[94,8,64,8,"time"],[94,9,64,9,"f"],[94,10,64,10],[94,12,64,12],[95,6,65,8],[95,13,65,15,"notYetImplemented"],[95,30,65,32],[95,31,65,33],[95,37,65,39],[95,38,65,40],[96,4,66,4],[97,4,67,4,"read"],[97,8,67,8,"read"],[97,9,67,9,"dataId"],[97,15,67,15],[97,17,67,17],[98,6,68,8],[98,13,68,15,"notYetImplemented"],[98,30,68,32],[98,31,68,33],[98,37,68,39],[98,38,68,40],[99,4,69,4],[100,4,70,4,"readSync"],[100,12,70,12,"readSync"],[100,13,70,13,"dataId"],[100,19,70,19],[100,21,70,21],[101,6,71,8],[101,13,71,15,"notYetImplemented"],[101,30,71,32],[101,31,71,33],[101,41,71,43],[101,42,71,44],[102,4,72,4],[103,4,73,4,"readToGPU"],[103,13,73,13,"readToGPU"],[103,14,73,14,"dataId"],[103,20,73,20],[103,22,73,22,"options"],[103,29,73,29],[103,31,73,31],[104,6,74,8],[104,13,74,15,"notYetImplemented"],[104,30,74,32],[104,31,74,33],[104,42,74,44],[104,43,74,45],[105,4,75,4],[106,4,76,4,"numDataIds"],[106,14,76,14,"numDataIds"],[106,15,76,14],[106,17,76,17],[107,6,77,8],[107,13,77,15,"notYetImplemented"],[107,30,77,32],[107,31,77,33],[107,43,77,45],[107,44,77,46],[108,4,78,4],[109,4,79,4,"disposeData"],[109,15,79,15,"disposeData"],[109,16,79,16,"dataId"],[109,22,79,22],[109,24,79,24,"force"],[109,29,79,29],[109,31,79,31],[110,6,80,8],[110,13,80,15,"notYetImplemented"],[110,30,80,32],[110,31,80,33],[110,44,80,46],[110,45,80,47],[111,4,81,4],[112,4,82,4,"write"],[112,9,82,9,"write"],[112,10,82,10,"values"],[112,16,82,16],[112,18,82,18,"shape"],[112,23,82,23],[112,25,82,25,"dtype"],[112,30,82,30],[112,32,82,32],[113,6,83,8],[113,13,83,15,"notYetImplemented"],[113,30,83,32],[113,31,83,33],[113,38,83,40],[113,39,83,41],[114,4,84,4],[115,4,85,4,"move"],[115,8,85,8,"move"],[115,9,85,9,"dataId"],[115,15,85,15],[115,17,85,17,"values"],[115,23,85,23],[115,25,85,25,"shape"],[115,30,85,30],[115,32,85,32,"dtype"],[115,37,85,37],[115,39,85,39,"refCount"],[115,47,85,47],[115,49,85,49],[116,6,86,8],[116,13,86,15,"notYetImplemented"],[116,30,86,32],[116,31,86,33],[116,37,86,39],[116,38,86,40],[117,4,87,4],[118,4,88,4,"createTensorFromGPUData"],[118,27,88,27,"createTensorFromGPUData"],[118,28,88,28,"values"],[118,34,88,34],[118,36,88,36,"shape"],[118,41,88,41],[118,43,88,43,"dtype"],[118,48,88,48],[118,50,88,50],[119,6,89,8],[119,13,89,15,"notYetImplemented"],[119,30,89,32],[119,31,89,33],[119,56,89,58],[119,57,89,59],[120,4,90,4],[121,4,91,4,"memory"],[121,10,91,10,"memory"],[121,11,91,10],[121,13,91,13],[122,6,92,8],[122,13,92,15,"notYetImplemented"],[122,30,92,32],[122,31,92,33],[122,39,92,41],[122,40,92,42],[123,4,93,4],[124,4,94,4],[125,4,95,4,"floatPrecision"],[125,18,95,18,"floatPrecision"],[125,19,95,18],[125,21,95,21],[126,6,96,8],[126,13,96,15,"notYetImplemented"],[126,30,96,32],[126,31,96,33],[126,47,96,49],[126,48,96,50],[127,4,97,4],[128,4,98,4],[129,4,99,4,"epsilon"],[129,11,99,11,"epsilon"],[129,12,99,11],[129,14,99,14],[130,6,100,8],[130,13,100,15],[130,17,100,19],[130,18,100,20,"floatPrecision"],[130,32,100,34],[130,33,100,35],[130,34,100,36],[130,39,100,41],[130,41,100,43],[130,44,100,46,"EPSILON_FLOAT32"],[130,59,100,61],[130,62,100,64,"EPSILON_FLOAT16"],[130,77,100,79],[131,4,101,4],[132,4,102,4,"dispose"],[132,11,102,11,"dispose"],[132,12,102,11],[132,14,102,14],[133,6,103,8],[133,13,103,15,"notYetImplemented"],[133,30,103,32],[133,31,103,33],[133,40,103,42],[133,41,103,43],[134,4,104,4],[135,2,105,0],[136,2,106,0],[136,11,106,9,"notYetImplemented"],[136,28,106,26,"notYetImplemented"],[136,29,106,27,"kernelName"],[136,39,106,37],[136,41,106,39],[137,4,107,4],[137,10,107,10],[137,14,107,14,"Error"],[137,19,107,19],[137,20,107,20],[137,24,107,24,"kernelName"],[137,34,107,34],[137,88,107,88],[137,91,108,8],[137,161,108,78],[137,162,108,79],[138,2,109,0],[139,0,109,1],[139,3]],"functionMap":{"names":["<global>","DataStorage","DataStorage#constructor","DataStorage#get","DataStorage#set","DataStorage#has","DataStorage#_delete","DataStorage#numDataIds","KernelBackend","KernelBackend#refCount","KernelBackend#incRef","KernelBackend#timerAvailable","KernelBackend#time","KernelBackend#read","KernelBackend#readSync","KernelBackend#readToGPU","KernelBackend#numDataIds","KernelBackend#disposeData","KernelBackend#write","KernelBackend#move","KernelBackend#createTensorFromGPUData","KernelBackend#memory","KernelBackend#floatPrecision","KernelBackend#epsilon","KernelBackend#dispose","notYetImplemented"],"mappings":"AAA;OCmB;ICC;KDK;IEC;KFK;IGC;KHG;IIC;KJE;IKC;KLG;IMC;KNE;CDC;OQO;ICC;KDE;IEC;KFE;IGC;KHE;IIC;KJE;IKC;KLE;IMC;KNE;IOC;KPE;IQC;KRE;ISC;KTE;IUC;KVE;IWC;KXE;IYC;KZE;IaC;KbE;IcE;KdE;IeE;KfE;IgBC;KhBE;CRC;AyBC;CzBG"},"hasCjsExports":false},"type":"js/module"}]}