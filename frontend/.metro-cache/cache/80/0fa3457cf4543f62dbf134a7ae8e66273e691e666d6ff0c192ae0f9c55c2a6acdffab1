{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":52,"index":755}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../multinomial_gpu","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":756},"end":{"line":18,"column":56,"index":812}}],"key":"UuhsI7dgqRh/3iITlWUPmobLMtk=","exportNames":["*"],"imports":1}},{"name":"./Softmax","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":813},"end":{"line":19,"column":36,"index":849}}],"key":"KJi1e1aVZC/6HHZjRf54gwG0A/4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.multinomial = multinomial;\n  Object.defineProperty(exports, \"multinomialConfig\", {\n    enumerable: true,\n    get: function () {\n      return multinomialConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var _multinomial_gpu = require(_dependencyMap[1], \"../multinomial_gpu\");\n  var _Softmax = require(_dependencyMap[2], \"./Softmax\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function multinomial(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      logits\n    } = inputs;\n    const {\n      numSamples,\n      seed,\n      normalized\n    } = attrs;\n    const probs = normalized ? logits : (0, _Softmax.softmax)({\n      inputs: {\n        logits\n      },\n      backend,\n      attrs: {\n        dim: logits.shape.length - 1\n      }\n    });\n    const batchSize = probs.shape[0];\n    const numOutcomes = probs.shape[1];\n    const program = new _multinomial_gpu.MultinomialProgram(batchSize, numOutcomes, numSamples);\n    const customValues = [[seed]];\n    const res = backend.runWebGLProgram(program, [probs], 'int32', customValues);\n    if (!normalized) {\n      backend.disposeIntermediateTensorInfo(probs);\n    }\n    return res;\n  }\n  const multinomialConfig = {\n    kernelName: _tensorflowTfjsCore.Multinomial,\n    backendName: 'webgl',\n    kernelFunc: multinomial\n  };\n});","lineCount":72,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"multinomial"],[7,21,20,0],[7,24,20,0,"multinomial"],[7,35,20,0],[8,2,37,0,"Object"],[8,8,37,0],[8,9,37,0,"defineProperty"],[8,23,37,0],[8,24,37,0,"exports"],[8,31,37,0],[9,4,37,0,"enumerable"],[9,14,37,0],[10,4,37,0,"get"],[10,7,37,0],[10,18,37,0,"get"],[10,19,37,0],[11,6,37,0],[11,13,37,0,"multinomialConfig"],[11,30,37,0],[12,4,37,0],[13,2,37,0],[14,2,17,0],[14,6,17,0,"_tensorflowTfjsCore"],[14,25,17,0],[14,28,17,0,"require"],[14,35,17,0],[14,36,17,0,"_dependencyMap"],[14,50,17,0],[15,2,18,0],[15,6,18,0,"_multinomial_gpu"],[15,22,18,0],[15,25,18,0,"require"],[15,32,18,0],[15,33,18,0,"_dependencyMap"],[15,47,18,0],[16,2,19,0],[16,6,19,0,"_Softmax"],[16,14,19,0],[16,17,19,0,"require"],[16,24,19,0],[16,25,19,0,"_dependencyMap"],[16,39,19,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,0,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[34,2,20,7],[34,11,20,16,"multinomial"],[34,22,20,27,"multinomial"],[34,23,20,28,"args"],[34,27,20,32],[34,29,20,34],[35,4,21,4],[35,10,21,10],[36,6,21,12,"inputs"],[36,12,21,18],[37,6,21,20,"backend"],[37,13,21,27],[38,6,21,29,"attrs"],[39,4,21,35],[39,5,21,36],[39,8,21,39,"args"],[39,12,21,43],[40,4,22,4],[40,10,22,10],[41,6,22,12,"logits"],[42,4,22,19],[42,5,22,20],[42,8,22,23,"inputs"],[42,14,22,29],[43,4,23,4],[43,10,23,10],[44,6,23,12,"numSamples"],[44,16,23,22],[45,6,23,24,"seed"],[45,10,23,28],[46,6,23,30,"normalized"],[47,4,23,41],[47,5,23,42],[47,8,23,45,"attrs"],[47,13,23,50],[48,4,24,4],[48,10,24,10,"probs"],[48,15,24,15],[48,18,24,18,"normalized"],[48,28,24,28],[48,31,25,8,"logits"],[48,37,25,14],[48,40,26,8],[48,44,26,8,"softmax"],[48,52,26,15],[48,53,26,15,"softmax"],[48,60,26,15],[48,62,26,16],[49,6,26,18,"inputs"],[49,12,26,24],[49,14,26,26],[50,8,26,28,"logits"],[51,6,26,35],[51,7,26,36],[52,6,26,38,"backend"],[52,13,26,45],[53,6,26,47,"attrs"],[53,11,26,52],[53,13,26,54],[54,8,26,56,"dim"],[54,11,26,59],[54,13,26,61,"logits"],[54,19,26,67],[54,20,26,68,"shape"],[54,25,26,73],[54,26,26,74,"length"],[54,32,26,80],[54,35,26,83],[55,6,26,85],[56,4,26,87],[56,5,26,88],[56,6,26,89],[57,4,27,4],[57,10,27,10,"batchSize"],[57,19,27,19],[57,22,27,22,"probs"],[57,27,27,27],[57,28,27,28,"shape"],[57,33,27,33],[57,34,27,34],[57,35,27,35],[57,36,27,36],[58,4,28,4],[58,10,28,10,"numOutcomes"],[58,21,28,21],[58,24,28,24,"probs"],[58,29,28,29],[58,30,28,30,"shape"],[58,35,28,35],[58,36,28,36],[58,37,28,37],[58,38,28,38],[59,4,29,4],[59,10,29,10,"program"],[59,17,29,17],[59,20,29,20],[59,24,29,24,"MultinomialProgram"],[59,40,29,42],[59,41,29,42,"MultinomialProgram"],[59,59,29,42],[59,60,29,43,"batchSize"],[59,69,29,52],[59,71,29,54,"numOutcomes"],[59,82,29,65],[59,84,29,67,"numSamples"],[59,94,29,77],[59,95,29,78],[60,4,30,4],[60,10,30,10,"customValues"],[60,22,30,22],[60,25,30,25],[60,26,30,26],[60,27,30,27,"seed"],[60,31,30,31],[60,32,30,32],[60,33,30,33],[61,4,31,4],[61,10,31,10,"res"],[61,13,31,13],[61,16,31,16,"backend"],[61,23,31,23],[61,24,31,24,"runWebGLProgram"],[61,39,31,39],[61,40,31,40,"program"],[61,47,31,47],[61,49,31,49],[61,50,31,50,"probs"],[61,55,31,55],[61,56,31,56],[61,58,31,58],[61,65,31,65],[61,67,31,67,"customValues"],[61,79,31,79],[61,80,31,80],[62,4,32,4],[62,8,32,8],[62,9,32,9,"normalized"],[62,19,32,19],[62,21,32,21],[63,6,33,8,"backend"],[63,13,33,15],[63,14,33,16,"disposeIntermediateTensorInfo"],[63,43,33,45],[63,44,33,46,"probs"],[63,49,33,51],[63,50,33,52],[64,4,34,4],[65,4,35,4],[65,11,35,11,"res"],[65,14,35,14],[66,2,36,0],[67,2,37,7],[67,8,37,13,"multinomialConfig"],[67,25,37,30],[67,28,37,33],[68,4,38,4,"kernelName"],[68,14,38,14],[68,16,38,16,"Multinomial"],[68,35,38,27],[68,36,38,27,"Multinomial"],[68,47,38,27],[69,4,39,4,"backendName"],[69,15,39,15],[69,17,39,17],[69,24,39,24],[70,4,40,4,"kernelFunc"],[70,14,40,14],[70,16,40,16,"multinomial"],[71,2,41,0],[71,3,41,1],[72,0,41,2],[72,3]],"functionMap":{"names":["<global>","multinomial"],"mappings":"AAA;OCmB;CDgB"},"hasCjsExports":false},"type":"js/module"}]}