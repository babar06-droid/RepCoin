{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":44,"index":747}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.clearWebGLContext = clearWebGLContext;\n  exports.setWebGLContext = setWebGLContext;\n  exports.getWebGLContext = getWebGLContext;\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  const contexts = {};\n  const WEBGL_ATTRIBUTES = {\n    alpha: false,\n    antialias: false,\n    premultipliedAlpha: false,\n    preserveDrawingBuffer: false,\n    depth: false,\n    stencil: false,\n    failIfMajorPerformanceCaveat: true\n  };\n  function clearWebGLContext(webGLVersion) {\n    delete contexts[webGLVersion];\n  }\n  function setWebGLContext(webGLVersion, gl) {\n    contexts[webGLVersion] = gl;\n  }\n  function getWebGLContext(webGLVersion, customCanvas) {\n    if (!(webGLVersion in contexts) || customCanvas != null) {\n      const newCtx = getWebGLRenderingContext(webGLVersion, customCanvas);\n      if (newCtx !== null) {\n        contexts[webGLVersion] = newCtx;\n      } else {\n        console.log('Could not get context for WebGL version', webGLVersion);\n        return null;\n      }\n    }\n    const gl = contexts[webGLVersion];\n    if (gl == null || gl.isContextLost()) {\n      delete contexts[webGLVersion];\n      return getWebGLContext(webGLVersion);\n    }\n    gl.disable(gl.DEPTH_TEST);\n    gl.disable(gl.STENCIL_TEST);\n    gl.disable(gl.BLEND);\n    gl.disable(gl.DITHER);\n    gl.disable(gl.POLYGON_OFFSET_FILL);\n    gl.disable(gl.SAMPLE_COVERAGE);\n    gl.enable(gl.SCISSOR_TEST);\n    gl.enable(gl.CULL_FACE);\n    gl.cullFace(gl.BACK);\n    return contexts[webGLVersion];\n  }\n  function createCanvas(webGLVersion) {\n    // Use canvas element for Safari, since its offscreen canvas does not support\n    // fencing.\n    if (!(0, _tensorflowTfjsCore.env)().getBool('IS_SAFARI') && typeof OffscreenCanvas !== 'undefined' && webGLVersion === 2) {\n      return new OffscreenCanvas(300, 150);\n    } else if (typeof document !== 'undefined') {\n      return document.createElement('canvas');\n    } else {\n      throw new Error('Cannot create a canvas in this context');\n    }\n  }\n  function getWebGLRenderingContext(webGLVersion, customCanvas) {\n    if (webGLVersion !== 1 && webGLVersion !== 2) {\n      throw new Error('Cannot get WebGL rendering context, WebGL is disabled.');\n    }\n    const canvas = customCanvas == null ? createCanvas(webGLVersion) : customCanvas;\n    canvas.addEventListener('webglcontextlost', ev => {\n      ev.preventDefault();\n      delete contexts[webGLVersion];\n    }, false);\n    if ((0, _tensorflowTfjsCore.env)().getBool('SOFTWARE_WEBGL_ENABLED')) {\n      WEBGL_ATTRIBUTES.failIfMajorPerformanceCaveat = false;\n    }\n    if (webGLVersion === 1) {\n      return (\n        // tslint:disable-next-line\n        canvas.getContext('webgl', WEBGL_ATTRIBUTES) || canvas.getContext('experimental-webgl', WEBGL_ATTRIBUTES)\n      );\n    }\n    return canvas.getContext('webgl2', WEBGL_ATTRIBUTES);\n  }\n});","lineCount":101,"map":[[7,2,28,0,"exports"],[7,9,28,0],[7,10,28,0,"clearWebGLContext"],[7,27,28,0],[7,30,28,0,"clearWebGLContext"],[7,47,28,0],[8,2,31,0,"exports"],[8,9,31,0],[8,10,31,0,"setWebGLContext"],[8,25,31,0],[8,28,31,0,"setWebGLContext"],[8,43,31,0],[9,2,34,0,"exports"],[9,9,34,0],[9,10,34,0,"getWebGLContext"],[9,25,34,0],[9,28,34,0,"getWebGLContext"],[9,43,34,0],[10,2,17,0],[10,6,17,0,"_tensorflowTfjsCore"],[10,25,17,0],[10,28,17,0,"require"],[10,35,17,0],[10,36,17,0,"_dependencyMap"],[10,50,17,0],[11,2,1,0],[12,0,2,0],[13,0,3,0],[14,0,4,0],[15,0,5,0],[16,0,6,0],[17,0,7,0],[18,0,8,0],[19,0,9,0],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[28,2,18,0],[28,8,18,6,"contexts"],[28,16,18,14],[28,19,18,17],[28,20,18,18],[28,21,18,19],[29,2,19,0],[29,8,19,6,"WEBGL_ATTRIBUTES"],[29,24,19,22],[29,27,19,25],[30,4,20,4,"alpha"],[30,9,20,9],[30,11,20,11],[30,16,20,16],[31,4,21,4,"antialias"],[31,13,21,13],[31,15,21,15],[31,20,21,20],[32,4,22,4,"premultipliedAlpha"],[32,22,22,22],[32,24,22,24],[32,29,22,29],[33,4,23,4,"preserveDrawingBuffer"],[33,25,23,25],[33,27,23,27],[33,32,23,32],[34,4,24,4,"depth"],[34,9,24,9],[34,11,24,11],[34,16,24,16],[35,4,25,4,"stencil"],[35,11,25,11],[35,13,25,13],[35,18,25,18],[36,4,26,4,"failIfMajorPerformanceCaveat"],[36,32,26,32],[36,34,26,34],[37,2,27,0],[37,3,27,1],[38,2,28,7],[38,11,28,16,"clearWebGLContext"],[38,28,28,33,"clearWebGLContext"],[38,29,28,34,"webGLVersion"],[38,41,28,46],[38,43,28,48],[39,4,29,4],[39,11,29,11,"contexts"],[39,19,29,19],[39,20,29,20,"webGLVersion"],[39,32,29,32],[39,33,29,33],[40,2,30,0],[41,2,31,7],[41,11,31,16,"setWebGLContext"],[41,26,31,31,"setWebGLContext"],[41,27,31,32,"webGLVersion"],[41,39,31,44],[41,41,31,46,"gl"],[41,43,31,48],[41,45,31,50],[42,4,32,4,"contexts"],[42,12,32,12],[42,13,32,13,"webGLVersion"],[42,25,32,25],[42,26,32,26],[42,29,32,29,"gl"],[42,31,32,31],[43,2,33,0],[44,2,34,7],[44,11,34,16,"getWebGLContext"],[44,26,34,31,"getWebGLContext"],[44,27,34,32,"webGLVersion"],[44,39,34,44],[44,41,34,46,"customCanvas"],[44,53,34,58],[44,55,34,60],[45,4,35,4],[45,8,35,8],[45,10,35,10,"webGLVersion"],[45,22,35,22],[45,26,35,26,"contexts"],[45,34,35,34],[45,35,35,35],[45,39,35,39,"customCanvas"],[45,51,35,51],[45,55,35,55],[45,59,35,59],[45,61,35,61],[46,6,36,8],[46,12,36,14,"newCtx"],[46,18,36,20],[46,21,36,23,"getWebGLRenderingContext"],[46,45,36,47],[46,46,36,48,"webGLVersion"],[46,58,36,60],[46,60,36,62,"customCanvas"],[46,72,36,74],[46,73,36,75],[47,6,37,8],[47,10,37,12,"newCtx"],[47,16,37,18],[47,21,37,23],[47,25,37,27],[47,27,37,29],[48,8,38,12,"contexts"],[48,16,38,20],[48,17,38,21,"webGLVersion"],[48,29,38,33],[48,30,38,34],[48,33,38,37,"newCtx"],[48,39,38,43],[49,6,39,8],[49,7,39,9],[49,13,40,13],[50,8,41,12,"console"],[50,15,41,19],[50,16,41,20,"log"],[50,19,41,23],[50,20,41,24],[50,61,41,65],[50,63,41,67,"webGLVersion"],[50,75,41,79],[50,76,41,80],[51,8,42,12],[51,15,42,19],[51,19,42,23],[52,6,43,8],[53,4,44,4],[54,4,45,4],[54,10,45,10,"gl"],[54,12,45,12],[54,15,45,15,"contexts"],[54,23,45,23],[54,24,45,24,"webGLVersion"],[54,36,45,36],[54,37,45,37],[55,4,46,4],[55,8,46,8,"gl"],[55,10,46,10],[55,14,46,14],[55,18,46,18],[55,22,46,22,"gl"],[55,24,46,24],[55,25,46,25,"isContextLost"],[55,38,46,38],[55,39,46,39],[55,40,46,40],[55,42,46,42],[56,6,47,8],[56,13,47,15,"contexts"],[56,21,47,23],[56,22,47,24,"webGLVersion"],[56,34,47,36],[56,35,47,37],[57,6,48,8],[57,13,48,15,"getWebGLContext"],[57,28,48,30],[57,29,48,31,"webGLVersion"],[57,41,48,43],[57,42,48,44],[58,4,49,4],[59,4,50,4,"gl"],[59,6,50,6],[59,7,50,7,"disable"],[59,14,50,14],[59,15,50,15,"gl"],[59,17,50,17],[59,18,50,18,"DEPTH_TEST"],[59,28,50,28],[59,29,50,29],[60,4,51,4,"gl"],[60,6,51,6],[60,7,51,7,"disable"],[60,14,51,14],[60,15,51,15,"gl"],[60,17,51,17],[60,18,51,18,"STENCIL_TEST"],[60,30,51,30],[60,31,51,31],[61,4,52,4,"gl"],[61,6,52,6],[61,7,52,7,"disable"],[61,14,52,14],[61,15,52,15,"gl"],[61,17,52,17],[61,18,52,18,"BLEND"],[61,23,52,23],[61,24,52,24],[62,4,53,4,"gl"],[62,6,53,6],[62,7,53,7,"disable"],[62,14,53,14],[62,15,53,15,"gl"],[62,17,53,17],[62,18,53,18,"DITHER"],[62,24,53,24],[62,25,53,25],[63,4,54,4,"gl"],[63,6,54,6],[63,7,54,7,"disable"],[63,14,54,14],[63,15,54,15,"gl"],[63,17,54,17],[63,18,54,18,"POLYGON_OFFSET_FILL"],[63,37,54,37],[63,38,54,38],[64,4,55,4,"gl"],[64,6,55,6],[64,7,55,7,"disable"],[64,14,55,14],[64,15,55,15,"gl"],[64,17,55,17],[64,18,55,18,"SAMPLE_COVERAGE"],[64,33,55,33],[64,34,55,34],[65,4,56,4,"gl"],[65,6,56,6],[65,7,56,7,"enable"],[65,13,56,13],[65,14,56,14,"gl"],[65,16,56,16],[65,17,56,17,"SCISSOR_TEST"],[65,29,56,29],[65,30,56,30],[66,4,57,4,"gl"],[66,6,57,6],[66,7,57,7,"enable"],[66,13,57,13],[66,14,57,14,"gl"],[66,16,57,16],[66,17,57,17,"CULL_FACE"],[66,26,57,26],[66,27,57,27],[67,4,58,4,"gl"],[67,6,58,6],[67,7,58,7,"cullFace"],[67,15,58,15],[67,16,58,16,"gl"],[67,18,58,18],[67,19,58,19,"BACK"],[67,23,58,23],[67,24,58,24],[68,4,59,4],[68,11,59,11,"contexts"],[68,19,59,19],[68,20,59,20,"webGLVersion"],[68,32,59,32],[68,33,59,33],[69,2,60,0],[70,2,61,0],[70,11,61,9,"createCanvas"],[70,23,61,21,"createCanvas"],[70,24,61,22,"webGLVersion"],[70,36,61,34],[70,38,61,36],[71,4,62,4],[72,4,63,4],[73,4,64,4],[73,8,64,8],[73,9,64,9],[73,13,64,9,"env"],[73,32,64,12],[73,33,64,12,"env"],[73,36,64,12],[73,38,64,13],[73,39,64,14],[73,40,64,15,"getBool"],[73,47,64,22],[73,48,64,23],[73,59,64,34],[73,60,64,35],[73,64,64,39],[73,71,64,46,"OffscreenCanvas"],[73,86,64,61],[73,91,64,66],[73,102,64,77],[73,106,65,8,"webGLVersion"],[73,118,65,20],[73,123,65,25],[73,124,65,26],[73,126,65,28],[74,6,66,8],[74,13,66,15],[74,17,66,19,"OffscreenCanvas"],[74,32,66,34],[74,33,66,35],[74,36,66,38],[74,38,66,40],[74,41,66,43],[74,42,66,44],[75,4,67,4],[75,5,67,5],[75,11,68,9],[75,15,68,13],[75,22,68,20,"document"],[75,30,68,28],[75,35,68,33],[75,46,68,44],[75,48,68,46],[76,6,69,8],[76,13,69,15,"document"],[76,21,69,23],[76,22,69,24,"createElement"],[76,35,69,37],[76,36,69,38],[76,44,69,46],[76,45,69,47],[77,4,70,4],[77,5,70,5],[77,11,71,9],[78,6,72,8],[78,12,72,14],[78,16,72,18,"Error"],[78,21,72,23],[78,22,72,24],[78,62,72,64],[78,63,72,65],[79,4,73,4],[80,2,74,0],[81,2,75,0],[81,11,75,9,"getWebGLRenderingContext"],[81,35,75,33,"getWebGLRenderingContext"],[81,36,75,34,"webGLVersion"],[81,48,75,46],[81,50,75,48,"customCanvas"],[81,62,75,60],[81,64,75,62],[82,4,76,4],[82,8,76,8,"webGLVersion"],[82,20,76,20],[82,25,76,25],[82,26,76,26],[82,30,76,30,"webGLVersion"],[82,42,76,42],[82,47,76,47],[82,48,76,48],[82,50,76,50],[83,6,77,8],[83,12,77,14],[83,16,77,18,"Error"],[83,21,77,23],[83,22,77,24],[83,78,77,80],[83,79,77,81],[84,4,78,4],[85,4,79,4],[85,10,79,10,"canvas"],[85,16,79,16],[85,19,79,19,"customCanvas"],[85,31,79,31],[85,35,79,35],[85,39,79,39],[85,42,79,42,"createCanvas"],[85,54,79,54],[85,55,79,55,"webGLVersion"],[85,67,79,67],[85,68,79,68],[85,71,79,71,"customCanvas"],[85,83,79,83],[86,4,80,4,"canvas"],[86,10,80,10],[86,11,80,11,"addEventListener"],[86,27,80,27],[86,28,80,28],[86,46,80,46],[86,48,80,49,"ev"],[86,50,80,51],[86,54,80,56],[87,6,81,8,"ev"],[87,8,81,10],[87,9,81,11,"preventDefault"],[87,23,81,25],[87,24,81,26],[87,25,81,27],[88,6,82,8],[88,13,82,15,"contexts"],[88,21,82,23],[88,22,82,24,"webGLVersion"],[88,34,82,36],[88,35,82,37],[89,4,83,4],[89,5,83,5],[89,7,83,7],[89,12,83,12],[89,13,83,13],[90,4,84,4],[90,8,84,8],[90,12,84,8,"env"],[90,31,84,11],[90,32,84,11,"env"],[90,35,84,11],[90,37,84,12],[90,38,84,13],[90,39,84,14,"getBool"],[90,46,84,21],[90,47,84,22],[90,71,84,46],[90,72,84,47],[90,74,84,49],[91,6,85,8,"WEBGL_ATTRIBUTES"],[91,22,85,24],[91,23,85,25,"failIfMajorPerformanceCaveat"],[91,51,85,53],[91,54,85,56],[91,59,85,61],[92,4,86,4],[93,4,87,4],[93,8,87,8,"webGLVersion"],[93,20,87,20],[93,25,87,25],[93,26,87,26],[93,28,87,28],[94,6,88,8],[95,8,89,8],[96,8,90,8,"canvas"],[96,14,90,14],[96,15,90,15,"getContext"],[96,25,90,25],[96,26,90,26],[96,33,90,33],[96,35,90,35,"WEBGL_ATTRIBUTES"],[96,51,90,51],[96,52,90,52],[96,56,91,12,"canvas"],[96,62,91,18],[96,63,92,17,"getContext"],[96,73,92,27],[96,74,92,28],[96,94,92,48],[96,96,92,50,"WEBGL_ATTRIBUTES"],[96,112,92,66],[97,6,92,67],[98,4,93,4],[99,4,94,4],[99,11,94,11,"canvas"],[99,17,94,17],[99,18,94,18,"getContext"],[99,28,94,28],[99,29,94,29],[99,37,94,37],[99,39,94,39,"WEBGL_ATTRIBUTES"],[99,55,94,55],[99,56,94,56],[100,2,95,0],[101,0,95,1],[101,3]],"functionMap":{"names":["<global>","clearWebGLContext","setWebGLContext","getWebGLContext","createCanvas","getWebGLRenderingContext","canvas.addEventListener$argument_1"],"mappings":"AAA;OC2B;CDE;OEC;CFE;OGC;CH0B;AIC;CJa;AKC;gDCK;KDG;CLY"},"hasCjsExports":false},"type":"js/module"}]}