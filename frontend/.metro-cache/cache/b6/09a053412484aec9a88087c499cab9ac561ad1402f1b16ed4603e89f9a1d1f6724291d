{"dependencies":[{"name":"@tensorflow/tfjs-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":703},"end":{"line":17,"column":44,"index":747}}],"key":"qIleUpSDMUXFynEGc51k60/pDSs=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/shared","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":800},"end":{"line":19,"column":53,"index":853}}],"key":"JzS9qfQGP0NvwhobUV8d6bPV3h4=","exportNames":["*"],"imports":1}},{"name":"./Complex","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":854},"end":{"line":20,"column":36,"index":890}}],"key":"Bysb0JPMWrey4b1smc9YxxmirUY=","exportNames":["*"],"imports":1}},{"name":"./Identity","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":891},"end":{"line":21,"column":38,"index":929}}],"key":"fmoGkMbvl3R/HMlCKK1PD8/q2lc=","exportNames":["*"],"imports":1}},{"name":"./NotEqual","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":930},"end":{"line":22,"column":38,"index":968}}],"key":"rujm2sDoZEobdnSuuM1pSW+Ym+Y=","exportNames":["*"],"imports":1}},{"name":"./Real","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":969},"end":{"line":23,"column":30,"index":999}}],"key":"AadiE4zTOuUk7AFE56N1ZF9owr0=","exportNames":["*"],"imports":1}},{"name":"../kernel_utils/int","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":1000},"end":{"line":24,"column":42,"index":1042}}],"key":"R/POXt5C3uCDMFPsPwmv6h5+tCs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.cast = cast;\n  Object.defineProperty(exports, \"castConfig\", {\n    enumerable: true,\n    get: function () {\n      return castConfig;\n    }\n  });\n  var _tensorflowTfjsCore = require(_dependencyMap[0], \"@tensorflow/tfjs-core\");\n  var tf = _interopNamespace(_tensorflowTfjsCore);\n  var _kernel_utilsShared = require(_dependencyMap[1], \"../kernel_utils/shared\");\n  var _Complex = require(_dependencyMap[2], \"./Complex\");\n  var _Identity = require(_dependencyMap[3], \"./Identity\");\n  var _NotEqual = require(_dependencyMap[4], \"./NotEqual\");\n  var _Real = require(_dependencyMap[5], \"./Real\");\n  var _kernel_utilsInt = require(_dependencyMap[6], \"../kernel_utils/int\");\n  /**\n   * @license\n   * Copyright 2020 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */\n\n  function cast(args) {\n    const {\n      inputs,\n      backend,\n      attrs\n    } = args;\n    const {\n      x\n    } = inputs;\n    const {\n      dtype\n    } = attrs;\n    // Casting to complex64.\n    if (dtype === 'complex64') {\n      if (x.dtype === 'complex64') {\n        return (0, _Identity.identity)({\n          inputs: {\n            x\n          },\n          backend\n        });\n      }\n      // TODO(annxingyuan): Import kernel function once zeros is modularized.\n      const zerosTensor = tf.zeros(x.shape);\n      const floatX = cast({\n        inputs: {\n          x\n        },\n        backend,\n        attrs: {\n          dtype: 'float32'\n        }\n      });\n      const result = (0, _Complex.complex)({\n        inputs: {\n          real: floatX,\n          imag: zerosTensor\n        },\n        backend\n      });\n      zerosTensor.dispose();\n      backend.disposeIntermediateTensorInfo(floatX);\n      return result;\n    }\n    // Casting from complex64\n    if (x.dtype === 'complex64') {\n      const realPart = (0, _Real.real)({\n        inputs: {\n          input: x\n        },\n        backend\n      });\n      const result = cast({\n        inputs: {\n          x: realPart\n        },\n        backend,\n        attrs: {\n          dtype\n        }\n      });\n      backend.disposeIntermediateTensorInfo(realPart);\n      return result;\n    }\n    if (!_tensorflowTfjsCore.util.hasEncodingLoss(x.dtype, dtype)) {\n      // We don't change the underlying data, since we cast to higher\n      // precision.\n      const result = (0, _Identity.identity)({\n        inputs: {\n          x\n        },\n        backend\n      });\n      return {\n        dataId: result.dataId,\n        shape: result.shape,\n        dtype\n      };\n    }\n    if (backend.shouldExecuteOnCPU([x])) {\n      const values = backend.texData.get(x.dataId).values;\n      const [resultShape, resultType, resultData] = (0, _kernel_utilsShared.castImplCPU)(values, x.shape, x.dtype, dtype);\n      return backend.makeTensorInfo(resultShape, resultType, resultData);\n    }\n    if (dtype === 'int32') {\n      return (0, _kernel_utilsInt.int)(x, backend);\n    }\n    if (dtype === 'bool') {\n      const zerosTensorInfo = backend.makeTensorInfo([], 'bool', _tensorflowTfjsCore.util.getTypedArrayFromDType('bool', 1));\n      const binaryInputs = {\n        a: x,\n        b: zerosTensorInfo\n      };\n      const result = (0, _NotEqual.notEqual)({\n        inputs: binaryInputs,\n        backend\n      });\n      backend.disposeIntermediateTensorInfo(zerosTensorInfo);\n      return result;\n    }\n    throw new Error(`Error in Cast: failed to cast ${x.dtype} to ${dtype}`);\n  }\n  const castConfig = {\n    kernelName: _tensorflowTfjsCore.Cast,\n    backendName: 'webgl',\n    kernelFunc: cast\n  };\n});","lineCount":161,"map":[[22,2,25,0,"exports"],[22,9,25,0],[22,10,25,0,"cast"],[22,14,25,0],[22,17,25,0,"cast"],[22,21,25,0],[23,2,72,0,"Object"],[23,8,72,0],[23,9,72,0,"defineProperty"],[23,23,72,0],[23,24,72,0,"exports"],[23,31,72,0],[24,4,72,0,"enumerable"],[24,14,72,0],[25,4,72,0,"get"],[25,7,72,0],[25,18,72,0,"get"],[25,19,72,0],[26,6,72,0],[26,13,72,0,"castConfig"],[26,23,72,0],[27,4,72,0],[28,2,72,0],[29,2,17,0],[29,6,17,0,"_tensorflowTfjsCore"],[29,25,17,0],[29,28,17,0,"require"],[29,35,17,0],[29,36,17,0,"_dependencyMap"],[29,50,17,0],[30,2,17,0],[30,6,17,0,"tf"],[30,8,17,0],[30,11,17,0,"_interopNamespace"],[30,28,17,0],[30,29,17,0,"_tensorflowTfjsCore"],[30,48,17,0],[31,2,19,0],[31,6,19,0,"_kernel_utilsShared"],[31,25,19,0],[31,28,19,0,"require"],[31,35,19,0],[31,36,19,0,"_dependencyMap"],[31,50,19,0],[32,2,20,0],[32,6,20,0,"_Complex"],[32,14,20,0],[32,17,20,0,"require"],[32,24,20,0],[32,25,20,0,"_dependencyMap"],[32,39,20,0],[33,2,21,0],[33,6,21,0,"_Identity"],[33,15,21,0],[33,18,21,0,"require"],[33,25,21,0],[33,26,21,0,"_dependencyMap"],[33,40,21,0],[34,2,22,0],[34,6,22,0,"_NotEqual"],[34,15,22,0],[34,18,22,0,"require"],[34,25,22,0],[34,26,22,0,"_dependencyMap"],[34,40,22,0],[35,2,23,0],[35,6,23,0,"_Real"],[35,11,23,0],[35,14,23,0,"require"],[35,21,23,0],[35,22,23,0,"_dependencyMap"],[35,36,23,0],[36,2,24,0],[36,6,24,0,"_kernel_utilsInt"],[36,22,24,0],[36,25,24,0,"require"],[36,32,24,0],[36,33,24,0,"_dependencyMap"],[36,47,24,0],[37,2,1,0],[38,0,2,0],[39,0,3,0],[40,0,4,0],[41,0,5,0],[42,0,6,0],[43,0,7,0],[44,0,8,0],[45,0,9,0],[46,0,10,0],[47,0,11,0],[48,0,12,0],[49,0,13,0],[50,0,14,0],[51,0,15,0],[52,0,16,0],[54,2,25,7],[54,11,25,16,"cast"],[54,15,25,20,"cast"],[54,16,25,21,"args"],[54,20,25,25],[54,22,25,27],[55,4,26,4],[55,10,26,10],[56,6,26,12,"inputs"],[56,12,26,18],[57,6,26,20,"backend"],[57,13,26,27],[58,6,26,29,"attrs"],[59,4,26,35],[59,5,26,36],[59,8,26,39,"args"],[59,12,26,43],[60,4,27,4],[60,10,27,10],[61,6,27,12,"x"],[62,4,27,14],[62,5,27,15],[62,8,27,18,"inputs"],[62,14,27,24],[63,4,28,4],[63,10,28,10],[64,6,28,12,"dtype"],[65,4,28,18],[65,5,28,19],[65,8,28,22,"attrs"],[65,13,28,27],[66,4,29,4],[67,4,30,4],[67,8,30,8,"dtype"],[67,13,30,13],[67,18,30,18],[67,29,30,29],[67,31,30,31],[68,6,31,8],[68,10,31,12,"x"],[68,11,31,13],[68,12,31,14,"dtype"],[68,17,31,19],[68,22,31,24],[68,33,31,35],[68,35,31,37],[69,8,32,12],[69,15,32,19],[69,19,32,19,"identity"],[69,28,32,27],[69,29,32,27,"identity"],[69,37,32,27],[69,39,32,28],[70,10,32,30,"inputs"],[70,16,32,36],[70,18,32,38],[71,12,32,40,"x"],[72,10,32,42],[72,11,32,43],[73,10,32,45,"backend"],[74,8,32,53],[74,9,32,54],[74,10,32,55],[75,6,33,8],[76,6,34,8],[77,6,35,8],[77,12,35,14,"zerosTensor"],[77,23,35,25],[77,26,35,28,"tf"],[77,28,35,30],[77,29,35,31,"zeros"],[77,34,35,36],[77,35,35,37,"x"],[77,36,35,38],[77,37,35,39,"shape"],[77,42,35,44],[77,43,35,45],[78,6,36,8],[78,12,36,14,"floatX"],[78,18,36,20],[78,21,36,23,"cast"],[78,25,36,27],[78,26,36,28],[79,8,36,30,"inputs"],[79,14,36,36],[79,16,36,38],[80,10,36,40,"x"],[81,8,36,42],[81,9,36,43],[82,8,36,45,"backend"],[82,15,36,52],[83,8,36,54,"attrs"],[83,13,36,59],[83,15,36,61],[84,10,36,63,"dtype"],[84,15,36,68],[84,17,36,70],[85,8,36,80],[86,6,36,82],[86,7,36,83],[86,8,36,84],[87,6,37,8],[87,12,37,14,"result"],[87,18,37,20],[87,21,37,23],[87,25,37,23,"complex"],[87,33,37,30],[87,34,37,30,"complex"],[87,41,37,30],[87,43,37,31],[88,8,37,33,"inputs"],[88,14,37,39],[88,16,37,41],[89,10,37,43,"real"],[89,14,37,47],[89,16,37,49,"floatX"],[89,22,37,55],[90,10,37,57,"imag"],[90,14,37,61],[90,16,37,63,"zerosTensor"],[91,8,37,75],[91,9,37,76],[92,8,37,78,"backend"],[93,6,37,86],[93,7,37,87],[93,8,37,88],[94,6,38,8,"zerosTensor"],[94,17,38,19],[94,18,38,20,"dispose"],[94,25,38,27],[94,26,38,28],[94,27,38,29],[95,6,39,8,"backend"],[95,13,39,15],[95,14,39,16,"disposeIntermediateTensorInfo"],[95,43,39,45],[95,44,39,46,"floatX"],[95,50,39,52],[95,51,39,53],[96,6,40,8],[96,13,40,15,"result"],[96,19,40,21],[97,4,41,4],[98,4,42,4],[99,4,43,4],[99,8,43,8,"x"],[99,9,43,9],[99,10,43,10,"dtype"],[99,15,43,15],[99,20,43,20],[99,31,43,31],[99,33,43,33],[100,6,44,8],[100,12,44,14,"realPart"],[100,20,44,22],[100,23,44,25],[100,27,44,25,"real"],[100,32,44,29],[100,33,44,29,"real"],[100,37,44,29],[100,39,44,30],[101,8,44,32,"inputs"],[101,14,44,38],[101,16,44,40],[102,10,44,42,"input"],[102,15,44,47],[102,17,44,49,"x"],[103,8,44,51],[103,9,44,52],[104,8,44,54,"backend"],[105,6,44,62],[105,7,44,63],[105,8,44,64],[106,6,45,8],[106,12,45,14,"result"],[106,18,45,20],[106,21,45,23,"cast"],[106,25,45,27],[106,26,45,28],[107,8,45,30,"inputs"],[107,14,45,36],[107,16,45,38],[108,10,45,40,"x"],[108,11,45,41],[108,13,45,43,"realPart"],[109,8,45,52],[109,9,45,53],[110,8,45,55,"backend"],[110,15,45,62],[111,8,45,64,"attrs"],[111,13,45,69],[111,15,45,71],[112,10,45,73,"dtype"],[113,8,45,79],[114,6,45,81],[114,7,45,82],[114,8,45,83],[115,6,46,8,"backend"],[115,13,46,15],[115,14,46,16,"disposeIntermediateTensorInfo"],[115,43,46,45],[115,44,46,46,"realPart"],[115,52,46,54],[115,53,46,55],[116,6,47,8],[116,13,47,15,"result"],[116,19,47,21],[117,4,48,4],[118,4,49,4],[118,8,49,8],[118,9,49,9,"util"],[118,28,49,13],[118,29,49,13,"util"],[118,33,49,13],[118,34,49,14,"hasEncodingLoss"],[118,49,49,29],[118,50,49,30,"x"],[118,51,49,31],[118,52,49,32,"dtype"],[118,57,49,37],[118,59,49,39,"dtype"],[118,64,49,44],[118,65,49,45],[118,67,49,47],[119,6,50,8],[120,6,51,8],[121,6,52,8],[121,12,52,14,"result"],[121,18,52,20],[121,21,52,23],[121,25,52,23,"identity"],[121,34,52,31],[121,35,52,31,"identity"],[121,43,52,31],[121,45,52,32],[122,8,52,34,"inputs"],[122,14,52,40],[122,16,52,42],[123,10,52,44,"x"],[124,8,52,46],[124,9,52,47],[125,8,52,49,"backend"],[126,6,52,57],[126,7,52,58],[126,8,52,59],[127,6,53,8],[127,13,53,15],[128,8,53,17,"dataId"],[128,14,53,23],[128,16,53,25,"result"],[128,22,53,31],[128,23,53,32,"dataId"],[128,29,53,38],[129,8,53,40,"shape"],[129,13,53,45],[129,15,53,47,"result"],[129,21,53,53],[129,22,53,54,"shape"],[129,27,53,59],[130,8,53,61,"dtype"],[131,6,53,67],[131,7,53,68],[132,4,54,4],[133,4,55,4],[133,8,55,8,"backend"],[133,15,55,15],[133,16,55,16,"shouldExecuteOnCPU"],[133,34,55,34],[133,35,55,35],[133,36,55,36,"x"],[133,37,55,37],[133,38,55,38],[133,39,55,39],[133,41,55,41],[134,6,56,8],[134,12,56,14,"values"],[134,18,56,20],[134,21,56,23,"backend"],[134,28,56,30],[134,29,56,31,"texData"],[134,36,56,38],[134,37,56,39,"get"],[134,40,56,42],[134,41,56,43,"x"],[134,42,56,44],[134,43,56,45,"dataId"],[134,49,56,51],[134,50,56,52],[134,51,56,53,"values"],[134,57,56,59],[135,6,57,8],[135,12,57,14],[135,13,57,15,"resultShape"],[135,24,57,26],[135,26,57,28,"resultType"],[135,36,57,38],[135,38,57,40,"resultData"],[135,48,57,50],[135,49,57,51],[135,52,57,54],[135,56,57,54,"castImplCPU"],[135,75,57,65],[135,76,57,65,"castImplCPU"],[135,87,57,65],[135,89,57,66,"values"],[135,95,57,72],[135,97,57,74,"x"],[135,98,57,75],[135,99,57,76,"shape"],[135,104,57,81],[135,106,57,83,"x"],[135,107,57,84],[135,108,57,85,"dtype"],[135,113,57,90],[135,115,57,92,"dtype"],[135,120,57,97],[135,121,57,98],[136,6,58,8],[136,13,58,15,"backend"],[136,20,58,22],[136,21,58,23,"makeTensorInfo"],[136,35,58,37],[136,36,58,38,"resultShape"],[136,47,58,49],[136,49,58,51,"resultType"],[136,59,58,61],[136,61,58,63,"resultData"],[136,71,58,73],[136,72,58,74],[137,4,59,4],[138,4,60,4],[138,8,60,8,"dtype"],[138,13,60,13],[138,18,60,18],[138,25,60,25],[138,27,60,27],[139,6,61,8],[139,13,61,15],[139,17,61,15,"int"],[139,33,61,18],[139,34,61,18,"int"],[139,37,61,18],[139,39,61,19,"x"],[139,40,61,20],[139,42,61,22,"backend"],[139,49,61,29],[139,50,61,30],[140,4,62,4],[141,4,63,4],[141,8,63,8,"dtype"],[141,13,63,13],[141,18,63,18],[141,24,63,24],[141,26,63,26],[142,6,64,8],[142,12,64,14,"zerosTensorInfo"],[142,27,64,29],[142,30,64,32,"backend"],[142,37,64,39],[142,38,64,40,"makeTensorInfo"],[142,52,64,54],[142,53,64,55],[142,55,64,57],[142,57,64,59],[142,63,64,65],[142,65,64,67,"util"],[142,84,64,71],[142,85,64,71,"util"],[142,89,64,71],[142,90,64,72,"getTypedArrayFromDType"],[142,112,64,94],[142,113,64,95],[142,119,64,101],[142,121,64,103],[142,122,64,104],[142,123,64,105],[142,124,64,106],[143,6,65,8],[143,12,65,14,"binaryInputs"],[143,24,65,26],[143,27,65,29],[144,8,65,31,"a"],[144,9,65,32],[144,11,65,34,"x"],[144,12,65,35],[145,8,65,37,"b"],[145,9,65,38],[145,11,65,40,"zerosTensorInfo"],[146,6,65,56],[146,7,65,57],[147,6,66,8],[147,12,66,14,"result"],[147,18,66,20],[147,21,66,23],[147,25,66,23,"notEqual"],[147,34,66,31],[147,35,66,31,"notEqual"],[147,43,66,31],[147,45,66,32],[148,8,66,34,"inputs"],[148,14,66,40],[148,16,66,42,"binaryInputs"],[148,28,66,54],[149,8,66,56,"backend"],[150,6,66,64],[150,7,66,65],[150,8,66,66],[151,6,67,8,"backend"],[151,13,67,15],[151,14,67,16,"disposeIntermediateTensorInfo"],[151,43,67,45],[151,44,67,46,"zerosTensorInfo"],[151,59,67,61],[151,60,67,62],[152,6,68,8],[152,13,68,15,"result"],[152,19,68,21],[153,4,69,4],[154,4,70,4],[154,10,70,10],[154,14,70,14,"Error"],[154,19,70,19],[154,20,70,20],[154,53,70,53,"x"],[154,54,70,54],[154,55,70,55,"dtype"],[154,60,70,60],[154,67,70,67,"dtype"],[154,72,70,72],[154,74,70,74],[154,75,70,75],[155,2,71,0],[156,2,72,7],[156,8,72,13,"castConfig"],[156,18,72,23],[156,21,72,26],[157,4,73,4,"kernelName"],[157,14,73,14],[157,16,73,16,"Cast"],[157,35,73,20],[157,36,73,20,"Cast"],[157,40,73,20],[158,4,74,4,"backendName"],[158,15,74,15],[158,17,74,17],[158,24,74,24],[159,4,75,4,"kernelFunc"],[159,14,75,14],[159,16,75,16,"cast"],[160,2,76,0],[160,3,76,1],[161,0,76,2],[161,3]],"functionMap":{"names":["<global>","cast"],"mappings":"AAA;OCwB;CD8C"},"hasCjsExports":false},"type":"js/module"}]}